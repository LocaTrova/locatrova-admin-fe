var Hp=Object.defineProperty;var Wp=(s,a,c)=>a in s?Hp(s,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[a]=c;var Gn=(s,a,c)=>Wp(s,typeof a!="symbol"?a+"":a,c);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const p of f)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function c(f){const p={};return f.integrity&&(p.integrity=f.integrity),f.referrerPolicy&&(p.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?p.credentials="include":f.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(f){if(f.ep)return;f.ep=!0;const p=c(f);fetch(f.href,p)}})();var ts=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function La(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var la={exports:{}},$r={},aa={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u;function qp(){if($u)return he;$u=1;var s=Symbol.for("react.element"),a=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),j=Symbol.iterator;function N(b){return b===null||typeof b!="object"?null:(b=j&&b[j]||b["@@iterator"],typeof b=="function"?b:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function R(b,O,ue){this.props=b,this.context=O,this.refs=k,this.updater=ue||P}R.prototype.isReactComponent={},R.prototype.setState=function(b,O){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,O,"setState")},R.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function z(){}z.prototype=R.prototype;function A(b,O,ue){this.props=b,this.context=O,this.refs=k,this.updater=ue||P}var Q=A.prototype=new z;Q.constructor=A,C(Q,R.prototype),Q.isPureReactComponent=!0;var q=Array.isArray,H=Object.prototype.hasOwnProperty,Y={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function F(b,O,ue){var M,te={},oe=null,re=null;if(O!=null)for(M in O.ref!==void 0&&(re=O.ref),O.key!==void 0&&(oe=""+O.key),O)H.call(O,M)&&!S.hasOwnProperty(M)&&(te[M]=O[M]);var de=arguments.length-2;if(de===1)te.children=ue;else if(1<de){for(var pe=Array(de),Ie=0;Ie<de;Ie++)pe[Ie]=arguments[Ie+2];te.children=pe}if(b&&b.defaultProps)for(M in de=b.defaultProps,de)te[M]===void 0&&(te[M]=de[M]);return{$$typeof:s,type:b,key:oe,ref:re,props:te,_owner:Y.current}}function I(b,O){return{$$typeof:s,type:b.type,key:O,ref:b.ref,props:b.props,_owner:b._owner}}function W(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function J(b){var O={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ue){return O[ue]})}var ge=/\/+/g;function ce(b,O){return typeof b=="object"&&b!==null&&b.key!=null?J(""+b.key):O.toString(36)}function me(b,O,ue,M,te){var oe=typeof b;(oe==="undefined"||oe==="boolean")&&(b=null);var re=!1;if(b===null)re=!0;else switch(oe){case"string":case"number":re=!0;break;case"object":switch(b.$$typeof){case s:case a:re=!0}}if(re)return re=b,te=te(re),b=M===""?"."+ce(re,0):M,q(te)?(ue="",b!=null&&(ue=b.replace(ge,"$&/")+"/"),me(te,O,ue,"",function(Ie){return Ie})):te!=null&&(W(te)&&(te=I(te,ue+(!te.key||re&&re.key===te.key?"":(""+te.key).replace(ge,"$&/")+"/")+b)),O.push(te)),1;if(re=0,M=M===""?".":M+":",q(b))for(var de=0;de<b.length;de++){oe=b[de];var pe=M+ce(oe,de);re+=me(oe,O,ue,pe,te)}else if(pe=N(b),typeof pe=="function")for(b=pe.call(b),de=0;!(oe=b.next()).done;)oe=oe.value,pe=M+ce(oe,de++),re+=me(oe,O,ue,pe,te);else if(oe==="object")throw O=String(b),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return re}function ye(b,O,ue){if(b==null)return b;var M=[],te=0;return me(b,M,"","",function(oe){return O.call(ue,oe,te++)}),M}function we(b){if(b._status===-1){var O=b._result;O=O(),O.then(function(ue){(b._status===0||b._status===-1)&&(b._status=1,b._result=ue)},function(ue){(b._status===0||b._status===-1)&&(b._status=2,b._result=ue)}),b._status===-1&&(b._status=0,b._result=O)}if(b._status===1)return b._result.default;throw b._result}var je={current:null},K={transition:null},se={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:K,ReactCurrentOwner:Y};function X(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:ye,forEach:function(b,O,ue){ye(b,function(){O.apply(this,arguments)},ue)},count:function(b){var O=0;return ye(b,function(){O++}),O},toArray:function(b){return ye(b,function(O){return O})||[]},only:function(b){if(!W(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},he.Component=R,he.Fragment=c,he.Profiler=f,he.PureComponent=A,he.StrictMode=u,he.Suspense=v,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,he.act=X,he.cloneElement=function(b,O,ue){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var M=C({},b.props),te=b.key,oe=b.ref,re=b._owner;if(O!=null){if(O.ref!==void 0&&(oe=O.ref,re=Y.current),O.key!==void 0&&(te=""+O.key),b.type&&b.type.defaultProps)var de=b.type.defaultProps;for(pe in O)H.call(O,pe)&&!S.hasOwnProperty(pe)&&(M[pe]=O[pe]===void 0&&de!==void 0?de[pe]:O[pe])}var pe=arguments.length-2;if(pe===1)M.children=ue;else if(1<pe){de=Array(pe);for(var Ie=0;Ie<pe;Ie++)de[Ie]=arguments[Ie+2];M.children=de}return{$$typeof:s,type:b.type,key:te,ref:oe,props:M,_owner:re}},he.createContext=function(b){return b={$$typeof:m,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:p,_context:b},b.Consumer=b},he.createElement=F,he.createFactory=function(b){var O=F.bind(null,b);return O.type=b,O},he.createRef=function(){return{current:null}},he.forwardRef=function(b){return{$$typeof:y,render:b}},he.isValidElement=W,he.lazy=function(b){return{$$typeof:T,_payload:{_status:-1,_result:b},_init:we}},he.memo=function(b,O){return{$$typeof:h,type:b,compare:O===void 0?null:O}},he.startTransition=function(b){var O=K.transition;K.transition={};try{b()}finally{K.transition=O}},he.unstable_act=X,he.useCallback=function(b,O){return je.current.useCallback(b,O)},he.useContext=function(b){return je.current.useContext(b)},he.useDebugValue=function(){},he.useDeferredValue=function(b){return je.current.useDeferredValue(b)},he.useEffect=function(b,O){return je.current.useEffect(b,O)},he.useId=function(){return je.current.useId()},he.useImperativeHandle=function(b,O,ue){return je.current.useImperativeHandle(b,O,ue)},he.useInsertionEffect=function(b,O){return je.current.useInsertionEffect(b,O)},he.useLayoutEffect=function(b,O){return je.current.useLayoutEffect(b,O)},he.useMemo=function(b,O){return je.current.useMemo(b,O)},he.useReducer=function(b,O,ue){return je.current.useReducer(b,O,ue)},he.useRef=function(b){return je.current.useRef(b)},he.useState=function(b){return je.current.useState(b)},he.useSyncExternalStore=function(b,O,ue){return je.current.useSyncExternalStore(b,O,ue)},he.useTransition=function(){return je.current.useTransition()},he.version="18.3.1",he}var Uu;function _a(){return Uu||(Uu=1,aa.exports=qp()),aa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu;function Qp(){if(Vu)return $r;Vu=1;var s=_a(),a=Symbol.for("react.element"),c=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,f=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function m(y,v,h){var T,j={},N=null,P=null;h!==void 0&&(N=""+h),v.key!==void 0&&(N=""+v.key),v.ref!==void 0&&(P=v.ref);for(T in v)u.call(v,T)&&!p.hasOwnProperty(T)&&(j[T]=v[T]);if(y&&y.defaultProps)for(T in v=y.defaultProps,v)j[T]===void 0&&(j[T]=v[T]);return{$$typeof:a,type:y,key:N,ref:P,props:j,_owner:f.current}}return $r.Fragment=c,$r.jsx=m,$r.jsxs=m,$r}var Bu;function Kp(){return Bu||(Bu=1,la.exports=Qp()),la.exports}var r=Kp(),g=_a();const Yp=La(g);var ns={},oa={exports:{}},et={},ca={exports:{}},ua={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu;function Gp(){return Hu||(Hu=1,function(s){function a(K,se){var X=K.length;K.push(se);e:for(;0<X;){var b=X-1>>>1,O=K[b];if(0<f(O,se))K[b]=se,K[X]=O,X=b;else break e}}function c(K){return K.length===0?null:K[0]}function u(K){if(K.length===0)return null;var se=K[0],X=K.pop();if(X!==se){K[0]=X;e:for(var b=0,O=K.length,ue=O>>>1;b<ue;){var M=2*(b+1)-1,te=K[M],oe=M+1,re=K[oe];if(0>f(te,X))oe<O&&0>f(re,te)?(K[b]=re,K[oe]=X,b=oe):(K[b]=te,K[M]=X,b=M);else if(oe<O&&0>f(re,X))K[b]=re,K[oe]=X,b=oe;else break e}}return se}function f(K,se){var X=K.sortIndex-se.sortIndex;return X!==0?X:K.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;s.unstable_now=function(){return p.now()}}else{var m=Date,y=m.now();s.unstable_now=function(){return m.now()-y}}var v=[],h=[],T=1,j=null,N=3,P=!1,C=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(K){for(var se=c(h);se!==null;){if(se.callback===null)u(h);else if(se.startTime<=K)u(h),se.sortIndex=se.expirationTime,a(v,se);else break;se=c(h)}}function q(K){if(k=!1,Q(K),!C)if(c(v)!==null)C=!0,we(H);else{var se=c(h);se!==null&&je(q,se.startTime-K)}}function H(K,se){C=!1,k&&(k=!1,z(F),F=-1),P=!0;var X=N;try{for(Q(se),j=c(v);j!==null&&(!(j.expirationTime>se)||K&&!J());){var b=j.callback;if(typeof b=="function"){j.callback=null,N=j.priorityLevel;var O=b(j.expirationTime<=se);se=s.unstable_now(),typeof O=="function"?j.callback=O:j===c(v)&&u(v),Q(se)}else u(v);j=c(v)}if(j!==null)var ue=!0;else{var M=c(h);M!==null&&je(q,M.startTime-se),ue=!1}return ue}finally{j=null,N=X,P=!1}}var Y=!1,S=null,F=-1,I=5,W=-1;function J(){return!(s.unstable_now()-W<I)}function ge(){if(S!==null){var K=s.unstable_now();W=K;var se=!0;try{se=S(!0,K)}finally{se?ce():(Y=!1,S=null)}}else Y=!1}var ce;if(typeof A=="function")ce=function(){A(ge)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ye=me.port2;me.port1.onmessage=ge,ce=function(){ye.postMessage(null)}}else ce=function(){R(ge,0)};function we(K){S=K,Y||(Y=!0,ce())}function je(K,se){F=R(function(){K(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_continueExecution=function(){C||P||(C=!0,we(H))},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_getFirstCallbackNode=function(){return c(v)},s.unstable_next=function(K){switch(N){case 1:case 2:case 3:var se=3;break;default:se=N}var X=N;N=se;try{return K()}finally{N=X}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var X=N;N=K;try{return se()}finally{N=X}},s.unstable_scheduleCallback=function(K,se,X){var b=s.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?b+X:b):X=b,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=X+O,K={id:T++,callback:se,priorityLevel:K,startTime:X,expirationTime:O,sortIndex:-1},X>b?(K.sortIndex=X,a(h,K),c(v)===null&&K===c(h)&&(k?(z(F),F=-1):k=!0,je(q,X-b))):(K.sortIndex=O,a(v,K),C||P||(C=!0,we(H))),K},s.unstable_shouldYield=J,s.unstable_wrapCallback=function(K){var se=N;return function(){var X=N;N=se;try{return K.apply(this,arguments)}finally{N=X}}}}(ua)),ua}var Wu;function Xp(){return Wu||(Wu=1,ca.exports=Gp()),ca.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu;function Jp(){if(qu)return et;qu=1;var s=_a(),a=Xp();function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,f={};function p(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(f[e]=t,e=0;e<t.length;e++)u.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},j={};function N(e){return v.call(j,e)?!0:v.call(T,e)?!1:h.test(e)?j[e]=!0:(T[e]=!0,!1)}function P(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,n,i){if(t===null||typeof t>"u"||P(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,n,i,l,o,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=d}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z,A);R[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z,A);R[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z,A);R[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function Q(e,t,n,i){var l=R.hasOwnProperty(t)?R[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,n,l,i)&&(n=null),i||l===null?N(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,i=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var q=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),Y=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),J=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),K=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,b;function O(e){if(b===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var ue=!1;function M(e,t){if(!e||ue)return"";ue=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(D){var i=D}Reflect.construct(e,[],t)}else{try{t.call()}catch(D){i=D}e.call(t.prototype)}else{try{throw Error()}catch(D){i=D}e()}}catch(D){if(D&&i&&typeof D.stack=="string"){for(var l=D.stack.split(`
`),o=i.stack.split(`
`),d=l.length-1,x=o.length-1;1<=d&&0<=x&&l[d]!==o[x];)x--;for(;1<=d&&0<=x;d--,x--)if(l[d]!==o[x]){if(d!==1||x!==1)do if(d--,x--,0>x||l[d]!==o[x]){var w=`
`+l[d].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=d&&0<=x);break}}}finally{ue=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function te(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1),e;case 11:return e=M(e.type.render,!1),e;case 1:return e=M(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case Y:return"Portal";case I:return"Profiler";case F:return"StrictMode";case ce:return"Suspense";case me:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J:return(e.displayName||"Context")+".Consumer";case W:return(e._context.displayName||"Context")+".Provider";case ge:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}function re(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(t);case 8:return t===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ie(e){var t=pe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(d){i=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gt(e){e._valueTracker||(e._valueTracker=Ie(e))}function Wa(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=pe(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ps(e,t){var n=t.checked;return X({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qa(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=de(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qa(e,t){t=t.checked,t!=null&&Q(e,"checked",t,!1)}function hs(e,t){Qa(e,t);var n=de(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ms(e,t.type,n):t.hasOwnProperty("defaultValue")&&ms(e,t.type,de(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ka(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ms(e,t,n){(t!=="number"||qr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tr=Array.isArray;function kn(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+de(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function gs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(c(91));return X({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ya(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(c(92));if(tr(n)){if(1<n.length)throw Error(c(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:de(n)}}function Ga(e,t){var n=de(t.value),i=de(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Xa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ja(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ja(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qr,Za=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kd=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(e){Kd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rr[t]=rr[e]})});function eo(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rr.hasOwnProperty(e)&&rr[e]?(""+t).trim():t+"px"}function to(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,l=eo(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,l):e[n]=l}}var Yd=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ys(e,t){if(t){if(Yd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(c(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(t.style!=null&&typeof t.style!="object")throw Error(c(62))}}function xs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var js=null;function Ns(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ws=null,En=null,Pn=null;function no(e){if(e=kr(e)){if(typeof ws!="function")throw Error(c(280));var t=e.stateNode;t&&(t=gi(t),ws(e.stateNode,e.type,t))}}function ro(e){En?Pn?Pn.push(e):Pn=[e]:En=e}function io(){if(En){var e=En,t=Pn;if(Pn=En=null,no(e),t)for(e=0;e<t.length;e++)no(t[e])}}function so(e,t){return e(t)}function lo(){}var Ss=!1;function ao(e,t,n){if(Ss)return e(t,n);Ss=!0;try{return so(e,t,n)}finally{Ss=!1,(En!==null||Pn!==null)&&(lo(),io())}}function ir(e,t){var n=e.stateNode;if(n===null)return null;var i=gi(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var Cs=!1;if(y)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Cs=!1}function Gd(e,t,n,i,l,o,d,x,w){var D=Array.prototype.slice.call(arguments,3);try{t.apply(n,D)}catch(U){this.onError(U)}}var lr=!1,Kr=null,Yr=!1,ks=null,Xd={onError:function(e){lr=!0,Kr=e}};function Jd(e,t,n,i,l,o,d,x,w){lr=!1,Kr=null,Gd.apply(Xd,arguments)}function Zd(e,t,n,i,l,o,d,x,w){if(Jd.apply(this,arguments),lr){if(lr){var D=Kr;lr=!1,Kr=null}else throw Error(c(198));Yr||(Yr=!0,ks=D)}}function fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function co(e){if(fn(e)!==e)throw Error(c(188))}function ef(e){var t=e.alternate;if(!t){if(t=fn(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return co(l),e;if(o===i)return co(l),t;o=o.sibling}throw Error(c(188))}if(n.return!==i.return)n=l,i=o;else{for(var d=!1,x=l.child;x;){if(x===n){d=!0,n=l,i=o;break}if(x===i){d=!0,i=l,n=o;break}x=x.sibling}if(!d){for(x=o.child;x;){if(x===n){d=!0,n=o,i=l;break}if(x===i){d=!0,i=o,n=l;break}x=x.sibling}if(!d)throw Error(c(189))}}if(n.alternate!==i)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function uo(e){return e=ef(e),e!==null?fo(e):null}function fo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fo(e);if(t!==null)return t;e=e.sibling}return null}var po=a.unstable_scheduleCallback,ho=a.unstable_cancelCallback,tf=a.unstable_shouldYield,nf=a.unstable_requestPaint,ze=a.unstable_now,rf=a.unstable_getCurrentPriorityLevel,Es=a.unstable_ImmediatePriority,mo=a.unstable_UserBlockingPriority,Gr=a.unstable_NormalPriority,sf=a.unstable_LowPriority,go=a.unstable_IdlePriority,Xr=null,Et=null;function lf(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Xr,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:cf,af=Math.log,of=Math.LN2;function cf(e){return e>>>=0,e===0?32:31-(af(e)/of|0)|0}var Jr=64,Zr=4194304;function ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ei(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,l=e.suspendedLanes,o=e.pingedLanes,d=n&268435455;if(d!==0){var x=d&~l;x!==0?i=ar(x):(o&=d,o!==0&&(i=ar(o)))}else d=n&~l,d!==0?i=ar(d):o!==0&&(i=ar(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&l)&&(l=i&-i,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-vt(t),l=1<<n,i|=e[n],t&=~l;return i}function uf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function df(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var d=31-vt(o),x=1<<d,w=l[d];w===-1?(!(x&n)||x&i)&&(l[d]=uf(x,t)):w<=t&&(e.expiredLanes|=x),o&=~x}}function Ps(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vo(){var e=Jr;return Jr<<=1,!(Jr&4194240)&&(Jr=64),e}function Ts(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function or(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function ff(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-vt(n),o=1<<l;t[l]=0,i[l]=-1,e[l]=-1,n&=~o}}function bs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-vt(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}var Ne=0;function yo(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xo,Rs,jo,No,wo,zs=!1,ti=[],Vt=null,Bt=null,Ht=null,cr=new Map,ur=new Map,Wt=[],pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function So(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(t.pointerId)}}function dr(e,t,n,i,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},t!==null&&(t=kr(t),t!==null&&Rs(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function hf(e,t,n,i,l){switch(t){case"focusin":return Vt=dr(Vt,e,t,n,i,l),!0;case"dragenter":return Bt=dr(Bt,e,t,n,i,l),!0;case"mouseover":return Ht=dr(Ht,e,t,n,i,l),!0;case"pointerover":var o=l.pointerId;return cr.set(o,dr(cr.get(o)||null,e,t,n,i,l)),!0;case"gotpointercapture":return o=l.pointerId,ur.set(o,dr(ur.get(o)||null,e,t,n,i,l)),!0}return!1}function Co(e){var t=pn(e.target);if(t!==null){var n=fn(t);if(n!==null){if(t=n.tag,t===13){if(t=oo(n),t!==null){e.blockedOn=t,wo(e.priority,function(){jo(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_s(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);js=i,n.target.dispatchEvent(i),js=null}else return t=kr(n),t!==null&&Rs(t),e.blockedOn=n,!1;t.shift()}return!0}function ko(e,t,n){ni(e)&&n.delete(t)}function mf(){zs=!1,Vt!==null&&ni(Vt)&&(Vt=null),Bt!==null&&ni(Bt)&&(Bt=null),Ht!==null&&ni(Ht)&&(Ht=null),cr.forEach(ko),ur.forEach(ko)}function fr(e,t){e.blockedOn===t&&(e.blockedOn=null,zs||(zs=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,mf)))}function pr(e){function t(l){return fr(l,e)}if(0<ti.length){fr(ti[0],e);for(var n=1;n<ti.length;n++){var i=ti[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Vt!==null&&fr(Vt,e),Bt!==null&&fr(Bt,e),Ht!==null&&fr(Ht,e),cr.forEach(t),ur.forEach(t),n=0;n<Wt.length;n++)i=Wt[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Wt.length&&(n=Wt[0],n.blockedOn===null);)Co(n),n.blockedOn===null&&Wt.shift()}var Tn=q.ReactCurrentBatchConfig,ri=!0;function gf(e,t,n,i){var l=Ne,o=Tn.transition;Tn.transition=null;try{Ne=1,Ls(e,t,n,i)}finally{Ne=l,Tn.transition=o}}function vf(e,t,n,i){var l=Ne,o=Tn.transition;Tn.transition=null;try{Ne=4,Ls(e,t,n,i)}finally{Ne=l,Tn.transition=o}}function Ls(e,t,n,i){if(ri){var l=_s(e,t,n,i);if(l===null)Gs(e,t,i,ii,n),So(e,i);else if(hf(l,e,t,n,i))i.stopPropagation();else if(So(e,i),t&4&&-1<pf.indexOf(e)){for(;l!==null;){var o=kr(l);if(o!==null&&xo(o),o=_s(e,t,n,i),o===null&&Gs(e,t,i,ii,n),o===l)break;l=o}l!==null&&i.stopPropagation()}else Gs(e,t,i,null,n)}}var ii=null;function _s(e,t,n,i){if(ii=null,e=Ns(i),e=pn(e),e!==null)if(t=fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oo(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ii=e,null}function Eo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rf()){case Es:return 1;case mo:return 4;case Gr:case sf:return 16;case go:return 536870912;default:return 16}default:return 16}}var qt=null,Is=null,si=null;function Po(){if(si)return si;var e,t=Is,n=t.length,i,l="value"in qt?qt.value:qt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===l[o-i];i++);return si=l.slice(e,1<i?1-i:void 0)}function li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function To(){return!1}function rt(e){function t(n,i,l,o,d){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(o):o[x]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ai:To,this.isPropagationStopped=To,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=rt(bn),hr=X({},bn,{view:0,detail:0}),yf=rt(hr),As,Fs,mr,oi=X({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mr&&(mr&&e.type==="mousemove"?(As=e.screenX-mr.screenX,Fs=e.screenY-mr.screenY):Fs=As=0,mr=e),As)},movementY:function(e){return"movementY"in e?e.movementY:Fs}}),bo=rt(oi),xf=X({},oi,{dataTransfer:0}),jf=rt(xf),Nf=X({},hr,{relatedTarget:0}),Ms=rt(Nf),wf=X({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sf=rt(wf),Cf=X({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kf=rt(Cf),Ef=X({},bn,{data:0}),Ro=rt(Ef),Pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bf[e])?!!t[e]:!1}function Os(){return Rf}var zf=X({},hr,{key:function(e){if(e.key){var t=Pf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lf=rt(zf),_f=X({},oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zo=rt(_f),If=X({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),Df=rt(If),Af=X({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ff=rt(Af),Mf=X({},oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Of=rt(Mf),$f=[9,13,27,32],$s=y&&"CompositionEvent"in window,gr=null;y&&"documentMode"in document&&(gr=document.documentMode);var Uf=y&&"TextEvent"in window&&!gr,Lo=y&&(!$s||gr&&8<gr&&11>=gr),_o=" ",Io=!1;function Do(e,t){switch(e){case"keyup":return $f.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rn=!1;function Vf(e,t){switch(e){case"compositionend":return Ao(t);case"keypress":return t.which!==32?null:(Io=!0,_o);case"textInput":return e=t.data,e===_o&&Io?null:e;default:return null}}function Bf(e,t){if(Rn)return e==="compositionend"||!$s&&Do(e,t)?(e=Po(),si=Is=qt=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lo&&t.locale!=="ko"?null:t.data;default:return null}}var Hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hf[e.type]:t==="textarea"}function Mo(e,t,n,i){ro(i),t=pi(t,"onChange"),0<t.length&&(n=new Ds("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var vr=null,yr=null;function Wf(e){nc(e,0)}function ci(e){var t=Dn(e);if(Wa(t))return e}function qf(e,t){if(e==="change")return t}var Oo=!1;if(y){var Us;if(y){var Vs="oninput"in document;if(!Vs){var $o=document.createElement("div");$o.setAttribute("oninput","return;"),Vs=typeof $o.oninput=="function"}Us=Vs}else Us=!1;Oo=Us&&(!document.documentMode||9<document.documentMode)}function Uo(){vr&&(vr.detachEvent("onpropertychange",Vo),yr=vr=null)}function Vo(e){if(e.propertyName==="value"&&ci(yr)){var t=[];Mo(t,yr,e,Ns(e)),ao(Wf,t)}}function Qf(e,t,n){e==="focusin"?(Uo(),vr=t,yr=n,vr.attachEvent("onpropertychange",Vo)):e==="focusout"&&Uo()}function Kf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ci(yr)}function Yf(e,t){if(e==="click")return ci(t)}function Gf(e,t){if(e==="input"||e==="change")return ci(t)}function Xf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:Xf;function xr(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!v.call(t,l)||!yt(e[l],t[l]))return!1}return!0}function Bo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ho(e,t){var n=Bo(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bo(n)}}function Wo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qo(){for(var e=window,t=qr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qr(e.document)}return t}function Bs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jf(e){var t=qo(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wo(n.ownerDocument.documentElement,n)){if(i!==null&&Bs(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(i.start,l);i=i.end===void 0?o:Math.min(i.end,l),!e.extend&&o>i&&(l=i,i=o,o=l),l=Ho(n,o);var d=Ho(n,i);l&&d&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zf=y&&"documentMode"in document&&11>=document.documentMode,zn=null,Hs=null,jr=null,Ws=!1;function Qo(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ws||zn==null||zn!==qr(i)||(i=zn,"selectionStart"in i&&Bs(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),jr&&xr(jr,i)||(jr=i,i=pi(Hs,"onSelect"),0<i.length&&(t=new Ds("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=zn)))}function ui(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ln={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionend:ui("Transition","TransitionEnd")},qs={},Ko={};y&&(Ko=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function di(e){if(qs[e])return qs[e];if(!Ln[e])return e;var t=Ln[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ko)return qs[e]=t[n];return e}var Yo=di("animationend"),Go=di("animationiteration"),Xo=di("animationstart"),Jo=di("transitionend"),Zo=new Map,ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){Zo.set(e,t),p(t,[e])}for(var Qs=0;Qs<ec.length;Qs++){var Ks=ec[Qs],ep=Ks.toLowerCase(),tp=Ks[0].toUpperCase()+Ks.slice(1);Qt(ep,"on"+tp)}Qt(Yo,"onAnimationEnd"),Qt(Go,"onAnimationIteration"),Qt(Xo,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(Jo,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),np=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function tc(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,Zd(i,t,void 0,e),e.currentTarget=null}function nc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var d=i.length-1;0<=d;d--){var x=i[d],w=x.instance,D=x.currentTarget;if(x=x.listener,w!==o&&l.isPropagationStopped())break e;tc(l,x,D),o=w}else for(d=0;d<i.length;d++){if(x=i[d],w=x.instance,D=x.currentTarget,x=x.listener,w!==o&&l.isPropagationStopped())break e;tc(l,x,D),o=w}}}if(Yr)throw e=ks,Yr=!1,ks=null,e}function Ce(e,t){var n=t[nl];n===void 0&&(n=t[nl]=new Set);var i=e+"__bubble";n.has(i)||(rc(t,e,2,!1),n.add(i))}function Ys(e,t,n){var i=0;t&&(i|=4),rc(n,e,i,t)}var fi="_reactListening"+Math.random().toString(36).slice(2);function wr(e){if(!e[fi]){e[fi]=!0,u.forEach(function(n){n!=="selectionchange"&&(np.has(n)||Ys(n,!1,e),Ys(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fi]||(t[fi]=!0,Ys("selectionchange",!1,t))}}function rc(e,t,n,i){switch(Eo(t)){case 1:var l=gf;break;case 4:l=vf;break;default:l=Ls}n=l.bind(null,t,n,e),l=void 0,!Cs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Gs(e,t,n,i,l){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var x=i.stateNode.containerInfo;if(x===l||x.nodeType===8&&x.parentNode===l)break;if(d===4)for(d=i.return;d!==null;){var w=d.tag;if((w===3||w===4)&&(w=d.stateNode.containerInfo,w===l||w.nodeType===8&&w.parentNode===l))return;d=d.return}for(;x!==null;){if(d=pn(x),d===null)return;if(w=d.tag,w===5||w===6){i=o=d;continue e}x=x.parentNode}}i=i.return}ao(function(){var D=o,U=Ns(n),V=[];e:{var $=Zo.get(e);if($!==void 0){var G=Ds,ee=e;switch(e){case"keypress":if(li(n)===0)break e;case"keydown":case"keyup":G=Lf;break;case"focusin":ee="focus",G=Ms;break;case"focusout":ee="blur",G=Ms;break;case"beforeblur":case"afterblur":G=Ms;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Df;break;case Yo:case Go:case Xo:G=Sf;break;case Jo:G=Ff;break;case"scroll":G=yf;break;case"wheel":G=Of;break;case"copy":case"cut":case"paste":G=kf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=zo}var ne=(t&4)!==0,Le=!ne&&e==="scroll",L=ne?$!==null?$+"Capture":null:$;ne=[];for(var E=D,_;E!==null;){_=E;var B=_.stateNode;if(_.tag===5&&B!==null&&(_=B,L!==null&&(B=ir(E,L),B!=null&&ne.push(Sr(E,B,_)))),Le)break;E=E.return}0<ne.length&&($=new G($,ee,null,n,U),V.push({event:$,listeners:ne}))}}if(!(t&7)){e:{if($=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",$&&n!==js&&(ee=n.relatedTarget||n.fromElement)&&(pn(ee)||ee[Lt]))break e;if((G||$)&&($=U.window===U?U:($=U.ownerDocument)?$.defaultView||$.parentWindow:window,G?(ee=n.relatedTarget||n.toElement,G=D,ee=ee?pn(ee):null,ee!==null&&(Le=fn(ee),ee!==Le||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(G=null,ee=D),G!==ee)){if(ne=bo,B="onMouseLeave",L="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ne=zo,B="onPointerLeave",L="onPointerEnter",E="pointer"),Le=G==null?$:Dn(G),_=ee==null?$:Dn(ee),$=new ne(B,E+"leave",G,n,U),$.target=Le,$.relatedTarget=_,B=null,pn(U)===D&&(ne=new ne(L,E+"enter",ee,n,U),ne.target=_,ne.relatedTarget=Le,B=ne),Le=B,G&&ee)t:{for(ne=G,L=ee,E=0,_=ne;_;_=_n(_))E++;for(_=0,B=L;B;B=_n(B))_++;for(;0<E-_;)ne=_n(ne),E--;for(;0<_-E;)L=_n(L),_--;for(;E--;){if(ne===L||L!==null&&ne===L.alternate)break t;ne=_n(ne),L=_n(L)}ne=null}else ne=null;G!==null&&ic(V,$,G,ne,!1),ee!==null&&Le!==null&&ic(V,Le,ee,ne,!0)}}e:{if($=D?Dn(D):window,G=$.nodeName&&$.nodeName.toLowerCase(),G==="select"||G==="input"&&$.type==="file")var ie=qf;else if(Fo($))if(Oo)ie=Gf;else{ie=Kf;var le=Qf}else(G=$.nodeName)&&G.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ie=Yf);if(ie&&(ie=ie(e,D))){Mo(V,ie,n,U);break e}le&&le(e,$,D),e==="focusout"&&(le=$._wrapperState)&&le.controlled&&$.type==="number"&&ms($,"number",$.value)}switch(le=D?Dn(D):window,e){case"focusin":(Fo(le)||le.contentEditable==="true")&&(zn=le,Hs=D,jr=null);break;case"focusout":jr=Hs=zn=null;break;case"mousedown":Ws=!0;break;case"contextmenu":case"mouseup":case"dragend":Ws=!1,Qo(V,n,U);break;case"selectionchange":if(Zf)break;case"keydown":case"keyup":Qo(V,n,U)}var ae;if($s)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Rn?Do(e,n)&&(fe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(fe="onCompositionStart");fe&&(Lo&&n.locale!=="ko"&&(Rn||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Rn&&(ae=Po()):(qt=U,Is="value"in qt?qt.value:qt.textContent,Rn=!0)),le=pi(D,fe),0<le.length&&(fe=new Ro(fe,e,null,n,U),V.push({event:fe,listeners:le}),ae?fe.data=ae:(ae=Ao(n),ae!==null&&(fe.data=ae)))),(ae=Uf?Vf(e,n):Bf(e,n))&&(D=pi(D,"onBeforeInput"),0<D.length&&(U=new Ro("onBeforeInput","beforeinput",null,n,U),V.push({event:U,listeners:D}),U.data=ae))}nc(V,t)})}function Sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pi(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=ir(e,n),o!=null&&i.unshift(Sr(e,o,l)),o=ir(e,t),o!=null&&i.push(Sr(e,o,l))),e=e.return}return i}function _n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ic(e,t,n,i,l){for(var o=t._reactName,d=[];n!==null&&n!==i;){var x=n,w=x.alternate,D=x.stateNode;if(w!==null&&w===i)break;x.tag===5&&D!==null&&(x=D,l?(w=ir(n,o),w!=null&&d.unshift(Sr(n,w,x))):l||(w=ir(n,o),w!=null&&d.push(Sr(n,w,x)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var rp=/\r\n?/g,ip=/\u0000|\uFFFD/g;function sc(e){return(typeof e=="string"?e:""+e).replace(rp,`
`).replace(ip,"")}function hi(e,t,n){if(t=sc(t),sc(e)!==t&&n)throw Error(c(425))}function mi(){}var Xs=null,Js=null;function Zs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var el=typeof setTimeout=="function"?setTimeout:void 0,sp=typeof clearTimeout=="function"?clearTimeout:void 0,lc=typeof Promise=="function"?Promise:void 0,lp=typeof queueMicrotask=="function"?queueMicrotask:typeof lc<"u"?function(e){return lc.resolve(null).then(e).catch(ap)}:el;function ap(e){setTimeout(function(){throw e})}function tl(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(i===0){e.removeChild(l),pr(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=l}while(n);pr(t)}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ac(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var In=Math.random().toString(36).slice(2),Pt="__reactFiber$"+In,Cr="__reactProps$"+In,Lt="__reactContainer$"+In,nl="__reactEvents$"+In,op="__reactListeners$"+In,cp="__reactHandles$"+In;function pn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ac(e);e!==null;){if(n=e[Pt])return n;e=ac(e)}return t}e=n,n=e.parentNode}return null}function kr(e){return e=e[Pt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function gi(e){return e[Cr]||null}var rl=[],An=-1;function Yt(e){return{current:e}}function ke(e){0>An||(e.current=rl[An],rl[An]=null,An--)}function Se(e,t){An++,rl[An]=e.current,e.current=t}var Gt={},Ve=Yt(Gt),Ye=Yt(!1),hn=Gt;function Fn(e,t){var n=e.type.contextTypes;if(!n)return Gt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ge(e){return e=e.childContextTypes,e!=null}function vi(){ke(Ye),ke(Ve)}function oc(e,t,n){if(Ve.current!==Gt)throw Error(c(168));Se(Ve,t),Se(Ye,n)}function cc(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(c(108,re(e)||"Unknown",l));return X({},n,i)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gt,hn=Ve.current,Se(Ve,e),Se(Ye,Ye.current),!0}function uc(e,t,n){var i=e.stateNode;if(!i)throw Error(c(169));n?(e=cc(e,t,hn),i.__reactInternalMemoizedMergedChildContext=e,ke(Ye),ke(Ve),Se(Ve,e)):ke(Ye),Se(Ye,n)}var _t=null,xi=!1,il=!1;function dc(e){_t===null?_t=[e]:_t.push(e)}function up(e){xi=!0,dc(e)}function Xt(){if(!il&&_t!==null){il=!0;var e=0,t=Ne;try{var n=_t;for(Ne=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}_t=null,xi=!1}catch(l){throw _t!==null&&(_t=_t.slice(e+1)),po(Es,Xt),l}finally{Ne=t,il=!1}}return null}var Mn=[],On=0,ji=null,Ni=0,at=[],ot=0,mn=null,It=1,Dt="";function gn(e,t){Mn[On++]=Ni,Mn[On++]=ji,ji=e,Ni=t}function fc(e,t,n){at[ot++]=It,at[ot++]=Dt,at[ot++]=mn,mn=e;var i=It;e=Dt;var l=32-vt(i)-1;i&=~(1<<l),n+=1;var o=32-vt(t)+l;if(30<o){var d=l-l%5;o=(i&(1<<d)-1).toString(32),i>>=d,l-=d,It=1<<32-vt(t)+l|n<<l|i,Dt=o+e}else It=1<<o|n<<l|i,Dt=e}function sl(e){e.return!==null&&(gn(e,1),fc(e,1,0))}function ll(e){for(;e===ji;)ji=Mn[--On],Mn[On]=null,Ni=Mn[--On],Mn[On]=null;for(;e===mn;)mn=at[--ot],at[ot]=null,Dt=at[--ot],at[ot]=null,It=at[--ot],at[ot]=null}var it=null,st=null,Ee=!1,xt=null;function pc(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,st=Kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mn!==null?{id:It,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,it=e,st=null,!0):!1;default:return!1}}function al(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ol(e){if(Ee){var t=st;if(t){var n=t;if(!hc(e,t)){if(al(e))throw Error(c(418));t=Kt(n.nextSibling);var i=it;t&&hc(e,t)?pc(i,n):(e.flags=e.flags&-4097|2,Ee=!1,it=e)}}else{if(al(e))throw Error(c(418));e.flags=e.flags&-4097|2,Ee=!1,it=e}}}function mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function wi(e){if(e!==it)return!1;if(!Ee)return mc(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zs(e.type,e.memoizedProps)),t&&(t=st)){if(al(e))throw gc(),Error(c(418));for(;t;)pc(e,t),t=Kt(t.nextSibling)}if(mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=Kt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=it?Kt(e.stateNode.nextSibling):null;return!0}function gc(){for(var e=st;e;)e=Kt(e.nextSibling)}function $n(){st=it=null,Ee=!1}function cl(e){xt===null?xt=[e]:xt.push(e)}var dp=q.ReactCurrentBatchConfig;function Er(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(c(309));var i=n.stateNode}if(!i)throw Error(c(147,e));var l=i,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(d){var x=l.refs;d===null?delete x[o]:x[o]=d},t._stringRef=o,t)}if(typeof e!="string")throw Error(c(284));if(!n._owner)throw Error(c(290,e))}return e}function Si(e,t){throw e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vc(e){var t=e._init;return t(e._payload)}function yc(e){function t(L,E){if(e){var _=L.deletions;_===null?(L.deletions=[E],L.flags|=16):_.push(E)}}function n(L,E){if(!e)return null;for(;E!==null;)t(L,E),E=E.sibling;return null}function i(L,E){for(L=new Map;E!==null;)E.key!==null?L.set(E.key,E):L.set(E.index,E),E=E.sibling;return L}function l(L,E){return L=ln(L,E),L.index=0,L.sibling=null,L}function o(L,E,_){return L.index=_,e?(_=L.alternate,_!==null?(_=_.index,_<E?(L.flags|=2,E):_):(L.flags|=2,E)):(L.flags|=1048576,E)}function d(L){return e&&L.alternate===null&&(L.flags|=2),L}function x(L,E,_,B){return E===null||E.tag!==6?(E=ea(_,L.mode,B),E.return=L,E):(E=l(E,_),E.return=L,E)}function w(L,E,_,B){var ie=_.type;return ie===S?U(L,E,_.props.children,B,_.key):E!==null&&(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===we&&vc(ie)===E.type)?(B=l(E,_.props),B.ref=Er(L,E,_),B.return=L,B):(B=Qi(_.type,_.key,_.props,null,L.mode,B),B.ref=Er(L,E,_),B.return=L,B)}function D(L,E,_,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==_.containerInfo||E.stateNode.implementation!==_.implementation?(E=ta(_,L.mode,B),E.return=L,E):(E=l(E,_.children||[]),E.return=L,E)}function U(L,E,_,B,ie){return E===null||E.tag!==7?(E=Cn(_,L.mode,B,ie),E.return=L,E):(E=l(E,_),E.return=L,E)}function V(L,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ea(""+E,L.mode,_),E.return=L,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case H:return _=Qi(E.type,E.key,E.props,null,L.mode,_),_.ref=Er(L,null,E),_.return=L,_;case Y:return E=ta(E,L.mode,_),E.return=L,E;case we:var B=E._init;return V(L,B(E._payload),_)}if(tr(E)||se(E))return E=Cn(E,L.mode,_,null),E.return=L,E;Si(L,E)}return null}function $(L,E,_,B){var ie=E!==null?E.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return ie!==null?null:x(L,E,""+_,B);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case H:return _.key===ie?w(L,E,_,B):null;case Y:return _.key===ie?D(L,E,_,B):null;case we:return ie=_._init,$(L,E,ie(_._payload),B)}if(tr(_)||se(_))return ie!==null?null:U(L,E,_,B,null);Si(L,_)}return null}function G(L,E,_,B,ie){if(typeof B=="string"&&B!==""||typeof B=="number")return L=L.get(_)||null,x(E,L,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case H:return L=L.get(B.key===null?_:B.key)||null,w(E,L,B,ie);case Y:return L=L.get(B.key===null?_:B.key)||null,D(E,L,B,ie);case we:var le=B._init;return G(L,E,_,le(B._payload),ie)}if(tr(B)||se(B))return L=L.get(_)||null,U(E,L,B,ie,null);Si(E,B)}return null}function ee(L,E,_,B){for(var ie=null,le=null,ae=E,fe=E=0,Oe=null;ae!==null&&fe<_.length;fe++){ae.index>fe?(Oe=ae,ae=null):Oe=ae.sibling;var xe=$(L,ae,_[fe],B);if(xe===null){ae===null&&(ae=Oe);break}e&&ae&&xe.alternate===null&&t(L,ae),E=o(xe,E,fe),le===null?ie=xe:le.sibling=xe,le=xe,ae=Oe}if(fe===_.length)return n(L,ae),Ee&&gn(L,fe),ie;if(ae===null){for(;fe<_.length;fe++)ae=V(L,_[fe],B),ae!==null&&(E=o(ae,E,fe),le===null?ie=ae:le.sibling=ae,le=ae);return Ee&&gn(L,fe),ie}for(ae=i(L,ae);fe<_.length;fe++)Oe=G(ae,L,fe,_[fe],B),Oe!==null&&(e&&Oe.alternate!==null&&ae.delete(Oe.key===null?fe:Oe.key),E=o(Oe,E,fe),le===null?ie=Oe:le.sibling=Oe,le=Oe);return e&&ae.forEach(function(an){return t(L,an)}),Ee&&gn(L,fe),ie}function ne(L,E,_,B){var ie=se(_);if(typeof ie!="function")throw Error(c(150));if(_=ie.call(_),_==null)throw Error(c(151));for(var le=ie=null,ae=E,fe=E=0,Oe=null,xe=_.next();ae!==null&&!xe.done;fe++,xe=_.next()){ae.index>fe?(Oe=ae,ae=null):Oe=ae.sibling;var an=$(L,ae,xe.value,B);if(an===null){ae===null&&(ae=Oe);break}e&&ae&&an.alternate===null&&t(L,ae),E=o(an,E,fe),le===null?ie=an:le.sibling=an,le=an,ae=Oe}if(xe.done)return n(L,ae),Ee&&gn(L,fe),ie;if(ae===null){for(;!xe.done;fe++,xe=_.next())xe=V(L,xe.value,B),xe!==null&&(E=o(xe,E,fe),le===null?ie=xe:le.sibling=xe,le=xe);return Ee&&gn(L,fe),ie}for(ae=i(L,ae);!xe.done;fe++,xe=_.next())xe=G(ae,L,fe,xe.value,B),xe!==null&&(e&&xe.alternate!==null&&ae.delete(xe.key===null?fe:xe.key),E=o(xe,E,fe),le===null?ie=xe:le.sibling=xe,le=xe);return e&&ae.forEach(function(Bp){return t(L,Bp)}),Ee&&gn(L,fe),ie}function Le(L,E,_,B){if(typeof _=="object"&&_!==null&&_.type===S&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case H:e:{for(var ie=_.key,le=E;le!==null;){if(le.key===ie){if(ie=_.type,ie===S){if(le.tag===7){n(L,le.sibling),E=l(le,_.props.children),E.return=L,L=E;break e}}else if(le.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===we&&vc(ie)===le.type){n(L,le.sibling),E=l(le,_.props),E.ref=Er(L,le,_),E.return=L,L=E;break e}n(L,le);break}else t(L,le);le=le.sibling}_.type===S?(E=Cn(_.props.children,L.mode,B,_.key),E.return=L,L=E):(B=Qi(_.type,_.key,_.props,null,L.mode,B),B.ref=Er(L,E,_),B.return=L,L=B)}return d(L);case Y:e:{for(le=_.key;E!==null;){if(E.key===le)if(E.tag===4&&E.stateNode.containerInfo===_.containerInfo&&E.stateNode.implementation===_.implementation){n(L,E.sibling),E=l(E,_.children||[]),E.return=L,L=E;break e}else{n(L,E);break}else t(L,E);E=E.sibling}E=ta(_,L.mode,B),E.return=L,L=E}return d(L);case we:return le=_._init,Le(L,E,le(_._payload),B)}if(tr(_))return ee(L,E,_,B);if(se(_))return ne(L,E,_,B);Si(L,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,E!==null&&E.tag===6?(n(L,E.sibling),E=l(E,_),E.return=L,L=E):(n(L,E),E=ea(_,L.mode,B),E.return=L,L=E),d(L)):n(L,E)}return Le}var Un=yc(!0),xc=yc(!1),Ci=Yt(null),ki=null,Vn=null,ul=null;function dl(){ul=Vn=ki=null}function fl(e){var t=Ci.current;ke(Ci),e._currentValue=t}function pl(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Bn(e,t){ki=e,ul=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(ul!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(ki===null)throw Error(c(308));Vn=e,ki.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var vn=null;function hl(e){vn===null?vn=[e]:vn.push(e)}function jc(e,t,n,i){var l=t.interleaved;return l===null?(n.next=n,hl(t)):(n.next=l.next,l.next=n),t.interleaved=n,At(e,i)}function At(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jt=!1;function ml(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ve&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,At(e,n)}return l=i.interleaved,l===null?(t.next=t,hl(i)):(t.next=l.next,l.next=t),i.interleaved=t,At(e,n)}function Ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,bs(e,n)}}function wc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=d:o=o.next=d,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pi(e,t,n,i){var l=e.updateQueue;Jt=!1;var o=l.firstBaseUpdate,d=l.lastBaseUpdate,x=l.shared.pending;if(x!==null){l.shared.pending=null;var w=x,D=w.next;w.next=null,d===null?o=D:d.next=D,d=w;var U=e.alternate;U!==null&&(U=U.updateQueue,x=U.lastBaseUpdate,x!==d&&(x===null?U.firstBaseUpdate=D:x.next=D,U.lastBaseUpdate=w))}if(o!==null){var V=l.baseState;d=0,U=D=w=null,x=o;do{var $=x.lane,G=x.eventTime;if((i&$)===$){U!==null&&(U=U.next={eventTime:G,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var ee=e,ne=x;switch($=t,G=n,ne.tag){case 1:if(ee=ne.payload,typeof ee=="function"){V=ee.call(G,V,$);break e}V=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ne.payload,$=typeof ee=="function"?ee.call(G,V,$):ee,$==null)break e;V=X({},V,$);break e;case 2:Jt=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,$=l.effects,$===null?l.effects=[x]:$.push(x))}else G={eventTime:G,lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},U===null?(D=U=G,w=V):U=U.next=G,d|=$;if(x=x.next,x===null){if(x=l.shared.pending,x===null)break;$=x,x=$.next,$.next=null,l.lastBaseUpdate=$,l.shared.pending=null}}while(!0);if(U===null&&(w=V),l.baseState=w,l.firstBaseUpdate=D,l.lastBaseUpdate=U,t=l.shared.interleaved,t!==null){l=t;do d|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);jn|=d,e.lanes=d,e.memoizedState=V}}function Sc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=n,typeof l!="function")throw Error(c(191,l));l.call(i)}}}var Pr={},Tt=Yt(Pr),Tr=Yt(Pr),br=Yt(Pr);function yn(e){if(e===Pr)throw Error(c(174));return e}function gl(e,t){switch(Se(br,t),Se(Tr,e),Se(Tt,Pr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vs(t,e)}ke(Tt),Se(Tt,t)}function Hn(){ke(Tt),ke(Tr),ke(br)}function Cc(e){yn(br.current);var t=yn(Tt.current),n=vs(t,e.type);t!==n&&(Se(Tr,e),Se(Tt,n))}function vl(e){Tr.current===e&&(ke(Tt),ke(Tr))}var Te=Yt(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yl=[];function xl(){for(var e=0;e<yl.length;e++)yl[e]._workInProgressVersionPrimary=null;yl.length=0}var bi=q.ReactCurrentDispatcher,jl=q.ReactCurrentBatchConfig,xn=0,be=null,De=null,Fe=null,Ri=!1,Rr=!1,zr=0,fp=0;function Be(){throw Error(c(321))}function Nl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function wl(e,t,n,i,l,o){if(xn=o,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bi.current=e===null||e.memoizedState===null?gp:vp,e=n(i,l),Rr){o=0;do{if(Rr=!1,zr=0,25<=o)throw Error(c(301));o+=1,Fe=De=null,t.updateQueue=null,bi.current=yp,e=n(i,l)}while(Rr)}if(bi.current=_i,t=De!==null&&De.next!==null,xn=0,Fe=De=be=null,Ri=!1,t)throw Error(c(300));return e}function Sl(){var e=zr!==0;return zr=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?be.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function ut(){if(De===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Fe===null?be.memoizedState:Fe.next;if(t!==null)Fe=t,De=e;else{if(e===null)throw Error(c(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Fe===null?be.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Lr(e,t){return typeof t=="function"?t(e):t}function Cl(e){var t=ut(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var i=De,l=i.baseQueue,o=n.pending;if(o!==null){if(l!==null){var d=l.next;l.next=o.next,o.next=d}i.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,i=i.baseState;var x=d=null,w=null,D=o;do{var U=D.lane;if((xn&U)===U)w!==null&&(w=w.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),i=D.hasEagerState?D.eagerState:e(i,D.action);else{var V={lane:U,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};w===null?(x=w=V,d=i):w=w.next=V,be.lanes|=U,jn|=U}D=D.next}while(D!==null&&D!==o);w===null?d=i:w.next=x,yt(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseState=d,t.baseQueue=w,n.lastRenderedState=i}if(e=n.interleaved,e!==null){l=e;do o=l.lane,be.lanes|=o,jn|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kl(e){var t=ut(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var d=l=l.next;do o=e(o,d.action),d=d.next;while(d!==l);yt(o,t.memoizedState)||(Xe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function kc(){}function Ec(e,t){var n=be,i=ut(),l=t(),o=!yt(i.memoizedState,l);if(o&&(i.memoizedState=l,Xe=!0),i=i.queue,El(bc.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,_r(9,Tc.bind(null,n,i,l,t),void 0,null),Me===null)throw Error(c(349));xn&30||Pc(n,t,l)}return l}function Pc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Tc(e,t,n,i){t.value=n,t.getSnapshot=i,Rc(t)&&zc(e)}function bc(e,t,n){return n(function(){Rc(t)&&zc(e)})}function Rc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function zc(e){var t=At(e,1);t!==null&&St(t,e,1,-1)}function Lc(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},t.queue=e,e=e.dispatch=mp.bind(null,be,e),[t.memoizedState,e]}function _r(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function _c(){return ut().memoizedState}function zi(e,t,n,i){var l=bt();be.flags|=e,l.memoizedState=_r(1|t,n,void 0,i===void 0?null:i)}function Li(e,t,n,i){var l=ut();i=i===void 0?null:i;var o=void 0;if(De!==null){var d=De.memoizedState;if(o=d.destroy,i!==null&&Nl(i,d.deps)){l.memoizedState=_r(t,n,o,i);return}}be.flags|=e,l.memoizedState=_r(1|t,n,o,i)}function Ic(e,t){return zi(8390656,8,e,t)}function El(e,t){return Li(2048,8,e,t)}function Dc(e,t){return Li(4,2,e,t)}function Ac(e,t){return Li(4,4,e,t)}function Fc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mc(e,t,n){return n=n!=null?n.concat([e]):null,Li(4,4,Fc.bind(null,t,e),n)}function Pl(){}function Oc(e,t){var n=ut();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Nl(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function $c(e,t){var n=ut();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Nl(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Uc(e,t,n){return xn&21?(yt(n,t)||(n=vo(),be.lanes|=n,jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function pp(e,t){var n=Ne;Ne=n!==0&&4>n?n:4,e(!0);var i=jl.transition;jl.transition={};try{e(!1),t()}finally{Ne=n,jl.transition=i}}function Vc(){return ut().memoizedState}function hp(e,t,n){var i=rn(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Bc(e))Hc(t,n);else if(n=jc(e,t,n,i),n!==null){var l=Ke();St(n,e,i,l),Wc(n,t,i)}}function mp(e,t,n){var i=rn(e),l={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bc(e))Hc(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,x=o(d,n);if(l.hasEagerState=!0,l.eagerState=x,yt(x,d)){var w=t.interleaved;w===null?(l.next=l,hl(t)):(l.next=w.next,w.next=l),t.interleaved=l;return}}catch{}finally{}n=jc(e,t,l,i),n!==null&&(l=Ke(),St(n,e,i,l),Wc(n,t,i))}}function Bc(e){var t=e.alternate;return e===be||t!==null&&t===be}function Hc(e,t){Rr=Ri=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wc(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,bs(e,n)}}var _i={readContext:ct,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},gp={readContext:ct,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Ic,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zi(4194308,4,Fc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){return zi(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=bt();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=hp.bind(null,be,e),[i.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:Lc,useDebugValue:Pl,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=Lc(!1),t=e[0];return e=pp.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=be,l=bt();if(Ee){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),Me===null)throw Error(c(349));xn&30||Pc(i,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Ic(bc.bind(null,i,o,e),[e]),i.flags|=2048,_r(9,Tc.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=bt(),t=Me.identifierPrefix;if(Ee){var n=Dt,i=It;n=(i&~(1<<32-vt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=zr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vp={readContext:ct,useCallback:Oc,useContext:ct,useEffect:El,useImperativeHandle:Mc,useInsertionEffect:Dc,useLayoutEffect:Ac,useMemo:$c,useReducer:Cl,useRef:_c,useState:function(){return Cl(Lr)},useDebugValue:Pl,useDeferredValue:function(e){var t=ut();return Uc(t,De.memoizedState,e)},useTransition:function(){var e=Cl(Lr)[0],t=ut().memoizedState;return[e,t]},useMutableSource:kc,useSyncExternalStore:Ec,useId:Vc,unstable_isNewReconciler:!1},yp={readContext:ct,useCallback:Oc,useContext:ct,useEffect:El,useImperativeHandle:Mc,useInsertionEffect:Dc,useLayoutEffect:Ac,useMemo:$c,useReducer:kl,useRef:_c,useState:function(){return kl(Lr)},useDebugValue:Pl,useDeferredValue:function(e){var t=ut();return De===null?t.memoizedState=e:Uc(t,De.memoizedState,e)},useTransition:function(){var e=kl(Lr)[0],t=ut().memoizedState;return[e,t]},useMutableSource:kc,useSyncExternalStore:Ec,useId:Vc,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=X({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tl(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:X({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ii={isMounted:function(e){return(e=e._reactInternals)?fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ke(),l=rn(e),o=Ft(i,l);o.payload=t,n!=null&&(o.callback=n),t=Zt(e,o,l),t!==null&&(St(t,e,l,i),Ei(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ke(),l=rn(e),o=Ft(i,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Zt(e,o,l),t!==null&&(St(t,e,l,i),Ei(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ke(),i=rn(e),l=Ft(n,i);l.tag=2,t!=null&&(l.callback=t),t=Zt(e,l,i),t!==null&&(St(t,e,i,n),Ei(t,e,i))}};function qc(e,t,n,i,l,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,d):t.prototype&&t.prototype.isPureReactComponent?!xr(n,i)||!xr(l,o):!0}function Qc(e,t,n){var i=!1,l=Gt,o=t.contextType;return typeof o=="object"&&o!==null?o=ct(o):(l=Ge(t)?hn:Ve.current,i=t.contextTypes,o=(i=i!=null)?Fn(e,l):Gt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ii,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function Kc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ii.enqueueReplaceState(t,t.state,null)}function bl(e,t,n,i){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ml(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=ct(o):(o=Ge(t)?hn:Ve.current,l.context=Fn(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Tl(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ii.enqueueReplaceState(l,l.state,null),Pi(e,n,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var n="",i=t;do n+=te(i),i=i.return;while(i);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function Rl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xp=typeof WeakMap=="function"?WeakMap:Map;function Yc(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ui||(Ui=!0,ql=i),zl(e,t)},n}function Gc(e,t,n){n=Ft(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;n.payload=function(){return i(l)},n.callback=function(){zl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zl(e,t),typeof i!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function Xc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new xp;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(l.add(n),e=_p.bind(null,e,t,n),t.then(e,e))}function Jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zc(e,t,n,i,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,Zt(n,t,1))),n.lanes|=1),e)}var jp=q.ReactCurrentOwner,Xe=!1;function Qe(e,t,n,i){t.child=e===null?xc(t,null,n,i):Un(t,e.child,n,i)}function eu(e,t,n,i,l){n=n.render;var o=t.ref;return Bn(t,l),i=wl(e,t,n,i,o,l),n=Sl(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Mt(e,t,l)):(Ee&&n&&sl(t),t.flags|=1,Qe(e,t,i,l),t.child)}function tu(e,t,n,i,l){if(e===null){var o=n.type;return typeof o=="function"&&!Zl(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,nu(e,t,o,i,l)):(e=Qi(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var d=o.memoizedProps;if(n=n.compare,n=n!==null?n:xr,n(d,i)&&e.ref===t.ref)return Mt(e,t,l)}return t.flags|=1,e=ln(o,i),e.ref=t.ref,e.return=t,t.child=e}function nu(e,t,n,i,l){if(e!==null){var o=e.memoizedProps;if(xr(o,i)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=i=o,(e.lanes&l)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Mt(e,t,l)}return Ll(e,t,n,i,l)}function ru(e,t,n){var i=t.pendingProps,l=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Qn,lt),lt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Qn,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Se(Qn,lt),lt|=i}else o!==null?(i=o.baseLanes|n,t.memoizedState=null):i=n,Se(Qn,lt),lt|=i;return Qe(e,t,l,n),t.child}function iu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ll(e,t,n,i,l){var o=Ge(n)?hn:Ve.current;return o=Fn(t,o),Bn(t,l),n=wl(e,t,n,i,o,l),i=Sl(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Mt(e,t,l)):(Ee&&i&&sl(t),t.flags|=1,Qe(e,t,n,l),t.child)}function su(e,t,n,i,l){if(Ge(n)){var o=!0;yi(t)}else o=!1;if(Bn(t,l),t.stateNode===null)Ai(e,t),Qc(t,n,i),bl(t,n,i,l),i=!0;else if(e===null){var d=t.stateNode,x=t.memoizedProps;d.props=x;var w=d.context,D=n.contextType;typeof D=="object"&&D!==null?D=ct(D):(D=Ge(n)?hn:Ve.current,D=Fn(t,D));var U=n.getDerivedStateFromProps,V=typeof U=="function"||typeof d.getSnapshotBeforeUpdate=="function";V||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==i||w!==D)&&Kc(t,d,i,D),Jt=!1;var $=t.memoizedState;d.state=$,Pi(t,i,d,l),w=t.memoizedState,x!==i||$!==w||Ye.current||Jt?(typeof U=="function"&&(Tl(t,n,U,i),w=t.memoizedState),(x=Jt||qc(t,n,x,i,$,w,D))?(V||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=w),d.props=i,d.state=w,d.context=D,i=x):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,Nc(e,t),x=t.memoizedProps,D=t.type===t.elementType?x:jt(t.type,x),d.props=D,V=t.pendingProps,$=d.context,w=n.contextType,typeof w=="object"&&w!==null?w=ct(w):(w=Ge(n)?hn:Ve.current,w=Fn(t,w));var G=n.getDerivedStateFromProps;(U=typeof G=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==V||$!==w)&&Kc(t,d,i,w),Jt=!1,$=t.memoizedState,d.state=$,Pi(t,i,d,l);var ee=t.memoizedState;x!==V||$!==ee||Ye.current||Jt?(typeof G=="function"&&(Tl(t,n,G,i),ee=t.memoizedState),(D=Jt||qc(t,n,D,i,$,ee,w)||!1)?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,ee,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,ee,w)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=ee),d.props=i,d.state=ee,d.context=w,i=D):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),i=!1)}return _l(e,t,n,i,o,l)}function _l(e,t,n,i,l,o){iu(e,t);var d=(t.flags&128)!==0;if(!i&&!d)return l&&uc(t,n,!1),Mt(e,t,o);i=t.stateNode,jp.current=t;var x=d&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&d?(t.child=Un(t,e.child,null,o),t.child=Un(t,null,x,o)):Qe(e,t,x,o),t.memoizedState=i.state,l&&uc(t,n,!0),t.child}function lu(e){var t=e.stateNode;t.pendingContext?oc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oc(e,t.context,!1),gl(e,t.containerInfo)}function au(e,t,n,i,l){return $n(),cl(l),t.flags|=256,Qe(e,t,n,i),t.child}var Il={dehydrated:null,treeContext:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function ou(e,t,n){var i=t.pendingProps,l=Te.current,o=!1,d=(t.flags&128)!==0,x;if((x=d)||(x=e!==null&&e.memoizedState===null?!1:(l&2)!==0),x?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Se(Te,l&1),e===null)return ol(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=i.children,e=i.fallback,o?(i=t.mode,o=t.child,d={mode:"hidden",children:d},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=d):o=Ki(d,i,0,null),e=Cn(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Dl(n),t.memoizedState=Il,e):Al(t,d));if(l=e.memoizedState,l!==null&&(x=l.dehydrated,x!==null))return Np(e,t,d,i,x,l,n);if(o){o=i.fallback,d=t.mode,l=e.child,x=l.sibling;var w={mode:"hidden",children:i.children};return!(d&1)&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=w,t.deletions=null):(i=ln(l,w),i.subtreeFlags=l.subtreeFlags&14680064),x!==null?o=ln(x,o):(o=Cn(o,d,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,d=e.child.memoizedState,d=d===null?Dl(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},o.memoizedState=d,o.childLanes=e.childLanes&~n,t.memoizedState=Il,i}return o=e.child,e=o.sibling,i=ln(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Al(e,t){return t=Ki({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Di(e,t,n,i){return i!==null&&cl(i),Un(t,e.child,null,n),e=Al(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Np(e,t,n,i,l,o,d){if(n)return t.flags&256?(t.flags&=-257,i=Rl(Error(c(422))),Di(e,t,d,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=i.fallback,l=t.mode,i=Ki({mode:"visible",children:i.children},l,0,null),o=Cn(o,l,d,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&Un(t,e.child,null,d),t.child.memoizedState=Dl(d),t.memoizedState=Il,o);if(!(t.mode&1))return Di(e,t,d,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var x=i.dgst;return i=x,o=Error(c(419)),i=Rl(o,i,void 0),Di(e,t,d,i)}if(x=(d&e.childLanes)!==0,Xe||x){if(i=Me,i!==null){switch(d&-d){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(i.suspendedLanes|d)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,At(e,l),St(i,e,l,-1))}return Jl(),i=Rl(Error(c(421))),Di(e,t,d,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Ip.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,st=Kt(l.nextSibling),it=t,Ee=!0,xt=null,e!==null&&(at[ot++]=It,at[ot++]=Dt,at[ot++]=mn,It=e.id,Dt=e.overflow,mn=t),t=Al(t,i.children),t.flags|=4096,t)}function cu(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),pl(e.return,t,n)}function Fl(e,t,n,i,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=l)}function uu(e,t,n){var i=t.pendingProps,l=i.revealOrder,o=i.tail;if(Qe(e,t,i.children,n),i=Te.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cu(e,n,t);else if(e.tag===19)cu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Se(Te,i),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ti(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Fl(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ti(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Fl(t,!0,n,null,o);break;case"together":Fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ai(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wp(e,t,n){switch(t.tag){case 3:lu(t),$n();break;case 5:Cc(t);break;case 1:Ge(t.type)&&yi(t);break;case 4:gl(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;Se(Ci,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Se(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?ou(e,t,n):(Se(Te,Te.current&1),e=Mt(e,t,n),e!==null?e.sibling:null);Se(Te,Te.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return uu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Se(Te,Te.current),i)break;return null;case 22:case 23:return t.lanes=0,ru(e,t,n)}return Mt(e,t,n)}var du,Ml,fu,pu;du=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ml=function(){},fu=function(e,t,n,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,yn(Tt.current);var o=null;switch(n){case"input":l=ps(e,l),i=ps(e,i),o=[];break;case"select":l=X({},l,{value:void 0}),i=X({},i,{value:void 0}),o=[];break;case"textarea":l=gs(e,l),i=gs(e,i),o=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=mi)}ys(n,i);var d;n=null;for(D in l)if(!i.hasOwnProperty(D)&&l.hasOwnProperty(D)&&l[D]!=null)if(D==="style"){var x=l[D];for(d in x)x.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(f.hasOwnProperty(D)?o||(o=[]):(o=o||[]).push(D,null));for(D in i){var w=i[D];if(x=l!=null?l[D]:void 0,i.hasOwnProperty(D)&&w!==x&&(w!=null||x!=null))if(D==="style")if(x){for(d in x)!x.hasOwnProperty(d)||w&&w.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in w)w.hasOwnProperty(d)&&x[d]!==w[d]&&(n||(n={}),n[d]=w[d])}else n||(o||(o=[]),o.push(D,n)),n=w;else D==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,x=x?x.__html:void 0,w!=null&&x!==w&&(o=o||[]).push(D,w)):D==="children"?typeof w!="string"&&typeof w!="number"||(o=o||[]).push(D,""+w):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(f.hasOwnProperty(D)?(w!=null&&D==="onScroll"&&Ce("scroll",e),o||x===w||(o=[])):(o=o||[]).push(D,w))}n&&(o=o||[]).push("style",n);var D=o;(t.updateQueue=D)&&(t.flags|=4)}},pu=function(e,t,n,i){n!==i&&(t.flags|=4)};function Ir(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Sp(e,t,n){var i=t.pendingProps;switch(ll(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return Ge(t.type)&&vi(),He(t),null;case 3:return i=t.stateNode,Hn(),ke(Ye),ke(Ve),xl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(wi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(Yl(xt),xt=null))),Ml(e,t),He(t),null;case 5:vl(t);var l=yn(br.current);if(n=t.type,e!==null&&t.stateNode!=null)fu(e,t,n,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(c(166));return He(t),null}if(e=yn(Tt.current),wi(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[Pt]=t,i[Cr]=o,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(l=0;l<Nr.length;l++)Ce(Nr[l],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":qa(i,o),Ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",i);break;case"textarea":Ya(i,o),Ce("invalid",i)}ys(n,o),l=null;for(var d in o)if(o.hasOwnProperty(d)){var x=o[d];d==="children"?typeof x=="string"?i.textContent!==x&&(o.suppressHydrationWarning!==!0&&hi(i.textContent,x,e),l=["children",x]):typeof x=="number"&&i.textContent!==""+x&&(o.suppressHydrationWarning!==!0&&hi(i.textContent,x,e),l=["children",""+x]):f.hasOwnProperty(d)&&x!=null&&d==="onScroll"&&Ce("scroll",i)}switch(n){case"input":gt(i),Ka(i,o,!0);break;case"textarea":gt(i),Xa(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=mi)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{d=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ja(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=d.createElement(n,{is:i.is}):(e=d.createElement(n),n==="select"&&(d=e,i.multiple?d.multiple=!0:i.size&&(d.size=i.size))):e=d.createElementNS(e,n),e[Pt]=t,e[Cr]=i,du(e,t,!1,!1),t.stateNode=e;e:{switch(d=xs(n,i),n){case"dialog":Ce("cancel",e),Ce("close",e),l=i;break;case"iframe":case"object":case"embed":Ce("load",e),l=i;break;case"video":case"audio":for(l=0;l<Nr.length;l++)Ce(Nr[l],e);l=i;break;case"source":Ce("error",e),l=i;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),l=i;break;case"details":Ce("toggle",e),l=i;break;case"input":qa(e,i),l=ps(e,i),Ce("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=X({},i,{value:void 0}),Ce("invalid",e);break;case"textarea":Ya(e,i),l=gs(e,i),Ce("invalid",e);break;default:l=i}ys(n,l),x=l;for(o in x)if(x.hasOwnProperty(o)){var w=x[o];o==="style"?to(e,w):o==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&Za(e,w)):o==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&nr(e,w):typeof w=="number"&&nr(e,""+w):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(f.hasOwnProperty(o)?w!=null&&o==="onScroll"&&Ce("scroll",e):w!=null&&Q(e,o,w,d))}switch(n){case"input":gt(e),Ka(e,i,!1);break;case"textarea":gt(e),Xa(e);break;case"option":i.value!=null&&e.setAttribute("value",""+de(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?kn(e,!!i.multiple,o,!1):i.defaultValue!=null&&kn(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=mi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)pu(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(c(166));if(n=yn(br.current),yn(Tt.current),wi(t)){if(i=t.stateNode,n=t.memoizedProps,i[Pt]=t,(o=i.nodeValue!==n)&&(e=it,e!==null))switch(e.tag){case 3:hi(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hi(i.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Pt]=t,t.stateNode=i}return He(t),null;case 13:if(ke(Te),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&st!==null&&t.mode&1&&!(t.flags&128))gc(),$n(),t.flags|=98560,o=!1;else if(o=wi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(c(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[Pt]=t}else $n(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),o=!1}else xt!==null&&(Yl(xt),xt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Ae===0&&(Ae=3):Jl())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Hn(),Ml(e,t),e===null&&wr(t.stateNode.containerInfo),He(t),null;case 10:return fl(t.type._context),He(t),null;case 17:return Ge(t.type)&&vi(),He(t),null;case 19:if(ke(Te),o=t.memoizedState,o===null)return He(t),null;if(i=(t.flags&128)!==0,d=o.rendering,d===null)if(i)Ir(o,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=Ti(e),d!==null){for(t.flags|=128,Ir(o,!1),i=d.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)o=n,e=i,o.flags&=14680066,d=o.alternate,d===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,e=d.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Te,Te.current&1|2),t.child}e=e.sibling}o.tail!==null&&ze()>Kn&&(t.flags|=128,i=!0,Ir(o,!1),t.lanes=4194304)}else{if(!i)if(e=Ti(d),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ir(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ee)return He(t),null}else 2*ze()-o.renderingStartTime>Kn&&n!==1073741824&&(t.flags|=128,i=!0,Ir(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(n=o.last,n!==null?n.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ze(),t.sibling=null,n=Te.current,Se(Te,i?n&1|2:n&1),t):(He(t),null);case 22:case 23:return Xl(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?lt&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(c(156,t.tag))}function Cp(e,t){switch(ll(t),t.tag){case 1:return Ge(t.type)&&vi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(),ke(Ye),ke(Ve),xl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vl(t),null;case 13:if(ke(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));$n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Te),null;case 4:return Hn(),null;case 10:return fl(t.type._context),null;case 22:case 23:return Xl(),null;case 24:return null;default:return null}}var Fi=!1,We=!1,kp=typeof WeakSet=="function"?WeakSet:Set,Z=null;function qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Re(e,t,i)}else n.current=null}function Ol(e,t,n){try{n()}catch(i){Re(e,t,i)}}var hu=!1;function Ep(e,t){if(Xs=ri,e=qo(),Bs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var d=0,x=-1,w=-1,D=0,U=0,V=e,$=null;t:for(;;){for(var G;V!==n||l!==0&&V.nodeType!==3||(x=d+l),V!==o||i!==0&&V.nodeType!==3||(w=d+i),V.nodeType===3&&(d+=V.nodeValue.length),(G=V.firstChild)!==null;)$=V,V=G;for(;;){if(V===e)break t;if($===n&&++D===l&&(x=d),$===o&&++U===i&&(w=d),(G=V.nextSibling)!==null)break;V=$,$=V.parentNode}V=G}n=x===-1||w===-1?null:{start:x,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Js={focusedElem:e,selectionRange:n},ri=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var ee=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var ne=ee.memoizedProps,Le=ee.memoizedState,L=t.stateNode,E=L.getSnapshotBeforeUpdate(t.elementType===t.type?ne:jt(t.type,ne),Le);L.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(B){Re(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return ee=hu,hu=!1,ee}function Dr(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Ol(t,n,o)}l=l.next}while(l!==i)}}function Mi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function $l(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function mu(e){var t=e.alternate;t!==null&&(e.alternate=null,mu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[Cr],delete t[nl],delete t[op],delete t[cp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gu(e){return e.tag===5||e.tag===3||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ul(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mi));else if(i!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}function Vl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Vl(e,t,n),e=e.sibling;e!==null;)Vl(e,t,n),e=e.sibling}var $e=null,Nt=!1;function en(e,t,n){for(n=n.child;n!==null;)yu(e,t,n),n=n.sibling}function yu(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Xr,n)}catch{}switch(n.tag){case 5:We||qn(n,t);case 6:var i=$e,l=Nt;$e=null,en(e,t,n),$e=i,Nt=l,$e!==null&&(Nt?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Nt?(e=$e,n=n.stateNode,e.nodeType===8?tl(e.parentNode,n):e.nodeType===1&&tl(e,n),pr(e)):tl($e,n.stateNode));break;case 4:i=$e,l=Nt,$e=n.stateNode.containerInfo,Nt=!0,en(e,t,n),$e=i,Nt=l;break;case 0:case 11:case 14:case 15:if(!We&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var o=l,d=o.destroy;o=o.tag,d!==void 0&&(o&2||o&4)&&Ol(n,t,d),l=l.next}while(l!==i)}en(e,t,n);break;case 1:if(!We&&(qn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(x){Re(n,t,x)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(We=(i=We)||n.memoizedState!==null,en(e,t,n),We=i):en(e,t,n);break;default:en(e,t,n)}}function xu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kp),t.forEach(function(i){var l=Dp.bind(null,e,i);n.has(i)||(n.add(i),i.then(l,l))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];try{var o=e,d=t,x=d;e:for(;x!==null;){switch(x.tag){case 5:$e=x.stateNode,Nt=!1;break e;case 3:$e=x.stateNode.containerInfo,Nt=!0;break e;case 4:$e=x.stateNode.containerInfo,Nt=!0;break e}x=x.return}if($e===null)throw Error(c(160));yu(o,d,l),$e=null,Nt=!1;var w=l.alternate;w!==null&&(w.return=null),l.return=null}catch(D){Re(l,t,D)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ju(t,e),t=t.sibling}function ju(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Rt(e),i&4){try{Dr(3,e,e.return),Mi(3,e)}catch(ne){Re(e,e.return,ne)}try{Dr(5,e,e.return)}catch(ne){Re(e,e.return,ne)}}break;case 1:wt(t,e),Rt(e),i&512&&n!==null&&qn(n,n.return);break;case 5:if(wt(t,e),Rt(e),i&512&&n!==null&&qn(n,n.return),e.flags&32){var l=e.stateNode;try{nr(l,"")}catch(ne){Re(e,e.return,ne)}}if(i&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,d=n!==null?n.memoizedProps:o,x=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{x==="input"&&o.type==="radio"&&o.name!=null&&Qa(l,o),xs(x,d);var D=xs(x,o);for(d=0;d<w.length;d+=2){var U=w[d],V=w[d+1];U==="style"?to(l,V):U==="dangerouslySetInnerHTML"?Za(l,V):U==="children"?nr(l,V):Q(l,U,V,D)}switch(x){case"input":hs(l,o);break;case"textarea":Ga(l,o);break;case"select":var $=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var G=o.value;G!=null?kn(l,!!o.multiple,G,!1):$!==!!o.multiple&&(o.defaultValue!=null?kn(l,!!o.multiple,o.defaultValue,!0):kn(l,!!o.multiple,o.multiple?[]:"",!1))}l[Cr]=o}catch(ne){Re(e,e.return,ne)}}break;case 6:if(wt(t,e),Rt(e),i&4){if(e.stateNode===null)throw Error(c(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(ne){Re(e,e.return,ne)}}break;case 3:if(wt(t,e),Rt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{pr(t.containerInfo)}catch(ne){Re(e,e.return,ne)}break;case 4:wt(t,e),Rt(e);break;case 13:wt(t,e),Rt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Wl=ze())),i&4&&xu(e);break;case 22:if(U=n!==null&&n.memoizedState!==null,e.mode&1?(We=(D=We)||U,wt(t,e),We=D):wt(t,e),Rt(e),i&8192){if(D=e.memoizedState!==null,(e.stateNode.isHidden=D)&&!U&&e.mode&1)for(Z=e,U=e.child;U!==null;){for(V=Z=U;Z!==null;){switch($=Z,G=$.child,$.tag){case 0:case 11:case 14:case 15:Dr(4,$,$.return);break;case 1:qn($,$.return);var ee=$.stateNode;if(typeof ee.componentWillUnmount=="function"){i=$,n=$.return;try{t=i,ee.props=t.memoizedProps,ee.state=t.memoizedState,ee.componentWillUnmount()}catch(ne){Re(i,n,ne)}}break;case 5:qn($,$.return);break;case 22:if($.memoizedState!==null){Su(V);continue}}G!==null?(G.return=$,Z=G):Su(V)}U=U.sibling}e:for(U=null,V=e;;){if(V.tag===5){if(U===null){U=V;try{l=V.stateNode,D?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(x=V.stateNode,w=V.memoizedProps.style,d=w!=null&&w.hasOwnProperty("display")?w.display:null,x.style.display=eo("display",d))}catch(ne){Re(e,e.return,ne)}}}else if(V.tag===6){if(U===null)try{V.stateNode.nodeValue=D?"":V.memoizedProps}catch(ne){Re(e,e.return,ne)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;U===V&&(U=null),V=V.return}U===V&&(U=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:wt(t,e),Rt(e),i&4&&xu(e);break;case 21:break;default:wt(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gu(n)){var i=n;break e}n=n.return}throw Error(c(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(nr(l,""),i.flags&=-33);var o=vu(e);Vl(e,o,l);break;case 3:case 4:var d=i.stateNode.containerInfo,x=vu(e);Ul(e,x,d);break;default:throw Error(c(161))}}catch(w){Re(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pp(e,t,n){Z=e,Nu(e)}function Nu(e,t,n){for(var i=(e.mode&1)!==0;Z!==null;){var l=Z,o=l.child;if(l.tag===22&&i){var d=l.memoizedState!==null||Fi;if(!d){var x=l.alternate,w=x!==null&&x.memoizedState!==null||We;x=Fi;var D=We;if(Fi=d,(We=w)&&!D)for(Z=l;Z!==null;)d=Z,w=d.child,d.tag===22&&d.memoizedState!==null?Cu(l):w!==null?(w.return=d,Z=w):Cu(l);for(;o!==null;)Z=o,Nu(o),o=o.sibling;Z=l,Fi=x,We=D}wu(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,Z=o):wu(e)}}function wu(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||Mi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!We)if(n===null)i.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);i.componentDidUpdate(l,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Sc(t,o,i);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sc(t,d,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var D=t.alternate;if(D!==null){var U=D.memoizedState;if(U!==null){var V=U.dehydrated;V!==null&&pr(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}We||t.flags&512&&$l(t)}catch($){Re(t,t.return,$)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Su(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Cu(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mi(4,t)}catch(w){Re(t,n,w)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(w){Re(t,l,w)}}var o=t.return;try{$l(t)}catch(w){Re(t,o,w)}break;case 5:var d=t.return;try{$l(t)}catch(w){Re(t,d,w)}}}catch(w){Re(t,t.return,w)}if(t===e){Z=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Z=x;break}Z=t.return}}var Tp=Math.ceil,Oi=q.ReactCurrentDispatcher,Bl=q.ReactCurrentOwner,dt=q.ReactCurrentBatchConfig,ve=0,Me=null,_e=null,Ue=0,lt=0,Qn=Yt(0),Ae=0,Ar=null,jn=0,$i=0,Hl=0,Fr=null,Je=null,Wl=0,Kn=1/0,Ot=null,Ui=!1,ql=null,tn=null,Vi=!1,nn=null,Bi=0,Mr=0,Ql=null,Hi=-1,Wi=0;function Ke(){return ve&6?ze():Hi!==-1?Hi:Hi=ze()}function rn(e){return e.mode&1?ve&2&&Ue!==0?Ue&-Ue:dp.transition!==null?(Wi===0&&(Wi=vo()),Wi):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:Eo(e.type)),e):1}function St(e,t,n,i){if(50<Mr)throw Mr=0,Ql=null,Error(c(185));or(e,n,i),(!(ve&2)||e!==Me)&&(e===Me&&(!(ve&2)&&($i|=n),Ae===4&&sn(e,Ue)),Ze(e,i),n===1&&ve===0&&!(t.mode&1)&&(Kn=ze()+500,xi&&Xt()))}function Ze(e,t){var n=e.callbackNode;df(e,t);var i=ei(e,e===Me?Ue:0);if(i===0)n!==null&&ho(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&ho(n),t===1)e.tag===0?up(Eu.bind(null,e)):dc(Eu.bind(null,e)),lp(function(){!(ve&6)&&Xt()}),n=null;else{switch(yo(i)){case 1:n=Es;break;case 4:n=mo;break;case 16:n=Gr;break;case 536870912:n=go;break;default:n=Gr}n=Iu(n,ku.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ku(e,t){if(Hi=-1,Wi=0,ve&6)throw Error(c(327));var n=e.callbackNode;if(Yn()&&e.callbackNode!==n)return null;var i=ei(e,e===Me?Ue:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=qi(e,i);else{t=i;var l=ve;ve|=2;var o=Tu();(Me!==e||Ue!==t)&&(Ot=null,Kn=ze()+500,wn(e,t));do try{zp();break}catch(x){Pu(e,x)}while(!0);dl(),Oi.current=o,ve=l,_e!==null?t=0:(Me=null,Ue=0,t=Ae)}if(t!==0){if(t===2&&(l=Ps(e),l!==0&&(i=l,t=Kl(e,l))),t===1)throw n=Ar,wn(e,0),sn(e,i),Ze(e,ze()),n;if(t===6)sn(e,i);else{if(l=e.current.alternate,!(i&30)&&!bp(l)&&(t=qi(e,i),t===2&&(o=Ps(e),o!==0&&(i=o,t=Kl(e,o))),t===1))throw n=Ar,wn(e,0),sn(e,i),Ze(e,ze()),n;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(c(345));case 2:Sn(e,Je,Ot);break;case 3:if(sn(e,i),(i&130023424)===i&&(t=Wl+500-ze(),10<t)){if(ei(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){Ke(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=el(Sn.bind(null,e,Je,Ot),t);break}Sn(e,Je,Ot);break;case 4:if(sn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var d=31-vt(i);o=1<<d,d=t[d],d>l&&(l=d),i&=~o}if(i=l,i=ze()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Tp(i/1960))-i,10<i){e.timeoutHandle=el(Sn.bind(null,e,Je,Ot),i);break}Sn(e,Je,Ot);break;case 5:Sn(e,Je,Ot);break;default:throw Error(c(329))}}}return Ze(e,ze()),e.callbackNode===n?ku.bind(null,e):null}function Kl(e,t){var n=Fr;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=qi(e,t),e!==2&&(t=Je,Je=n,t!==null&&Yl(t)),e}function Yl(e){Je===null?Je=e:Je.push.apply(Je,e)}function bp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var l=n[i],o=l.getSnapshot;l=l.value;try{if(!yt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sn(e,t){for(t&=~Hl,t&=~$i,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),i=1<<n;e[n]=-1,t&=~i}}function Eu(e){if(ve&6)throw Error(c(327));Yn();var t=ei(e,0);if(!(t&1))return Ze(e,ze()),null;var n=qi(e,t);if(e.tag!==0&&n===2){var i=Ps(e);i!==0&&(t=i,n=Kl(e,i))}if(n===1)throw n=Ar,wn(e,0),sn(e,t),Ze(e,ze()),n;if(n===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sn(e,Je,Ot),Ze(e,ze()),null}function Gl(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(Kn=ze()+500,xi&&Xt())}}function Nn(e){nn!==null&&nn.tag===0&&!(ve&6)&&Yn();var t=ve;ve|=1;var n=dt.transition,i=Ne;try{if(dt.transition=null,Ne=1,e)return e()}finally{Ne=i,dt.transition=n,ve=t,!(ve&6)&&Xt()}}function Xl(){lt=Qn.current,ke(Qn)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sp(n)),_e!==null)for(n=_e.return;n!==null;){var i=n;switch(ll(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&vi();break;case 3:Hn(),ke(Ye),ke(Ve),xl();break;case 5:vl(i);break;case 4:Hn();break;case 13:ke(Te);break;case 19:ke(Te);break;case 10:fl(i.type._context);break;case 22:case 23:Xl()}n=n.return}if(Me=e,_e=e=ln(e.current,null),Ue=lt=t,Ae=0,Ar=null,Hl=$i=jn=0,Je=Fr=null,vn!==null){for(t=0;t<vn.length;t++)if(n=vn[t],i=n.interleaved,i!==null){n.interleaved=null;var l=i.next,o=n.pending;if(o!==null){var d=o.next;o.next=l,i.next=d}n.pending=i}vn=null}return e}function Pu(e,t){do{var n=_e;try{if(dl(),bi.current=_i,Ri){for(var i=be.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ri=!1}if(xn=0,Fe=De=be=null,Rr=!1,zr=0,Bl.current=null,n===null||n.return===null){Ae=1,Ar=t,_e=null;break}e:{var o=e,d=n.return,x=n,w=t;if(t=Ue,x.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var D=w,U=x,V=U.tag;if(!(U.mode&1)&&(V===0||V===11||V===15)){var $=U.alternate;$?(U.updateQueue=$.updateQueue,U.memoizedState=$.memoizedState,U.lanes=$.lanes):(U.updateQueue=null,U.memoizedState=null)}var G=Jc(d);if(G!==null){G.flags&=-257,Zc(G,d,x,o,t),G.mode&1&&Xc(o,D,t),t=G,w=D;var ee=t.updateQueue;if(ee===null){var ne=new Set;ne.add(w),t.updateQueue=ne}else ee.add(w);break e}else{if(!(t&1)){Xc(o,D,t),Jl();break e}w=Error(c(426))}}else if(Ee&&x.mode&1){var Le=Jc(d);if(Le!==null){!(Le.flags&65536)&&(Le.flags|=256),Zc(Le,d,x,o,t),cl(Wn(w,x));break e}}o=w=Wn(w,x),Ae!==4&&(Ae=2),Fr===null?Fr=[o]:Fr.push(o),o=d;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var L=Yc(o,w,t);wc(o,L);break e;case 1:x=w;var E=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(tn===null||!tn.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var B=Gc(o,x,t);wc(o,B);break e}}o=o.return}while(o!==null)}Ru(n)}catch(ie){t=ie,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function Tu(){var e=Oi.current;return Oi.current=_i,e===null?_i:e}function Jl(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Me===null||!(jn&268435455)&&!($i&268435455)||sn(Me,Ue)}function qi(e,t){var n=ve;ve|=2;var i=Tu();(Me!==e||Ue!==t)&&(Ot=null,wn(e,t));do try{Rp();break}catch(l){Pu(e,l)}while(!0);if(dl(),ve=n,Oi.current=i,_e!==null)throw Error(c(261));return Me=null,Ue=0,Ae}function Rp(){for(;_e!==null;)bu(_e)}function zp(){for(;_e!==null&&!tf();)bu(_e)}function bu(e){var t=_u(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Ru(e):_e=t,Bl.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Cp(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,_e=null;return}}else if(n=Sp(n,t,lt),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ae===0&&(Ae=5)}function Sn(e,t,n){var i=Ne,l=dt.transition;try{dt.transition=null,Ne=1,Lp(e,t,n,i)}finally{dt.transition=l,Ne=i}return null}function Lp(e,t,n,i){do Yn();while(nn!==null);if(ve&6)throw Error(c(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(ff(e,o),e===Me&&(_e=Me=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vi||(Vi=!0,Iu(Gr,function(){return Yn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=dt.transition,dt.transition=null;var d=Ne;Ne=1;var x=ve;ve|=4,Bl.current=null,Ep(e,n),ju(n,e),Jf(Js),ri=!!Xs,Js=Xs=null,e.current=n,Pp(n),nf(),ve=x,Ne=d,dt.transition=o}else e.current=n;if(Vi&&(Vi=!1,nn=e,Bi=l),o=e.pendingLanes,o===0&&(tn=null),lf(n.stateNode),Ze(e,ze()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],i(l.value,{componentStack:l.stack,digest:l.digest});if(Ui)throw Ui=!1,e=ql,ql=null,e;return Bi&1&&e.tag!==0&&Yn(),o=e.pendingLanes,o&1?e===Ql?Mr++:(Mr=0,Ql=e):Mr=0,Xt(),null}function Yn(){if(nn!==null){var e=yo(Bi),t=dt.transition,n=Ne;try{if(dt.transition=null,Ne=16>e?16:e,nn===null)var i=!1;else{if(e=nn,nn=null,Bi=0,ve&6)throw Error(c(331));var l=ve;for(ve|=4,Z=e.current;Z!==null;){var o=Z,d=o.child;if(Z.flags&16){var x=o.deletions;if(x!==null){for(var w=0;w<x.length;w++){var D=x[w];for(Z=D;Z!==null;){var U=Z;switch(U.tag){case 0:case 11:case 15:Dr(8,U,o)}var V=U.child;if(V!==null)V.return=U,Z=V;else for(;Z!==null;){U=Z;var $=U.sibling,G=U.return;if(mu(U),U===D){Z=null;break}if($!==null){$.return=G,Z=$;break}Z=G}}}var ee=o.alternate;if(ee!==null){var ne=ee.child;if(ne!==null){ee.child=null;do{var Le=ne.sibling;ne.sibling=null,ne=Le}while(ne!==null)}}Z=o}}if(o.subtreeFlags&2064&&d!==null)d.return=o,Z=d;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Dr(9,o,o.return)}var L=o.sibling;if(L!==null){L.return=o.return,Z=L;break e}Z=o.return}}var E=e.current;for(Z=E;Z!==null;){d=Z;var _=d.child;if(d.subtreeFlags&2064&&_!==null)_.return=d,Z=_;else e:for(d=E;Z!==null;){if(x=Z,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Mi(9,x)}}catch(ie){Re(x,x.return,ie)}if(x===d){Z=null;break e}var B=x.sibling;if(B!==null){B.return=x.return,Z=B;break e}Z=x.return}}if(ve=l,Xt(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Xr,e)}catch{}i=!0}return i}finally{Ne=n,dt.transition=t}}return!1}function zu(e,t,n){t=Wn(n,t),t=Yc(e,t,1),e=Zt(e,t,1),t=Ke(),e!==null&&(or(e,1,t),Ze(e,t))}function Re(e,t,n){if(e.tag===3)zu(e,e,n);else for(;t!==null;){if(t.tag===3){zu(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(tn===null||!tn.has(i))){e=Wn(n,e),e=Gc(t,e,1),t=Zt(t,e,1),e=Ke(),t!==null&&(or(t,1,e),Ze(t,e));break}}t=t.return}}function _p(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Ue&n)===n&&(Ae===4||Ae===3&&(Ue&130023424)===Ue&&500>ze()-Wl?wn(e,0):Hl|=n),Ze(e,t)}function Lu(e,t){t===0&&(e.mode&1?(t=Zr,Zr<<=1,!(Zr&130023424)&&(Zr=4194304)):t=1);var n=Ke();e=At(e,t),e!==null&&(or(e,t,n),Ze(e,n))}function Ip(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lu(e,n)}function Dp(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(c(314))}i!==null&&i.delete(t),Lu(e,n)}var _u;_u=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,wp(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,Ee&&t.flags&1048576&&fc(t,Ni,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ai(e,t),e=t.pendingProps;var l=Fn(t,Ve.current);Bn(t,n),l=wl(null,t,i,e,l,n);var o=Sl();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(i)?(o=!0,yi(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ml(t),l.updater=Ii,t.stateNode=l,l._reactInternals=t,bl(t,i,e,n),t=_l(null,t,i,!0,o,n)):(t.tag=0,Ee&&o&&sl(t),Qe(null,t,l,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ai(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=Fp(i),e=jt(i,e),l){case 0:t=Ll(null,t,i,e,n);break e;case 1:t=su(null,t,i,e,n);break e;case 11:t=eu(null,t,i,e,n);break e;case 14:t=tu(null,t,i,jt(i.type,e),n);break e}throw Error(c(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:jt(i,l),Ll(e,t,i,l,n);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:jt(i,l),su(e,t,i,l,n);case 3:e:{if(lu(t),e===null)throw Error(c(387));i=t.pendingProps,o=t.memoizedState,l=o.element,Nc(e,t),Pi(t,i,null,n);var d=t.memoizedState;if(i=d.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=Wn(Error(c(423)),t),t=au(e,t,i,n,l);break e}else if(i!==l){l=Wn(Error(c(424)),t),t=au(e,t,i,n,l);break e}else for(st=Kt(t.stateNode.containerInfo.firstChild),it=t,Ee=!0,xt=null,n=xc(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($n(),i===l){t=Mt(e,t,n);break e}Qe(e,t,i,n)}t=t.child}return t;case 5:return Cc(t),e===null&&ol(t),i=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,d=l.children,Zs(i,l)?d=null:o!==null&&Zs(i,o)&&(t.flags|=32),iu(e,t),Qe(e,t,d,n),t.child;case 6:return e===null&&ol(t),null;case 13:return ou(e,t,n);case 4:return gl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Un(t,null,i,n):Qe(e,t,i,n),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:jt(i,l),eu(e,t,i,l,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,o=t.memoizedProps,d=l.value,Se(Ci,i._currentValue),i._currentValue=d,o!==null)if(yt(o.value,d)){if(o.children===l.children&&!Ye.current){t=Mt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var x=o.dependencies;if(x!==null){d=o.child;for(var w=x.firstContext;w!==null;){if(w.context===i){if(o.tag===1){w=Ft(-1,n&-n),w.tag=2;var D=o.updateQueue;if(D!==null){D=D.shared;var U=D.pending;U===null?w.next=w:(w.next=U.next,U.next=w),D.pending=w}}o.lanes|=n,w=o.alternate,w!==null&&(w.lanes|=n),pl(o.return,n,t),x.lanes|=n;break}w=w.next}}else if(o.tag===10)d=o.type===t.type?null:o.child;else if(o.tag===18){if(d=o.return,d===null)throw Error(c(341));d.lanes|=n,x=d.alternate,x!==null&&(x.lanes|=n),pl(d,n,t),d=o.sibling}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===t){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}Qe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,Bn(t,n),l=ct(l),i=i(l),t.flags|=1,Qe(e,t,i,n),t.child;case 14:return i=t.type,l=jt(i,t.pendingProps),l=jt(i.type,l),tu(e,t,i,l,n);case 15:return nu(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:jt(i,l),Ai(e,t),t.tag=1,Ge(i)?(e=!0,yi(t)):e=!1,Bn(t,n),Qc(t,i,l),bl(t,i,l,n),_l(null,t,i,!0,e,n);case 19:return uu(e,t,n);case 22:return ru(e,t,n)}throw Error(c(156,t.tag))};function Iu(e,t){return po(e,t)}function Ap(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,i){return new Ap(e,t,n,i)}function Zl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fp(e){if(typeof e=="function")return Zl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ge)return 11;if(e===ye)return 14}return 2}function ln(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qi(e,t,n,i,l,o){var d=2;if(i=e,typeof e=="function")Zl(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case S:return Cn(n.children,l,o,t);case F:d=8,l|=8;break;case I:return e=ft(12,n,t,l|2),e.elementType=I,e.lanes=o,e;case ce:return e=ft(13,n,t,l),e.elementType=ce,e.lanes=o,e;case me:return e=ft(19,n,t,l),e.elementType=me,e.lanes=o,e;case je:return Ki(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:d=10;break e;case J:d=9;break e;case ge:d=11;break e;case ye:d=14;break e;case we:d=16,i=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return t=ft(d,n,t,l),t.elementType=e,t.type=i,t.lanes=o,t}function Cn(e,t,n,i){return e=ft(7,e,i,t),e.lanes=n,e}function Ki(e,t,n,i){return e=ft(22,e,i,t),e.elementType=je,e.lanes=n,e.stateNode={isHidden:!1},e}function ea(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function ta(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mp(e,t,n,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ts(0),this.expirationTimes=Ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function na(e,t,n,i,l,o,d,x,w){return e=new Mp(e,t,n,x,w),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ft(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ml(o),e}function Op(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Du(e){if(!e)return Gt;e=e._reactInternals;e:{if(fn(e)!==e||e.tag!==1)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(c(171))}if(e.tag===1){var n=e.type;if(Ge(n))return cc(e,n,t)}return t}function Au(e,t,n,i,l,o,d,x,w){return e=na(n,i,!0,e,l,o,d,x,w),e.context=Du(null),n=e.current,i=Ke(),l=rn(n),o=Ft(i,l),o.callback=t??null,Zt(n,o,l),e.current.lanes=l,or(e,l,i),Ze(e,i),e}function Yi(e,t,n,i){var l=t.current,o=Ke(),d=rn(l);return n=Du(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(o,d),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Zt(l,t,d),e!==null&&(St(e,l,d,o),Ei(e,l,d)),d}function Gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ra(e,t){Fu(e,t),(e=e.alternate)&&Fu(e,t)}var Mu=typeof reportError=="function"?reportError:function(e){console.error(e)};function ia(e){this._internalRoot=e}Xi.prototype.render=ia.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));Yi(e,t,null,null)},Xi.prototype.unmount=ia.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nn(function(){Yi(null,e,null,null)}),t[Lt]=null}};function Xi(e){this._internalRoot=e}Xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=No();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wt.length&&t!==0&&t<Wt[n].priority;n++);Wt.splice(n,0,e),n===0&&Co(e)}};function sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ou(){}function $p(e,t,n,i,l){if(l){if(typeof i=="function"){var o=i;i=function(){var D=Gi(d);o.call(D)}}var d=Au(t,i,e,0,null,!1,!1,"",Ou);return e._reactRootContainer=d,e[Lt]=d.current,wr(e.nodeType===8?e.parentNode:e),Nn(),d}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var x=i;i=function(){var D=Gi(w);x.call(D)}}var w=na(e,0,!1,null,null,!1,!1,"",Ou);return e._reactRootContainer=w,e[Lt]=w.current,wr(e.nodeType===8?e.parentNode:e),Nn(function(){Yi(t,w,n,i)}),w}function Zi(e,t,n,i,l){var o=n._reactRootContainer;if(o){var d=o;if(typeof l=="function"){var x=l;l=function(){var w=Gi(d);x.call(w)}}Yi(t,d,e,l)}else d=$p(n,t,e,l,i);return Gi(d)}xo=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ar(t.pendingLanes);n!==0&&(bs(t,n|1),Ze(t,ze()),!(ve&6)&&(Kn=ze()+500,Xt()))}break;case 13:Nn(function(){var i=At(e,1);if(i!==null){var l=Ke();St(i,e,1,l)}}),ra(e,1)}},Rs=function(e){if(e.tag===13){var t=At(e,134217728);if(t!==null){var n=Ke();St(t,e,134217728,n)}ra(e,134217728)}},jo=function(e){if(e.tag===13){var t=rn(e),n=At(e,t);if(n!==null){var i=Ke();St(n,e,t,i)}ra(e,t)}},No=function(){return Ne},wo=function(e,t){var n=Ne;try{return Ne=e,t()}finally{Ne=n}},ws=function(e,t,n){switch(t){case"input":if(hs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=gi(i);if(!l)throw Error(c(90));Wa(i),hs(i,l)}}}break;case"textarea":Ga(e,n);break;case"select":t=n.value,t!=null&&kn(e,!!n.multiple,t,!1)}},so=Gl,lo=Nn;var Up={usingClientEntryPoint:!1,Events:[kr,Dn,gi,ro,io,Gl]},Or={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vp={bundleType:Or.bundleType,version:Or.version,rendererPackageName:Or.rendererPackageName,rendererConfig:Or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uo(e),e===null?null:e.stateNode},findFiberByHostInstance:Or.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{Xr=es.inject(Vp),Et=es}catch{}}return et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Up,et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sa(t))throw Error(c(200));return Op(e,t,null,n)},et.createRoot=function(e,t){if(!sa(e))throw Error(c(299));var n=!1,i="",l=Mu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=na(e,1,!1,null,null,n,!1,i,l),e[Lt]=t.current,wr(e.nodeType===8?e.parentNode:e),new ia(t)},et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=uo(t),e=e===null?null:e.stateNode,e},et.flushSync=function(e){return Nn(e)},et.hydrate=function(e,t,n){if(!Ji(t))throw Error(c(200));return Zi(null,e,t,!0,n)},et.hydrateRoot=function(e,t,n){if(!sa(e))throw Error(c(405));var i=n!=null&&n.hydratedSources||null,l=!1,o="",d=Mu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=Au(t,null,e,1,n??null,l,!1,o,d),e[Lt]=t.current,wr(e),i)for(e=0;e<i.length;e++)n=i[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Xi(t)},et.render=function(e,t,n){if(!Ji(t))throw Error(c(200));return Zi(null,e,t,!1,n)},et.unmountComponentAtNode=function(e){if(!Ji(e))throw Error(c(40));return e._reactRootContainer?(Nn(function(){Zi(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1},et.unstable_batchedUpdates=Gl,et.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ji(n))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return Zi(e,t,n,!1,i)},et.version="18.3.1-next-f1338f8080-20240426",et}var Qu;function Zp(){if(Qu)return oa.exports;Qu=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),oa.exports=Jp(),oa.exports}var Ku;function eh(){if(Ku)return ns;Ku=1;var s=Zp();return ns.createRoot=s.createRoot,ns.hydrateRoot=s.hydrateRoot,ns}var th=eh();const nh=La(th);var Ur={},Yu;function rh(){if(Yu)return Ur;Yu=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.parse=m,Ur.serialize=h;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,a=/^[\u0021-\u003A\u003C-\u007E]*$/,c=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,u=/^[\u0020-\u003A\u003D-\u007E]*$/,f=Object.prototype.toString,p=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function m(N,P){const C=new p,k=N.length;if(k<2)return C;const R=(P==null?void 0:P.decode)||T;let z=0;do{const A=N.indexOf("=",z);if(A===-1)break;const Q=N.indexOf(";",z),q=Q===-1?k:Q;if(A>q){z=N.lastIndexOf(";",A-1)+1;continue}const H=y(N,z,A),Y=v(N,A,H),S=N.slice(H,Y);if(C[S]===void 0){let F=y(N,A+1,q),I=v(N,q,F);const W=R(N.slice(F,I));C[S]=W}z=q+1}while(z<k);return C}function y(N,P,C){do{const k=N.charCodeAt(P);if(k!==32&&k!==9)return P}while(++P<C);return C}function v(N,P,C){for(;P>C;){const k=N.charCodeAt(--P);if(k!==32&&k!==9)return P+1}return C}function h(N,P,C){const k=(C==null?void 0:C.encode)||encodeURIComponent;if(!s.test(N))throw new TypeError(`argument name is invalid: ${N}`);const R=k(P);if(!a.test(R))throw new TypeError(`argument val is invalid: ${P}`);let z=N+"="+R;if(!C)return z;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);z+="; Max-Age="+C.maxAge}if(C.domain){if(!c.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);z+="; Domain="+C.domain}if(C.path){if(!u.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);z+="; Path="+C.path}if(C.expires){if(!j(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);z+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(z+="; HttpOnly"),C.secure&&(z+="; Secure"),C.partitioned&&(z+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return z}function T(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function j(N){return f.call(N)==="[object Date]"}return Ur}rh();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gu="popstate";function ih(s={}){function a(u,f){let{pathname:p,search:m,hash:y}=u.location;return Ra("",{pathname:p,search:m,hash:y},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function c(u,f){return typeof f=="string"?f:Br(f)}return lh(a,c,null,s)}function Pe(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Ct(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function sh(){return Math.random().toString(36).substring(2,10)}function Xu(s,a){return{usr:s.state,key:s.key,idx:a}}function Ra(s,a,c=null,u){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof a=="string"?Xn(a):a,state:c,key:a&&a.key||u||sh()}}function Br({pathname:s="/",search:a="",hash:c=""}){return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),c&&c!=="#"&&(s+=c.charAt(0)==="#"?c:"#"+c),s}function Xn(s){let a={};if(s){let c=s.indexOf("#");c>=0&&(a.hash=s.substring(c),s=s.substring(0,c));let u=s.indexOf("?");u>=0&&(a.search=s.substring(u),s=s.substring(0,u)),s&&(a.pathname=s)}return a}function lh(s,a,c,u={}){let{window:f=document.defaultView,v5Compat:p=!1}=u,m=f.history,y="POP",v=null,h=T();h==null&&(h=0,m.replaceState({...m.state,idx:h},""));function T(){return(m.state||{idx:null}).idx}function j(){y="POP";let R=T(),z=R==null?null:R-h;h=R,v&&v({action:y,location:k.location,delta:z})}function N(R,z){y="PUSH";let A=Ra(k.location,R,z);h=T()+1;let Q=Xu(A,h),q=k.createHref(A);try{m.pushState(Q,"",q)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;f.location.assign(q)}p&&v&&v({action:y,location:k.location,delta:1})}function P(R,z){y="REPLACE";let A=Ra(k.location,R,z);h=T();let Q=Xu(A,h),q=k.createHref(A);m.replaceState(Q,"",q),p&&v&&v({action:y,location:k.location,delta:0})}function C(R){let z=f.location.origin!=="null"?f.location.origin:f.location.href,A=typeof R=="string"?R:Br(R);return A=A.replace(/ $/,"%20"),Pe(z,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,z)}let k={get action(){return y},get location(){return s(f,m)},listen(R){if(v)throw new Error("A history only accepts one active listener");return f.addEventListener(Gu,j),v=R,()=>{f.removeEventListener(Gu,j),v=null}},createHref(R){return a(f,R)},createURL:C,encodeLocation(R){let z=C(R);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:N,replace:P,go(R){return m.go(R)}};return k}function vd(s,a,c="/"){return ah(s,a,c,!1)}function ah(s,a,c,u){let f=typeof a=="string"?Xn(a):a,p=dn(f.pathname||"/",c);if(p==null)return null;let m=yd(s);oh(m);let y=null;for(let v=0;y==null&&v<m.length;++v){let h=xh(p);y=vh(m[v],h,u)}return y}function yd(s,a=[],c=[],u=""){let f=(p,m,y)=>{let v={relativePath:y===void 0?p.path||"":y,caseSensitive:p.caseSensitive===!0,childrenIndex:m,route:p};v.relativePath.startsWith("/")&&(Pe(v.relativePath.startsWith(u),`Absolute route path "${v.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(u.length));let h=$t([u,v.relativePath]),T=c.concat(v);p.children&&p.children.length>0&&(Pe(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),yd(p.children,a,T,h)),!(p.path==null&&!p.index)&&a.push({path:h,score:mh(h,p.index),routesMeta:T})};return s.forEach((p,m)=>{var y;if(p.path===""||!((y=p.path)!=null&&y.includes("?")))f(p,m);else for(let v of xd(p.path))f(p,m,v)}),a}function xd(s){let a=s.split("/");if(a.length===0)return[];let[c,...u]=a,f=c.endsWith("?"),p=c.replace(/\?$/,"");if(u.length===0)return f?[p,""]:[p];let m=xd(u.join("/")),y=[];return y.push(...m.map(v=>v===""?p:[p,v].join("/"))),f&&y.push(...m),y.map(v=>s.startsWith("/")&&v===""?"/":v)}function oh(s){s.sort((a,c)=>a.score!==c.score?c.score-a.score:gh(a.routesMeta.map(u=>u.childrenIndex),c.routesMeta.map(u=>u.childrenIndex)))}var ch=/^:[\w-]+$/,uh=3,dh=2,fh=1,ph=10,hh=-2,Ju=s=>s==="*";function mh(s,a){let c=s.split("/"),u=c.length;return c.some(Ju)&&(u+=hh),a&&(u+=dh),c.filter(f=>!Ju(f)).reduce((f,p)=>f+(ch.test(p)?uh:p===""?fh:ph),u)}function gh(s,a){return s.length===a.length&&s.slice(0,-1).every((u,f)=>u===a[f])?s[s.length-1]-a[a.length-1]:0}function vh(s,a,c=!1){let{routesMeta:u}=s,f={},p="/",m=[];for(let y=0;y<u.length;++y){let v=u[y],h=y===u.length-1,T=p==="/"?a:a.slice(p.length)||"/",j=as({path:v.relativePath,caseSensitive:v.caseSensitive,end:h},T),N=v.route;if(!j&&h&&c&&!u[u.length-1].route.index&&(j=as({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},T)),!j)return null;Object.assign(f,j.params),m.push({params:f,pathname:$t([p,j.pathname]),pathnameBase:Sh($t([p,j.pathnameBase])),route:N}),j.pathnameBase!=="/"&&(p=$t([p,j.pathnameBase]))}return m}function as(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[c,u]=yh(s.path,s.caseSensitive,s.end),f=a.match(c);if(!f)return null;let p=f[0],m=p.replace(/(.)\/+$/,"$1"),y=f.slice(1);return{params:u.reduce((h,{paramName:T,isOptional:j},N)=>{if(T==="*"){let C=y[N]||"";m=p.slice(0,p.length-C.length).replace(/(.)\/+$/,"$1")}const P=y[N];return j&&!P?h[T]=void 0:h[T]=(P||"").replace(/%2F/g,"/"),h},{}),pathname:p,pathnameBase:m,pattern:s}}function yh(s,a=!1,c=!0){Ct(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let u=[],f="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,y,v)=>(u.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(u.push({paramName:"*"}),f+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?f+="\\/*$":s!==""&&s!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,a?void 0:"i"),u]}function xh(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ct(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),s}}function dn(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let c=a.endsWith("/")?a.length-1:a.length,u=s.charAt(c);return u&&u!=="/"?null:s.slice(c)||"/"}function jh(s,a="/"){let{pathname:c,search:u="",hash:f=""}=typeof s=="string"?Xn(s):s;return{pathname:c?c.startsWith("/")?c:Nh(c,a):a,search:Ch(u),hash:kh(f)}}function Nh(s,a){let c=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(f=>{f===".."?c.length>1&&c.pop():f!=="."&&c.push(f)}),c.length>1?c.join("/"):"/"}function da(s,a,c,u){return`Cannot include a '${s}' character in a manually specified \`to.${a}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wh(s){return s.filter((a,c)=>c===0||a.route.path&&a.route.path.length>0)}function Ia(s){let a=wh(s);return a.map((c,u)=>u===a.length-1?c.pathname:c.pathnameBase)}function Da(s,a,c,u=!1){let f;typeof s=="string"?f=Xn(s):(f={...s},Pe(!f.pathname||!f.pathname.includes("?"),da("?","pathname","search",f)),Pe(!f.pathname||!f.pathname.includes("#"),da("#","pathname","hash",f)),Pe(!f.search||!f.search.includes("#"),da("#","search","hash",f)));let p=s===""||f.pathname==="",m=p?"/":f.pathname,y;if(m==null)y=c;else{let j=a.length-1;if(!u&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),j-=1;f.pathname=N.join("/")}y=j>=0?a[j]:"/"}let v=jh(f,y),h=m&&m!=="/"&&m.endsWith("/"),T=(p||m===".")&&c.endsWith("/");return!v.pathname.endsWith("/")&&(h||T)&&(v.pathname+="/"),v}var $t=s=>s.join("/").replace(/\/\/+/g,"/"),Sh=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Ch=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,kh=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Eh(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var jd=["POST","PUT","PATCH","DELETE"];new Set(jd);var Ph=["GET",...jd];new Set(Ph);var Jn=g.createContext(null);Jn.displayName="DataRouter";var cs=g.createContext(null);cs.displayName="DataRouterState";var Nd=g.createContext({isTransitioning:!1});Nd.displayName="ViewTransition";var Th=g.createContext(new Map);Th.displayName="Fetchers";var bh=g.createContext(null);bh.displayName="Await";var kt=g.createContext(null);kt.displayName="Navigation";var Hr=g.createContext(null);Hr.displayName="Location";var pt=g.createContext({outlet:null,matches:[],isDataRoute:!1});pt.displayName="Route";var Aa=g.createContext(null);Aa.displayName="RouteError";function Rh(s,{relative:a}={}){Pe(Zn(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:u}=g.useContext(kt),{hash:f,pathname:p,search:m}=Wr(s,{relative:a}),y=p;return c!=="/"&&(y=p==="/"?c:$t([c,p])),u.createHref({pathname:y,search:m,hash:f})}function Zn(){return g.useContext(Hr)!=null}function Ut(){return Pe(Zn(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Hr).location}var wd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sd(s){g.useContext(kt).static||g.useLayoutEffect(s)}function ht(){let{isDataRoute:s}=g.useContext(pt);return s?Wh():zh()}function zh(){Pe(Zn(),"useNavigate() may be used only in the context of a <Router> component.");let s=g.useContext(Jn),{basename:a,navigator:c}=g.useContext(kt),{matches:u}=g.useContext(pt),{pathname:f}=Ut(),p=JSON.stringify(Ia(u)),m=g.useRef(!1);return Sd(()=>{m.current=!0}),g.useCallback((v,h={})=>{if(Ct(m.current,wd),!m.current)return;if(typeof v=="number"){c.go(v);return}let T=Da(v,JSON.parse(p),f,h.relative==="path");s==null&&a!=="/"&&(T.pathname=T.pathname==="/"?a:$t([a,T.pathname])),(h.replace?c.replace:c.push)(T,h.state,h)},[a,c,p,f,s])}var Lh=g.createContext(null);function _h(s){let a=g.useContext(pt).outlet;return a&&g.createElement(Lh.Provider,{value:s},a)}function Fa(){let{matches:s}=g.useContext(pt),a=s[s.length-1];return a?a.params:{}}function Wr(s,{relative:a}={}){let{matches:c}=g.useContext(pt),{pathname:u}=Ut(),f=JSON.stringify(Ia(c));return g.useMemo(()=>Da(s,JSON.parse(f),u,a==="path"),[s,f,u,a])}function Ih(s,a){return Cd(s,a)}function Cd(s,a,c,u){var z;Pe(Zn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=g.useContext(kt),{matches:p}=g.useContext(pt),m=p[p.length-1],y=m?m.params:{},v=m?m.pathname:"/",h=m?m.pathnameBase:"/",T=m&&m.route;{let A=T&&T.path||"";kd(v,!T||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let j=Ut(),N;if(a){let A=typeof a=="string"?Xn(a):a;Pe(h==="/"||((z=A.pathname)==null?void 0:z.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),N=A}else N=j;let P=N.pathname||"/",C=P;if(h!=="/"){let A=h.replace(/^\//,"").split("/");C="/"+P.replace(/^\//,"").split("/").slice(A.length).join("/")}let k=vd(s,{pathname:C});Ct(T||k!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Ct(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Oh(k&&k.map(A=>Object.assign({},A,{params:Object.assign({},y,A.params),pathname:$t([h,f.encodeLocation?f.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:$t([h,f.encodeLocation?f.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),p,c,u);return a&&R?g.createElement(Hr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},R):R}function Dh(){let s=Hh(),a=Eh(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),c=s instanceof Error?s.stack:null,u="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:u},p={padding:"2px 4px",backgroundColor:u},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:p},"ErrorBoundary")," or"," ",g.createElement("code",{style:p},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},a),c?g.createElement("pre",{style:f},c):null,m)}var Ah=g.createElement(Dh,null),Fh=class extends g.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?g.createElement(pt.Provider,{value:this.props.routeContext},g.createElement(Aa.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Mh({routeContext:s,match:a,children:c}){let u=g.useContext(Jn);return u&&u.static&&u.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(pt.Provider,{value:s},c)}function Oh(s,a=[],c=null,u=null){if(s==null){if(!c)return null;if(c.errors)s=c.matches;else if(a.length===0&&!c.initialized&&c.matches.length>0)s=c.matches;else return null}let f=s,p=c==null?void 0:c.errors;if(p!=null){let v=f.findIndex(h=>h.route.id&&(p==null?void 0:p[h.route.id])!==void 0);Pe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),f=f.slice(0,Math.min(f.length,v+1))}let m=!1,y=-1;if(c)for(let v=0;v<f.length;v++){let h=f[v];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(y=v),h.route.id){let{loaderData:T,errors:j}=c,N=h.route.loader&&!T.hasOwnProperty(h.route.id)&&(!j||j[h.route.id]===void 0);if(h.route.lazy||N){m=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((v,h,T)=>{let j,N=!1,P=null,C=null;c&&(j=p&&h.route.id?p[h.route.id]:void 0,P=h.route.errorElement||Ah,m&&(y<0&&T===0?(kd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,C=null):y===T&&(N=!0,C=h.route.hydrateFallbackElement||null)));let k=a.concat(f.slice(0,T+1)),R=()=>{let z;return j?z=P:N?z=C:h.route.Component?z=g.createElement(h.route.Component,null):h.route.element?z=h.route.element:z=v,g.createElement(Mh,{match:h,routeContext:{outlet:v,matches:k,isDataRoute:c!=null},children:z})};return c&&(h.route.ErrorBoundary||h.route.errorElement||T===0)?g.createElement(Fh,{location:c.location,revalidation:c.revalidation,component:P,error:j,children:R(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):R()},null)}function Ma(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $h(s){let a=g.useContext(Jn);return Pe(a,Ma(s)),a}function Uh(s){let a=g.useContext(cs);return Pe(a,Ma(s)),a}function Vh(s){let a=g.useContext(pt);return Pe(a,Ma(s)),a}function Oa(s){let a=Vh(s),c=a.matches[a.matches.length-1];return Pe(c.route.id,`${s} can only be used on routes that contain a unique "id"`),c.route.id}function Bh(){return Oa("useRouteId")}function Hh(){var u;let s=g.useContext(Aa),a=Uh("useRouteError"),c=Oa("useRouteError");return s!==void 0?s:(u=a.errors)==null?void 0:u[c]}function Wh(){let{router:s}=$h("useNavigate"),a=Oa("useNavigate"),c=g.useRef(!1);return Sd(()=>{c.current=!0}),g.useCallback(async(f,p={})=>{Ct(c.current,wd),c.current&&(typeof f=="number"?s.navigate(f):await s.navigate(f,{fromRouteId:a,...p}))},[s,a])}var Zu={};function kd(s,a,c){!a&&!Zu[s]&&(Zu[s]=!0,Ct(!1,c))}g.memo(qh);function qh({routes:s,future:a,state:c}){return Cd(s,void 0,c,a)}function Ed({to:s,replace:a,state:c,relative:u}){Pe(Zn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=g.useContext(kt);Ct(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:p}=g.useContext(pt),{pathname:m}=Ut(),y=ht(),v=Da(s,Ia(p),m,u==="path"),h=JSON.stringify(v);return g.useEffect(()=>{y(JSON.parse(h),{replace:a,state:c,relative:u})},[y,h,u,a,c]),null}function Qh(s){return _h(s.context)}function tt(s){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kh({basename:s="/",children:a=null,location:c,navigationType:u="POP",navigator:f,static:p=!1}){Pe(!Zn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),y=g.useMemo(()=>({basename:m,navigator:f,static:p,future:{}}),[m,f,p]);typeof c=="string"&&(c=Xn(c));let{pathname:v="/",search:h="",hash:T="",state:j=null,key:N="default"}=c,P=g.useMemo(()=>{let C=dn(v,m);return C==null?null:{location:{pathname:C,search:h,hash:T,state:j,key:N},navigationType:u}},[m,v,h,T,j,N,u]);return Ct(P!=null,`<Router basename="${m}"> is not able to match the URL "${v}${h}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:g.createElement(kt.Provider,{value:y},g.createElement(Hr.Provider,{children:a,value:P}))}function Yh({children:s,location:a}){return Ih(za(s),a)}function za(s,a=[]){let c=[];return g.Children.forEach(s,(u,f)=>{if(!g.isValidElement(u))return;let p=[...a,f];if(u.type===g.Fragment){c.push.apply(c,za(u.props.children,p));return}Pe(u.type===tt,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!u.props.index||!u.props.children,"An index route cannot have child routes.");let m={id:u.props.id||p.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(m.children=za(u.props.children,p)),c.push(m)}),c}var ss="get",ls="application/x-www-form-urlencoded";function us(s){return s!=null&&typeof s.tagName=="string"}function Gh(s){return us(s)&&s.tagName.toLowerCase()==="button"}function Xh(s){return us(s)&&s.tagName.toLowerCase()==="form"}function Jh(s){return us(s)&&s.tagName.toLowerCase()==="input"}function Zh(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function em(s,a){return s.button===0&&(!a||a==="_self")&&!Zh(s)}var rs=null;function tm(){if(rs===null)try{new FormData(document.createElement("form"),0),rs=!1}catch{rs=!0}return rs}var nm=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fa(s){return s!=null&&!nm.has(s)?(Ct(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ls}"`),null):s}function rm(s,a){let c,u,f,p,m;if(Xh(s)){let y=s.getAttribute("action");u=y?dn(y,a):null,c=s.getAttribute("method")||ss,f=fa(s.getAttribute("enctype"))||ls,p=new FormData(s)}else if(Gh(s)||Jh(s)&&(s.type==="submit"||s.type==="image")){let y=s.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=s.getAttribute("formaction")||y.getAttribute("action");if(u=v?dn(v,a):null,c=s.getAttribute("formmethod")||y.getAttribute("method")||ss,f=fa(s.getAttribute("formenctype"))||fa(y.getAttribute("enctype"))||ls,p=new FormData(y,s),!tm()){let{name:h,type:T,value:j}=s;if(T==="image"){let N=h?`${h}.`:"";p.append(`${N}x`,"0"),p.append(`${N}y`,"0")}else h&&p.append(h,j)}}else{if(us(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=ss,u=null,f=ls,m=s}return p&&f==="text/plain"&&(m=p,p=void 0),{action:u,method:c.toLowerCase(),encType:f,formData:p,body:m}}function $a(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}async function im(s,a){if(s.id in a)return a[s.id];try{let c=await import(s.module);return a[s.id]=c,c}catch(c){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sm(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function lm(s,a,c){let u=await Promise.all(s.map(async f=>{let p=a.routes[f.route.id];if(p){let m=await im(p,c);return m.links?m.links():[]}return[]}));return um(u.flat(1).filter(sm).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function ed(s,a,c,u,f,p){let m=(v,h)=>c[h]?v.route.id!==c[h].route.id:!0,y=(v,h)=>{var T;return c[h].pathname!==v.pathname||((T=c[h].route.path)==null?void 0:T.endsWith("*"))&&c[h].params["*"]!==v.params["*"]};return p==="assets"?a.filter((v,h)=>m(v,h)||y(v,h)):p==="data"?a.filter((v,h)=>{var j;let T=u.routes[v.route.id];if(!T||!T.hasLoader)return!1;if(m(v,h)||y(v,h))return!0;if(v.route.shouldRevalidate){let N=v.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:((j=c[0])==null?void 0:j.params)||{},nextUrl:new URL(s,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function am(s,a){return om(s.map(c=>{let u=a.routes[c.route.id];if(!u)return[];let f=[u.module];return u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function om(s){return[...new Set(s)]}function cm(s){let a={},c=Object.keys(s).sort();for(let u of c)a[u]=s[u];return a}function um(s,a){let c=new Set;return new Set(a),s.reduce((u,f)=>{let p=JSON.stringify(cm(f));return c.has(p)||(c.add(p),u.push({key:p,link:f})),u},[])}function dm(s){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname="_root.data":a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function fm(){let s=g.useContext(Jn);return $a(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function pm(){let s=g.useContext(cs);return $a(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Ua=g.createContext(void 0);Ua.displayName="FrameworkContext";function Pd(){let s=g.useContext(Ua);return $a(s,"You must render this element inside a <HydratedRouter> element"),s}function hm(s,a){let c=g.useContext(Ua),[u,f]=g.useState(!1),[p,m]=g.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:h,onMouseLeave:T,onTouchStart:j}=a,N=g.useRef(null);g.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let k=z=>{z.forEach(A=>{m(A.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return N.current&&R.observe(N.current),()=>{R.disconnect()}}},[s]),g.useEffect(()=>{if(u){let k=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(k)}}},[u]);let P=()=>{f(!0)},C=()=>{f(!1),m(!1)};return c?s!=="intent"?[p,N,{}]:[p,N,{onFocus:Vr(y,P),onBlur:Vr(v,C),onMouseEnter:Vr(h,P),onMouseLeave:Vr(T,C),onTouchStart:Vr(j,P)}]:[!1,N,{}]}function Vr(s,a){return c=>{s&&s(c),c.defaultPrevented||a(c)}}function mm({page:s,...a}){let{router:c}=fm(),u=g.useMemo(()=>vd(c.routes,s,c.basename),[c.routes,s,c.basename]);return u?g.createElement(vm,{page:s,matches:u,...a}):null}function gm(s){let{manifest:a,routeModules:c}=Pd(),[u,f]=g.useState([]);return g.useEffect(()=>{let p=!1;return lm(s,a,c).then(m=>{p||f(m)}),()=>{p=!0}},[s,a,c]),u}function vm({page:s,matches:a,...c}){let u=Ut(),{manifest:f,routeModules:p}=Pd(),{loaderData:m,matches:y}=pm(),v=g.useMemo(()=>ed(s,a,y,f,u,"data"),[s,a,y,f,u]),h=g.useMemo(()=>ed(s,a,y,f,u,"assets"),[s,a,y,f,u]),T=g.useMemo(()=>{if(s===u.pathname+u.search+u.hash)return[];let P=new Set,C=!1;if(a.forEach(R=>{var A;let z=f.routes[R.route.id];!z||!z.hasLoader||(!v.some(Q=>Q.route.id===R.route.id)&&R.route.id in m&&((A=p[R.route.id])!=null&&A.shouldRevalidate)||z.hasClientLoader?C=!0:P.add(R.route.id))}),P.size===0)return[];let k=dm(s);return C&&P.size>0&&k.searchParams.set("_routes",a.filter(R=>P.has(R.route.id)).map(R=>R.route.id).join(",")),[k.pathname+k.search]},[m,u,f,v,a,s,p]),j=g.useMemo(()=>am(h,f),[h,f]),N=gm(h);return g.createElement(g.Fragment,null,T.map(P=>g.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...c})),j.map(P=>g.createElement("link",{key:P,rel:"modulepreload",href:P,...c})),N.map(({key:P,link:C})=>g.createElement("link",{key:P,...C})))}function ym(...s){return a=>{s.forEach(c=>{typeof c=="function"?c(a):c!=null&&(c.current=a)})}}var Td=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Td&&(window.__reactRouterVersion="7.1.3")}catch{}function xm({basename:s,children:a,window:c}){let u=g.useRef();u.current==null&&(u.current=ih({window:c,v5Compat:!0}));let f=u.current,[p,m]=g.useState({action:f.action,location:f.location}),y=g.useCallback(v=>{g.startTransition(()=>m(v))},[m]);return g.useLayoutEffect(()=>f.listen(y),[f,y]),g.createElement(Kh,{basename:s,children:a,location:p.location,navigationType:p.action,navigator:f})}var bd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=g.forwardRef(function({onClick:a,discover:c="render",prefetch:u="none",relative:f,reloadDocument:p,replace:m,state:y,target:v,to:h,preventScrollReset:T,viewTransition:j,...N},P){let{basename:C}=g.useContext(kt),k=typeof h=="string"&&bd.test(h),R,z=!1;if(typeof h=="string"&&k&&(R=h,Td))try{let I=new URL(window.location.href),W=h.startsWith("//")?new URL(I.protocol+h):new URL(h),J=dn(W.pathname,C);W.origin===I.origin&&J!=null?h=J+W.search+W.hash:z=!0}catch{Ct(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Rh(h,{relative:f}),[Q,q,H]=hm(u,N),Y=wm(h,{replace:m,state:y,target:v,preventScrollReset:T,relative:f,viewTransition:j});function S(I){a&&a(I),I.defaultPrevented||Y(I)}let F=g.createElement("a",{...N,...H,href:R||A,onClick:z||p?a:S,ref:ym(P,q),target:v,"data-discover":!k&&c==="render"?"true":void 0});return Q&&!k?g.createElement(g.Fragment,null,F,g.createElement(mm,{page:A})):F});qe.displayName="Link";var Rd=g.forwardRef(function({"aria-current":a="page",caseSensitive:c=!1,className:u="",end:f=!1,style:p,to:m,viewTransition:y,children:v,...h},T){let j=Wr(m,{relative:h.relative}),N=Ut(),P=g.useContext(cs),{navigator:C,basename:k}=g.useContext(kt),R=P!=null&&Pm(j)&&y===!0,z=C.encodeLocation?C.encodeLocation(j).pathname:j.pathname,A=N.pathname,Q=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;c||(A=A.toLowerCase(),Q=Q?Q.toLowerCase():null,z=z.toLowerCase()),Q&&k&&(Q=dn(Q,k)||Q);const q=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let H=A===z||!f&&A.startsWith(z)&&A.charAt(q)==="/",Y=Q!=null&&(Q===z||!f&&Q.startsWith(z)&&Q.charAt(z.length)==="/"),S={isActive:H,isPending:Y,isTransitioning:R},F=H?a:void 0,I;typeof u=="function"?I=u(S):I=[u,H?"active":null,Y?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let W=typeof p=="function"?p(S):p;return g.createElement(qe,{...h,"aria-current":F,className:I,ref:T,style:W,to:m,viewTransition:y},typeof v=="function"?v(S):v)});Rd.displayName="NavLink";var jm=g.forwardRef(({discover:s="render",fetcherKey:a,navigate:c,reloadDocument:u,replace:f,state:p,method:m=ss,action:y,onSubmit:v,relative:h,preventScrollReset:T,viewTransition:j,...N},P)=>{let C=km(),k=Em(y,{relative:h}),R=m.toLowerCase()==="get"?"get":"post",z=typeof y=="string"&&bd.test(y),A=Q=>{if(v&&v(Q),Q.defaultPrevented)return;Q.preventDefault();let q=Q.nativeEvent.submitter,H=(q==null?void 0:q.getAttribute("formmethod"))||m;C(q||Q.currentTarget,{fetcherKey:a,method:H,navigate:c,replace:f,state:p,relative:h,preventScrollReset:T,viewTransition:j})};return g.createElement("form",{ref:P,method:R,action:k,onSubmit:u?v:A,...N,"data-discover":!z&&s==="render"?"true":void 0})});jm.displayName="Form";function Nm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zd(s){let a=g.useContext(Jn);return Pe(a,Nm(s)),a}function wm(s,{target:a,replace:c,state:u,preventScrollReset:f,relative:p,viewTransition:m}={}){let y=ht(),v=Ut(),h=Wr(s,{relative:p});return g.useCallback(T=>{if(em(T,a)){T.preventDefault();let j=c!==void 0?c:Br(v)===Br(h);y(s,{replace:j,state:u,preventScrollReset:f,relative:p,viewTransition:m})}},[v,y,h,c,u,a,s,f,p,m])}var Sm=0,Cm=()=>`__${String(++Sm)}__`;function km(){let{router:s}=zd("useSubmit"),{basename:a}=g.useContext(kt),c=Bh();return g.useCallback(async(u,f={})=>{let{action:p,method:m,encType:y,formData:v,body:h}=rm(u,a);if(f.navigate===!1){let T=f.fetcherKey||Cm();await s.fetch(T,c,f.action||p,{preventScrollReset:f.preventScrollReset,formData:v,body:h,formMethod:f.method||m,formEncType:f.encType||y,flushSync:f.flushSync})}else await s.navigate(f.action||p,{preventScrollReset:f.preventScrollReset,formData:v,body:h,formMethod:f.method||m,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:c,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,a,c])}function Em(s,{relative:a}={}){let{basename:c}=g.useContext(kt),u=g.useContext(pt);Pe(u,"useFormAction must be used inside a RouteContext");let[f]=u.matches.slice(-1),p={...Wr(s||".",{relative:a})},m=Ut();if(s==null){p.search=m.search;let y=new URLSearchParams(p.search),v=y.getAll("index");if(v.some(T=>T==="")){y.delete("index"),v.filter(j=>j).forEach(j=>y.append("index",j));let T=y.toString();p.search=T?`?${T}`:""}}return(!s||s===".")&&f.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(p.pathname=p.pathname==="/"?c:$t([c,p.pathname])),Br(p)}function Pm(s,a={}){let c=g.useContext(Nd);Pe(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=zd("useViewTransitionState"),f=Wr(s,{relative:a.relative});if(!c.isTransitioning)return!1;let p=dn(c.currentLocation.pathname,u)||c.currentLocation.pathname,m=dn(c.nextLocation.pathname,u)||c.nextLocation.pathname;return as(f.pathname,m)!=null||as(f.pathname,p)!=null}new TextEncoder;const Tm=()=>{const[s,a]=g.useState({users:0,locations:0,reservations:0,revenue:0}),[c,u]=g.useState([]);g.useEffect(()=>{a({users:1234,locations:89,reservations:456,revenue:125430}),u([{id:1,type:"reservation",message:"Nuova prenotazione per Villa Paradiso",time:"5 minuti fa"},{id:2,type:"user",message:"Nuovo utente registrato: Mario Rossi",time:"15 minuti fa"},{id:3,type:"location",message:"Location aggiornata: Casa del Mare",time:"1 ora fa"},{id:4,type:"payment",message:"Pagamento ricevuto: €450",time:"2 ore fa"}])},[]);const f=[{title:"Aggiungi Location",link:"/location/create",icon:"➕",color:"primary"},{title:"Nuova Prenotazione",link:"/reservations",icon:"📅",color:"success"},{title:"Gestisci Utenti",link:"/users",icon:"👥",color:"info"},{title:"Importa Dati",link:"/scraping",icon:"🔄",color:"warning"}],p=m=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(m);return r.jsxs("div",{className:"dashboard-container",children:[r.jsxs("div",{className:"dashboard-header",children:[r.jsx("h1",{className:"dashboard-title",children:"Dashboard"}),r.jsx("p",{className:"dashboard-subtitle",children:"Benvenuto nel pannello di amministrazione LocaTrova"})]}),r.jsxs("div",{className:"stats-grid",children:[r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon users-icon",children:"👥"}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:s.users.toLocaleString("it-IT")}),r.jsx("p",{className:"stat-label",children:"Utenti Totali"})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon locations-icon",children:"📍"}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:s.locations}),r.jsx("p",{className:"stat-label",children:"Location Attive"})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon reservations-icon",children:"📅"}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:s.reservations}),r.jsx("p",{className:"stat-label",children:"Prenotazioni"})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon revenue-icon",children:"💰"}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:p(s.revenue)}),r.jsx("p",{className:"stat-label",children:"Entrate Totali"})]})]})]}),r.jsxs("section",{className:"dashboard-section",children:[r.jsx("h2",{className:"section-title",children:"Azioni Rapide"}),r.jsx("div",{className:"quick-actions-grid",children:f.map(m=>r.jsxs(qe,{to:m.link,className:`quick-action-card ${m.color}`,children:[r.jsx("span",{className:"quick-action-icon","aria-hidden":"true",children:m.icon}),r.jsx("span",{className:"quick-action-title",children:m.title})]},m.title))})]}),r.jsxs("section",{className:"dashboard-section",children:[r.jsx("h2",{className:"section-title",children:"Attività Recente"}),r.jsx("div",{className:"activity-list",children:c.map(m=>r.jsxs("div",{className:"activity-item",children:[r.jsxs("div",{className:`activity-icon ${m.type}`,children:[m.type==="reservation"&&"📅",m.type==="user"&&"👤",m.type==="location"&&"📍",m.type==="payment"&&"💳"]}),r.jsxs("div",{className:"activity-content",children:[r.jsx("p",{className:"activity-message",children:m.message}),r.jsx("p",{className:"activity-time",children:m.time})]})]},m.id))})]}),r.jsxs("section",{className:"dashboard-section",children:[r.jsx("h2",{className:"section-title",children:"Stato del Sistema"}),r.jsxs("div",{className:"system-status",children:[r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-indicator success"}),r.jsx("span",{className:"status-label",children:"Database: Operativo"})]}),r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-indicator success"}),r.jsx("span",{className:"status-label",children:"API: Operativo"})]}),r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-indicator warning"}),r.jsx("span",{className:"status-label",children:"Backup: Ultimo backup 2 ore fa"})]})]})]})]})},pa="access_token",ha="refresh_token";class bm{constructor(){Gn(this,"accessToken",null);Gn(this,"refreshToken",null);this.accessToken=localStorage.getItem(pa),this.refreshToken=localStorage.getItem(ha)}setTokens(a){this.accessToken=a.accessToken,this.refreshToken=a.refreshToken,localStorage.setItem(pa,a.accessToken),localStorage.setItem(ha,a.refreshToken)}getAccessToken(){return this.accessToken}getRefreshToken(){return this.refreshToken}clearTokens(){this.accessToken=null,this.refreshToken=null,localStorage.removeItem(pa),localStorage.removeItem(ha)}isAuthenticated(){return!!this.accessToken&&!this.isTokenExpired(this.accessToken)}getCurrentUser(){if(!this.accessToken)return null;try{const a=JSON.parse(atob(this.accessToken.split(".")[1]));return{userId:a.userId,email:a.email,username:a.username}}catch{return null}}isTokenExpired(a){try{return JSON.parse(atob(a.split(".")[1])).exp*1e3<Date.now()}catch{return!0}}}const on=new bm;let ma="http://localhost:3000/api";class Rm{async request(a,c="GET",u,f={requiresAuth:!0}){const p={"Content-Type":"application/json",...f.customHeaders};if(u instanceof FormData&&delete p["Content-Type"],f.requiresAuth){const v=on.getAccessToken();if(!v)throw new Error("No access token available");p.Authorization=`Bearer ${v}`}const m={method:c,headers:p,body:u instanceof FormData?u:u?JSON.stringify(u):void 0},y=await fetch(`${ma}${a}`,m);if(y.status===401&&!a.includes("/login")){if(f.requiresAuth&&await this.refreshToken()){p.Authorization=`Bearer ${on.getAccessToken()}`;const h=await fetch(`${ma}${a}`,{...m,headers:p});return this.handleResponse(h)}throw on.clearTokens(),window.dispatchEvent(new CustomEvent("auth",{detail:{event:"unauthenticated"}})),new Error("Session expired")}return this.handleResponse(y)}async handleResponse(a){const c=await a.json();if(!a.ok)throw new Error(c.error||"API request failed");return c}async refreshToken(){const a=on.getRefreshToken();if(!a)return!1;try{const c=await fetch(`${ma}/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:a})});if(!c.ok)return!1;const u=await c.json();return u.success&&u.data.accessToken?(on.setTokens({accessToken:u.data.accessToken,refreshToken:on.getRefreshToken()}),!0):!1}catch{return!1}}async login(a,c){const u=await this.request("/auth/login","POST",{email:a,password:c},{requiresAuth:!1});return u.success&&u.data.tokens&&(on.setTokens(u.data.tokens),window.dispatchEvent(new CustomEvent("auth",{detail:{event:"login"}}))),u}async logout(){await this.request("/auth/logout","POST"),on.clearTokens(),window.dispatchEvent(new CustomEvent("auth",{detail:{event:"logout"}}))}}const ds=new Rm;class zt extends Error{constructor(c,u,f,p){super(c);Gn(this,"code");Gn(this,"statusCode");Gn(this,"details");this.name="ApiError",this.code=u,this.statusCode=f,this.details=p}}class un extends zt{constructor(a,c){super(a,"VALIDATION_ERROR",400,c),this.name="ValidationError"}}class zm extends zt{constructor(a="Network error occurred"){super(a,"NETWORK_ERROR",0),this.name="NetworkError"}}class Lm extends zt{constructor(a="Authentication failed"){super(a,"AUTHENTICATION_ERROR",401),this.name="AuthenticationError"}}class _m extends zt{constructor(a="Access denied"){super(a,"AUTHORIZATION_ERROR",403),this.name="AuthorizationError"}}class Im extends zt{constructor(a="Resource not found"){super(a,"NOT_FOUND_ERROR",404),this.name="NotFoundError"}}class Dm extends zt{constructor(a="Internal server error"){super(a,"SERVER_ERROR",500),this.name="ServerError"}}class Ld extends zt{constructor(a="Request timeout"){super(a,"TIMEOUT_ERROR",408),this.name="TimeoutError"}}function Am(s,a="An error occurred"){if(s instanceof zt)return s;if(s instanceof Error){const c=s.message.toLowerCase();return c.includes("network")||c.includes("fetch")?new zm("Network connection error. Please check your internet connection."):c.includes("401")||c.includes("unauthorized")?new Lm("Session expired. Please log in again."):c.includes("403")||c.includes("forbidden")?new _m("You do not have permission to perform this action."):c.includes("404")||c.includes("not found")?new Im("The requested resource was not found."):c.includes("400")||c.includes("bad request")?new un("Invalid request. Please check your input."):c.includes("500")||c.includes("internal server")?new Dm("Server error. Please try again later."):c.includes("timeout")?new Ld("Request timed out. Please try again."):new zt(s.message,"UNKNOWN_ERROR")}return new zt(a,"UNKNOWN_ERROR")}function _d(s,a="API call"){const c=Am(s,`${a} failed`);throw console.error(`[${a}] ${c.name}:`,{message:c.message,code:c.code,statusCode:c.statusCode,details:c.details}),c}function os(s){const{field:a,value:c,required:u,minLength:f,maxLength:p,min:m,max:y,pattern:v,custom:h,message:T}=s;if(u&&(c==null||c===""))throw new un(T||`${a} is required`);if(!(!u&&(c==null||c===""))){if(typeof c=="string"){if(f!==void 0&&c.length<f)throw new un(T||`${a} must be at least ${f} characters long`);if(p!==void 0&&c.length>p)throw new un(T||`${a} must be no more than ${p} characters long`);if(v&&!v.test(c))throw new un(T||`${a} format is invalid`)}if(typeof c=="number"){if(m!==void 0&&c<m)throw new un(T||`${a} must be at least ${m}`);if(y!==void 0&&c>y)throw new un(T||`${a} must be no more than ${y}`)}if(h&&!h(c))throw new un(T||`${a} is invalid`)}}function mt(s,a="ID"){return os({field:a,value:s,required:!0,minLength:1,pattern:/^[a-fA-F0-9]{24}$/,message:`${a} must be a valid MongoDB ObjectId`}),s.trim()}function Fm(s){return os({field:"Email",value:s,required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Email format is invalid"}),s.trim().toLowerCase()}function Va(s,a){const c=s||1,u=a||10;return os({field:"Page",value:c,min:1,message:"Page must be a positive number"}),os({field:"Limit",value:u,min:1,max:100,message:"Limit must be between 1 and 100"}),{page:c,limit:u}}function Mm(s){return s.trim().replace(/[<>]/g,"").replace(/\s+/g," ")}function Om(s){const a={};return Object.entries(s).forEach(([c,u])=>{u!=null&&u!==""&&(typeof u=="string"&&u.trim()?a[c]=Mm(u):(typeof u=="number"||typeof u=="boolean")&&(a[c]=u.toString()))}),a}function Id(s){const a=Om(s);return new URLSearchParams(a).toString()}const $m=async(s,a)=>{const c=Fm(s);if(!a||a.trim().length===0)throw new Error("Password is required");return ds.login(c,a.trim())},Um=async()=>{await ds.logout()},Ba=async()=>(await ds.request("/auth/check-auth","GET")).data,Vm=async()=>{try{const s=await Ba();return s&&s.isAuthenticated&&s.user?s.user:null}catch(s){return console.error("Failed to authenticate user:",s),null}},Bm=()=>{const[s,a]=g.useState({email:"",password:""}),[c,u]=g.useState(null),[f,p]=g.useState(!0),[m,y]=g.useState(!1),[v,h]=g.useState(!1),T=ht();g.useEffect(()=>{(async()=>{try{(await Ba()).isAuthenticated&&T("/",{replace:!0})}catch(C){console.error("Auth check error:",C)}finally{p(!1)}})()},[T]);const j=g.useCallback(async P=>{P.preventDefault(),u(null),y(!0);try{await $m(s.email.trim(),s.password),T("/",{replace:!0})}catch(C){console.error("Login Error: ",C),u("Email o password errati")}finally{y(!1)}},[s.email,s.password,T]),N=g.useCallback(P=>{const{name:C,value:k}=P.target;a(R=>({...R,[C]:k})),c&&u(null)},[c]);return f?r.jsx("div",{className:"login-container",children:r.jsxs("div",{className:"loading-spinner",role:"status","aria-label":"Verifica autenticazione",children:[r.jsx("span",{className:"spinner"}),r.jsx("span",{className:"sr-only",children:"Caricamento..."})]})}):r.jsx("div",{className:"login-container",children:r.jsxs("div",{className:"login-card",children:[r.jsxs("div",{className:"login-header",children:[r.jsx("h1",{className:"login-title",children:"LocaTrova Admin"}),r.jsx("p",{className:"login-subtitle",children:"Accedi al portale di amministrazione"})]}),r.jsxs("form",{onSubmit:j,className:"login-form",noValidate:!0,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),r.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:N,className:"form-input",placeholder:"nome@esempio.com","aria-label":"Indirizzo email","aria-describedby":c?"login-error":void 0,disabled:m,required:!0,autoComplete:"email",autoFocus:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),r.jsxs("div",{className:"password-input-wrapper",children:[r.jsx("input",{type:v?"text":"password",id:"password",name:"password",value:s.password,onChange:N,className:"form-input password-input",placeholder:"Inserisci password","aria-label":"Password","aria-describedby":c?"login-error":void 0,disabled:m,required:!0,autoComplete:"current-password"}),r.jsx("button",{type:"button",className:"password-toggle",onClick:()=>h(P=>!P),"aria-label":v?"Nascondi password":"Mostra password",disabled:m,children:v?r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),r.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c&&r.jsxs("div",{className:"error-message",id:"login-error",role:"alert","aria-live":"polite",children:[r.jsxs("svg",{className:"error-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]}),c]}),r.jsx("button",{type:"submit",className:"login-button",disabled:m||!s.email.trim()||!s.password,"aria-busy":m,children:m?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),r.jsx("span",{children:"Accesso in corso..."})]}):"Accedi"})]})]})})},Hm={timeout:1e4,retries:3,retryDelay:1e3};async function Wm(s,a=3,c=1e3){let u=new Error("Unknown error");for(let f=1;f<=a;f++)try{return await s()}catch(p){if(u=p,p instanceof Error&&/4\d\d/.test(p.message))throw p;if(f===a)break;const m=c*Math.pow(2,f-1)+Math.random()*1e3;await new Promise(y=>setTimeout(y,m))}throw _d(u,`Operation failed after ${a} attempts`)}async function qm(s,a=1e4){const c=new Promise((u,f)=>{setTimeout(()=>{f(new Ld(`Operation timed out after ${a}ms`))},a)});return Promise.race([s(),c])}async function fs(s,a="GET",c,u={}){const f={...Hm,...u};try{return await qm(()=>Wm(async()=>(await ds.request(s,a,c)).data,f.retries,f.retryDelay),f.timeout)}catch(p){throw _d(p,`${a} ${s}`)}}const nt=(s,a)=>fs(s,"GET",void 0,a),er=(s,a,c)=>fs(s,"POST",a,c),Dd=(s,a)=>fs(s,"DELETE",void 0,a);async function Ha(s,a={},c){const u=new URLSearchParams(Object.entries(a).reduce((p,[m,y])=>(y!=null&&y!==""&&(p[m]=String(y)),p),{})).toString(),f=u?`${s}?${u}`:s;return nt(f,c)}async function Qm(s,a,c){const u={timeout:6e4,retries:1,...c};return fs(s,"POST",a,u)}const Km=async s=>{const a=mt(s,"User ID"),c=Id({userId:a});return nt(`/users/user?${c}`)},Ym=async s=>(mt(s.id,"User ID"),er("/users/update",s)),Ad=async s=>{const{page:a,limit:c}=Va(s.page,s.limit),u={...s,page:a,limit:c};return Ha("/users/filteredUsers",u)},Gm=async s=>{const a=Array.from(s);return a.forEach(c=>mt(c,"User ID")),er("/users/saveChanges",{usersId:a})},Xm=async s=>{const a=mt(s,"User ID");return Dd(`/users/delete/${a}`)};async function Jm(s){const a=Id({search:s});return nt(`/users/searchUsers?${a}`)}const Zm=()=>{const[s,a]=g.useState([]),[c,u]=g.useState(0),[f,p]=g.useState(!1),[m,y]=g.useState(new Set),[v,h]=g.useState(new Map),[T,j]=g.useState(!1),N=ht(),[P,C]=g.useState({username:"",email:"",phone:"",active:"",page:1,limit:10}),k=g.useMemo(()=>({username:P.username,email:P.email,phone:P.phone,active:P.active,page:P.page,limit:P.limit}),[P.username,P.email,P.phone,P.active,P.page,P.limit]),R=g.useCallback(async()=>{p(!0);try{const S=await Ad(k);a(S.users||[]),u(S.total||0)}catch(S){console.error("Error fetching users:",S),a([]),u(0),alert("Errore nel caricamento degli utenti")}finally{p(!1)}},[k]);g.useEffect(()=>{R()},[R]),g.useEffect(()=>{const S=new Map;if(s.length!==0)for(const F of s)S.set(F._id,F.active);h(S)},[s]);const z=async()=>{j(!0);try{await Gm(m),y(new Set),R();const S=document.createElement("div");S.className="toast success",S.textContent="Modifiche salvate con successo!",document.body.appendChild(S),setTimeout(()=>S.remove(),3e3)}catch(S){console.error("Error saving changes:",S),alert("Errore nel salvare le modifiche. Riprova.")}finally{j(!1)}},A=S=>{C(F=>({...F,page:S}))},Q=S=>{const F=new Map(v),I=new Set(m);F.set(S,!F.get(S)),I.has(S)?I.delete(S):I.add(S),y(I),h(F)},q=async(S,F)=>{if(window.confirm(`Sei sicuro di voler eliminare l'utente ${F}?`)){p(!0);try{if((await Xm(S)).success){R();const W=document.createElement("div");W.className="toast success",W.textContent="Utente eliminato con successo!",document.body.appendChild(W),setTimeout(()=>W.remove(),3e3)}}catch(I){console.error("Error deleting user:",I),alert("Errore nell'eliminazione dell'utente")}finally{p(!1)}}},H=()=>{C({username:"",email:"",phone:"",active:"",page:1,limit:10})},Y=Math.ceil(c/(P.limit||10));return r.jsxs("div",{className:"users-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"page-title",children:"Gestione Utenti"}),r.jsx("p",{className:"page-subtitle",children:"Visualizza e gestisci gli utenti della piattaforma"})]}),r.jsxs("button",{className:"button button-primary",onClick:()=>N("/user/create"),"aria-label":"Crea nuovo utente",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})}),"Nuovo Utente"]})]}),r.jsxs("div",{className:"filters-card",children:[r.jsxs("div",{className:"filters-header",children:[r.jsx("h2",{className:"filters-title",children:"Filtri di ricerca"}),r.jsx("button",{className:"clear-filters-btn",onClick:H,"aria-label":"Pulisci filtri",children:"Pulisci filtri"})]}),r.jsxs("div",{className:"search-filters",children:[r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"username-filter",className:"filter-label",children:"Nome utente"}),r.jsx("input",{id:"username-filter",className:"filter-input",type:"text",placeholder:"Cerca per nome...",value:P.username,onChange:S=>C({...P,username:S.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"email-filter",className:"filter-label",children:"Email"}),r.jsx("input",{id:"email-filter",className:"filter-input",type:"text",placeholder:"Cerca per email...",value:P.email,onChange:S=>C({...P,email:S.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"phone-filter",className:"filter-label",children:"Telefono"}),r.jsx("input",{id:"phone-filter",className:"filter-input",type:"text",placeholder:"Cerca per telefono...",value:P.phone,onChange:S=>C({...P,phone:S.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"status-filter",className:"filter-label",children:"Stato"}),r.jsxs("select",{id:"status-filter",className:"filter-select",value:P.active,onChange:S=>C({...P,active:S.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutti gli stati"}),r.jsx("option",{value:"true",children:"Attivi"}),r.jsx("option",{value:"false",children:"Inattivi"})]})]})]})]}),f?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento utenti..."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"table-card",children:[r.jsxs("div",{className:"table-header",children:[r.jsxs("p",{className:"results-count",children:[c," utenti trovati",m.size>0&&r.jsxs("span",{className:"changes-count",children:[" • ",m.size," modifiche non salvate"]})]}),r.jsx("div",{className:"table-actions",children:r.jsxs("select",{className:"limit-select",value:P.limit,onChange:S=>C({...P,limit:Number(S.target.value),page:1}),"aria-label":"Risultati per pagina",children:[r.jsx("option",{value:"10",children:"10 per pagina"}),r.jsx("option",{value:"25",children:"25 per pagina"}),r.jsx("option",{value:"50",children:"50 per pagina"})]})})]}),s.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsxs("svg",{className:"empty-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),r.jsx("h3",{className:"empty-title",children:"Nessun utente trovato"}),r.jsx("p",{className:"empty-text",children:"Prova a modificare i filtri di ricerca"})]}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"users-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"th-actions",children:"Azioni"}),r.jsx("th",{children:"Nome e Cognome"}),r.jsx("th",{children:"Email"}),r.jsx("th",{children:"Telefono"}),r.jsx("th",{className:"th-status",children:"Stato"})]})}),r.jsx("tbody",{children:s.map(S=>r.jsxs("tr",{className:m.has(S._id)?"row-modified":"",children:[r.jsx("td",{className:"td-actions",children:r.jsx("button",{onClick:()=>q(S._id,`${S.name} ${S.surname}`),className:"action-button delete-button","aria-label":`Elimina ${S.name} ${S.surname}`,title:"Elimina utente",children:r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),r.jsx("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})}),r.jsx("td",{onClick:()=>N(`/users/${S._id}`),className:"clickable-cell",children:r.jsxs("div",{className:"user-name-cell",children:[r.jsx("span",{className:"user-avatar",children:S.name.charAt(0).toUpperCase()}),r.jsxs("span",{className:"user-name",children:[S.name," ",S.surname]})]})}),r.jsx("td",{className:"email-cell",children:S.email}),r.jsx("td",{children:S.phone||"-"}),r.jsx("td",{children:r.jsxs("label",{className:"status-toggle",children:[r.jsx("input",{type:"checkbox",checked:v.get(S._id),onChange:()=>Q(S._id),"aria-label":`Stato attivo per ${S.name} ${S.surname}`}),r.jsx("span",{className:"status-slider"}),r.jsx("span",{className:"status-label",children:v.get(S._id)?"Attivo":"Inattivo"})]})})]},S._id))})]})})]}),m.size>0&&r.jsxs("div",{className:"changes-panel",children:[r.jsxs("div",{className:"changes-header",children:[r.jsx("h3",{className:"changes-title",children:"Modifiche non salvate"}),r.jsx("button",{className:"close-button",onClick:()=>y(new Set),"aria-label":"Annulla modifiche",children:"×"})]}),r.jsx("div",{className:"changed-users",children:Array.from(m).map(S=>{const F=s.find(I=>I._id===S);return r.jsxs("div",{className:"changed-user-item",children:[r.jsxs("span",{className:"changed-user-name",children:[F==null?void 0:F.name," ",F==null?void 0:F.surname]}),r.jsxs("span",{className:"changed-user-status",children:["→ ",v.get(S)?"Attivo":"Inattivo"]})]},S)})}),r.jsxs("div",{className:"changes-actions",children:[r.jsx("button",{className:"button button-secondary",onClick:()=>{y(new Set),R()},children:"Annulla"}),r.jsx("button",{className:"button button-primary",onClick:z,disabled:T,children:T?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]}),Y>1&&r.jsxs("div",{className:"pagination",children:[r.jsxs("button",{className:"pagination-button",disabled:P.page===1,onClick:()=>A((P.page||1)-1),"aria-label":"Pagina precedente",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Precedente"]}),r.jsxs("div",{className:"pagination-info",children:[r.jsxs("span",{className:"page-numbers",children:["Pagina ",P.page," di ",Y]}),r.jsx("div",{className:"page-dots",children:[...Array(Math.min(Y,5))].map((S,F)=>{let I;return Y<=5||P.page<=3?I=F+1:P.page>=Y-2?I=Y-4+F:I=P.page-2+F,r.jsx("button",{className:`page-dot ${I===P.page?"active":""}`,onClick:()=>A(I),"aria-label":`Vai a pagina ${I}`,children:I},F)})})]}),r.jsxs("button",{className:"pagination-button",disabled:(P.page||1)>=Y,onClick:()=>A((P.page||1)+1),"aria-label":"Pagina successiva",children:["Successiva",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})})]})]})]})]})},eg=()=>{const{userId:s}=Fa(),[a,c]=g.useState(null),[u,f]=g.useState(null),[p,m]=g.useState(!0),[y,v]=g.useState(!1),h=ht();g.useEffect(()=>{(async()=>{if(!s){h("/users");return}try{const z=await Km(s);if(!z){h("/users");return}const A={...z};c(A),f(A)}catch(z){console.error("Error fetching user details:",z),h("/users")}finally{m(!1)}})()},[s,h]);const T=g.useMemo(()=>!a||!u?!1:["name","surname","email","phone","active","verified"].some(z=>a[z]!==u[z]),[a,u]),j=(R,z)=>{u&&f({...u,[R]:z})},N=async R=>{if(R.preventDefault(),!(!u||!T)){v(!0);try{await Ym({...u,id:s}),c(u);const z=document.createElement("div");z.className="toast success",z.textContent="Utente aggiornato con successo!",document.body.appendChild(z),setTimeout(()=>z.remove(),3e3)}catch(z){console.error("Error updating user:",z);const A=document.createElement("div");A.className="toast error",A.textContent="Errore durante l'aggiornamento",document.body.appendChild(A),setTimeout(()=>A.remove(),3e3)}finally{v(!1)}}},P=()=>{a&&f(a)},C=R=>new Date(R).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),k=(R,z)=>`${R.charAt(0)}${z.charAt(0)}`.toUpperCase();return p?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento dettagli utente..."})]}):u?r.jsxs("div",{className:"user-detail-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsxs("nav",{className:"breadcrumb",children:[r.jsx(qe,{to:"/",children:"Home"}),r.jsx("span",{className:"breadcrumb-separator",children:"/"}),r.jsx(qe,{to:"/users",children:"Utenti"}),r.jsx("span",{className:"breadcrumb-separator",children:"/"}),r.jsxs("span",{children:[u.name," ",u.surname]})]}),r.jsx("h1",{className:"page-title",children:"Dettagli Utente"}),r.jsxs("p",{className:"page-subtitle",children:["ID: ",s]})]}),r.jsx("div",{className:"header-actions",children:r.jsxs("button",{className:"button button-secondary",onClick:()=>h("/users"),children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Indietro"]})})]}),r.jsxs("form",{onSubmit:N,className:"user-form",children:[r.jsx("div",{className:"profile-section",children:r.jsxs("div",{className:"profile-header",children:[r.jsx("div",{className:"profile-avatar",children:k(u.name,u.surname)}),r.jsxs("div",{className:"profile-info",children:[r.jsxs("h2",{className:"profile-name",children:[u.name," ",u.surname]}),r.jsx("p",{className:"profile-email",children:u.email}),r.jsxs("div",{className:"profile-badges",children:[r.jsx("span",{className:`badge ${u.active?"badge-success":"badge-error"}`,children:u.active?"Attivo":"Inattivo"}),u.verified&&r.jsxs("span",{className:"badge badge-info",children:[r.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M7 0a7 7 0 110 14A7 7 0 017 0zM10.28 5.28a.75.75 0 00-1.06-1.06L6.25 7.19 4.78 5.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l3.5-3.5z"})}),"Verificato"]})]})]})]})}),r.jsxs("div",{className:"form-grid",children:[r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"})}),"Informazioni Personali"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",children:"Nome"}),r.jsx("input",{id:"name",type:"text",value:u.name,onChange:R=>j("name",R.target.value),placeholder:"Nome",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"surname",children:"Cognome"}),r.jsx("input",{id:"surname",type:"text",value:u.surname,onChange:R=>j("surname",R.target.value),placeholder:"Cognome",required:!0})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"email",children:"Email"}),r.jsx("input",{id:"email",type:"email",value:u.email,onChange:R=>j("email",R.target.value),placeholder:"email@esempio.com",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:"Telefono"}),r.jsx("input",{id:"phone",type:"tel",value:u.phone||"",onChange:R=>j("phone",R.target.value),placeholder:"+39 123 456 7890"})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z"})}),"Stato Account"]}),r.jsxs("div",{className:"status-section",children:[r.jsxs("div",{className:"status-item",children:[r.jsxs("div",{className:"status-info",children:[r.jsx("label",{htmlFor:"active-toggle",children:"Stato Attivo"}),r.jsx("span",{className:"status-description",children:"L'utente può accedere al sistema"})]}),r.jsxs("label",{className:"status-toggle",children:[r.jsx("input",{id:"active-toggle",type:"checkbox",checked:u.active,onChange:R=>j("active",R.target.checked)}),r.jsx("span",{className:"status-slider"})]})]}),r.jsxs("div",{className:"status-item",children:[r.jsxs("div",{className:"status-info",children:[r.jsx("label",{htmlFor:"verified-toggle",children:"Email Verificata"}),r.jsx("span",{className:"status-description",children:"L'email dell'utente è stata confermata"})]}),r.jsxs("label",{className:"status-toggle",children:[r.jsx("input",{id:"verified-toggle",type:"checkbox",checked:u.verified||!1,onChange:R=>j("verified",R.target.checked)}),r.jsx("span",{className:"status-slider"})]})]})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"})}),"Informazioni Sistema"]}),r.jsxs("div",{className:"info-grid",children:[r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"ID Utente"}),r.jsx("span",{className:"info-value",children:u._id})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Data Creazione"}),r.jsx("span",{className:"info-value",children:u.createdAt?C(u.createdAt):"N/A"})]}),u.lastLogin&&r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Ultimo Accesso"}),r.jsx("span",{className:"info-value",children:C(u.lastLogin)})]})]})]})]}),T&&r.jsxs("div",{className:"form-actions-sticky",children:[r.jsxs("div",{className:"changes-indicator",children:[r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]}),"Hai modifiche non salvate"]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"button button-secondary",onClick:P,children:"Annulla modifiche"}),r.jsx("button",{type:"submit",className:"button button-primary",disabled:y,children:y?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]})]})]}):r.jsxs("div",{className:"error-container",children:[r.jsxs("svg",{className:"error-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),r.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),r.jsx("h2",{className:"error-title",children:"Utente non trovato"}),r.jsx(qe,{to:"/users",className:"button button-primary",children:"Torna agli utenti"})]})},tg=async s=>{const{page:a,limit:c}=Va(s.page,s.limit),u={...s,page:a,limit:c};return Ha("/locations/filteredLocations",u)},ng=async s=>{if(!Array.isArray(s)||s.length===0)throw new Error("No changes to save");return s.forEach(a=>{if(!a.id)throw new Error("Missing ID in change object");mt(a.id,"Location ID")}),er("/locations/saveChanges",s)},rg=async s=>{const a=mt(s,"Location ID");return Dd(`/locations/delete/${a}`)},ig=async s=>{const a=mt(s,"Location ID");return nt(`/locations/location?locationId=${a}`)},sg=async s=>(mt(s.id,"Location ID"),er("/locations/update",s));async function lg(s,a){if(!s)throw new Error("Dati location mancanti");return(a||(()=>{}))(10),s instanceof FormData?Qm("/locations/create",s,{timeout:6e4,retries:1}):er("/locations/create",s)}async function ag(s){if(!s||s.trim().length<2)throw new Error("Search term must be at least 2 characters");return nt(`/locations/searchLocations?search=${encodeURIComponent(s.trim())}`)}const og=()=>{const s=ht();return r.jsxs("div",{className:"error-container",children:[r.jsx("h1",{children:"Errore"}),r.jsx("p",{children:"Si è verificato un errore nel caricamento delle locations."}),r.jsxs("div",{className:"error-actions",children:[r.jsx("button",{onClick:()=>s("/"),children:"Torna alla Home"}),r.jsx("button",{onClick:()=>window.location.reload(),children:"Riprova"})]})]})},cg=()=>{const[s,a]=g.useState([]),[c,u]=g.useState(0),[f,p]=g.useState(!1),[m,y]=g.useState(new Set),[v,h]=g.useState([]),[T,j]=g.useState(!1),N=ht(),[P,C]=g.useState(!1),[k,R]=g.useState({name:"",owner:"",city:"",active:"",stripeId:"",fee:"",special:"",verified:"",page:1,limit:10}),z=g.useMemo(()=>({name:k.name,owner:k.owner,city:k.city,active:k.active,stripeId:k.stripeId,fee:k.fee,special:k.special,verified:k.verified,page:k.page,limit:k.limit}),[k.name,k.owner,k.city,k.active,k.stripeId,k.fee,k.special,k.verified,k.page,k.limit]),A=g.useCallback(async()=>{p(!0),y(new Set),h([]);try{const I=await tg(z);a(I.locations||[]),u(I.total||0),C(!1)}catch(I){console.error("Error fetching locations:",I),a([]),u(0),C(!0)}finally{p(!1)}},[z]);g.useEffect(()=>{A()},[A]),g.useEffect(()=>{s&&Array.isArray(s)&&(h([...s]),y(new Set))},[s]);const Q=async()=>{j(!0);try{const I=v.filter(J=>m.has(J._id)).map(({ownerId:J,ownerName:ge,ownerSurname:ce,_id:me,...ye})=>({...ye,id:me}));await ng(I),y(new Set),A();const W=document.createElement("div");W.className="toast success",W.textContent="Modifiche salvate con successo!",document.body.appendChild(W),setTimeout(()=>W.remove(),3e3)}catch(I){console.error("Error saving changes:",I),alert("Errore nel salvare le modifiche. Riprova.")}finally{j(!1)}},q=I=>{R(W=>({...W,page:I}))},H=(I,W,J)=>{h(ce=>ce.map(me=>me._id===I?{...me,[W]:J}:me));const ge=s.find(ce=>ce._id===I);if(ge){const ce={...ge,[W]:J},me=ge.special!==ce.special||ge.fee!==ce.fee||ge.active!==ce.active;y(ye=>{const we=new Set(ye);return me?we.add(I):we.delete(I),we})}},Y=async(I,W)=>{if(window.confirm(`Sei sicuro di voler eliminare la location ${W}?`)){p(!0);try{await rg(I),A();const J=document.createElement("div");J.className="toast success",J.textContent="Location eliminata con successo!",document.body.appendChild(J),setTimeout(()=>J.remove(),3e3)}catch(J){console.error("Error deleting location:",J),alert("Errore nell'eliminazione della location")}finally{p(!1)}}},S=()=>{R({name:"",owner:"",city:"",active:"",stripeId:"",fee:"",special:"",verified:"",page:1,limit:10})},F=Math.ceil(c/(k.limit||10));return r.jsxs("div",{className:"locations-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"page-title",children:"Gestione Location"}),r.jsx("p",{className:"page-subtitle",children:"Visualizza e gestisci le location della piattaforma"})]}),r.jsxs("button",{className:"button button-primary",onClick:()=>N("/location/create"),"aria-label":"Crea nuova location",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})}),"Nuova Location"]})]}),r.jsxs("div",{className:"filters-card",children:[r.jsxs("div",{className:"filters-header",children:[r.jsx("h2",{className:"filters-title",children:"Filtri di ricerca"}),r.jsx("button",{className:"clear-filters-btn",onClick:S,"aria-label":"Pulisci filtri",children:"Pulisci filtri"})]}),r.jsxs("div",{className:"search-filters",children:[r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"name-filter",className:"filter-label",children:"Nome location"}),r.jsx("input",{id:"name-filter",className:"filter-input",type:"text",placeholder:"Cerca per nome...",value:k.name,onChange:I=>R({...k,name:I.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"owner-filter",className:"filter-label",children:"Proprietario"}),r.jsx("input",{id:"owner-filter",className:"filter-input",type:"text",placeholder:"Nome proprietario...",value:k.owner,onChange:I=>R({...k,owner:I.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"city-filter",className:"filter-label",children:"Città"}),r.jsx("input",{id:"city-filter",className:"filter-input",type:"text",placeholder:"Cerca città...",value:k.city,onChange:I=>R({...k,city:I.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"stripe-filter",className:"filter-label",children:"Stripe ID"}),r.jsx("input",{id:"stripe-filter",className:"filter-input",type:"text",placeholder:"ID Stripe...",value:k.stripeId,onChange:I=>R({...k,stripeId:I.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"fee-filter",className:"filter-label",children:"Commissione"}),r.jsxs("select",{id:"fee-filter",className:"filter-select",value:k.fee,onChange:I=>R({...k,fee:I.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutte"}),r.jsx("option",{value:"10",children:"10%"}),r.jsx("option",{value:"15",children:"15%"}),r.jsx("option",{value:"20",children:"20%"}),r.jsx("option",{value:"25",children:"25%"}),r.jsx("option",{value:"30",children:"30%"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"type-filter",className:"filter-label",children:"Tipo"}),r.jsxs("select",{id:"type-filter",className:"filter-select",value:k.special,onChange:I=>R({...k,special:I.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutti i tipi"}),r.jsx("option",{value:"true",children:"Speciali"}),r.jsx("option",{value:"false",children:"Normali"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"active-filter",className:"filter-label",children:"Stato"}),r.jsxs("select",{id:"active-filter",className:"filter-select",value:k.active,onChange:I=>R({...k,active:I.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutti"}),r.jsx("option",{value:"true",children:"Attive"}),r.jsx("option",{value:"false",children:"Inattive"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"verified-filter",className:"filter-label",children:"Verifica"}),r.jsxs("select",{id:"verified-filter",className:"filter-select",value:k.verified,onChange:I=>R({...k,verified:I.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutte"}),r.jsx("option",{value:"true",children:"Verificate"}),r.jsx("option",{value:"false",children:"Non Verificate"})]})]})]})]}),f?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento location..."})]}):P?r.jsx(og,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"table-card",children:[r.jsxs("div",{className:"table-header",children:[r.jsxs("p",{className:"results-count",children:[c," location trovate",m.size>0&&r.jsxs("span",{className:"changes-count",children:[" • ",m.size," modifiche non salvate"]})]}),r.jsx("div",{className:"table-actions",children:r.jsxs("select",{className:"limit-select",value:k.limit,onChange:I=>R({...k,limit:Number(I.target.value),page:1}),"aria-label":"Risultati per pagina",children:[r.jsx("option",{value:"10",children:"10 per pagina"}),r.jsx("option",{value:"25",children:"25 per pagina"}),r.jsx("option",{value:"50",children:"50 per pagina"})]})})]}),v.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsxs("svg",{className:"empty-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),r.jsx("h3",{className:"empty-title",children:"Nessuna location trovata"}),r.jsx("p",{className:"empty-text",children:"Prova a modificare i filtri di ricerca"})]}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"locations-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"th-actions",children:"Azioni"}),r.jsx("th",{children:"Nome"}),r.jsx("th",{children:"Proprietario"}),r.jsx("th",{children:"Città"}),r.jsx("th",{children:"Stripe ID"}),r.jsx("th",{className:"th-checkbox",children:"Speciale"}),r.jsx("th",{className:"th-fee",children:"Commissione"}),r.jsx("th",{className:"th-checkbox",children:"Attiva"})]})}),r.jsx("tbody",{children:v.map(I=>r.jsxs("tr",{className:m.has(I._id)?"row-modified":"",children:[r.jsx("td",{className:"td-actions",children:r.jsx("button",{onClick:()=>Y(I._id,I.name),className:"action-button delete-button","aria-label":`Elimina ${I.name}`,title:"Elimina location",children:r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),r.jsx("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})}),r.jsx("td",{className:"clickable-cell location-name",onClick:()=>N(`/locations/${I._id}`),children:r.jsxs("div",{className:"location-name-wrapper",children:[r.jsx("svg",{className:"location-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})}),I.name]})}),r.jsxs("td",{className:"clickable-cell owner-name",onClick:()=>N(`/users/${I.ownerId}`),children:[I.ownerName," ",I.ownerSurname]}),r.jsx("td",{children:I.city}),r.jsx("td",{className:"stripe-id",children:I.stripeId||"-"}),r.jsx("td",{className:"td-checkbox",children:r.jsxs("label",{className:"checkbox-wrapper",children:[r.jsx("input",{type:"checkbox",checked:I.special,onChange:W=>H(I._id,"special",W.target.checked),"aria-label":`Location speciale per ${I.name}`}),r.jsx("span",{className:"checkbox-custom"})]})}),r.jsx("td",{className:"td-fee",children:r.jsxs("div",{className:"fee-input-wrapper",children:[r.jsx("input",{type:"number",min:"10",max:"30",value:I.fee,step:"5",className:"fee-input",onChange:W=>H(I._id,"fee",parseInt(W.target.value)||10),"aria-label":`Commissione per ${I.name}`}),r.jsx("span",{className:"fee-suffix",children:"%"})]})}),r.jsx("td",{className:"td-checkbox",children:r.jsxs("label",{className:"status-toggle",children:[r.jsx("input",{type:"checkbox",checked:I.active,onChange:W=>H(I._id,"active",W.target.checked),"aria-label":`Stato attivo per ${I.name}`}),r.jsx("span",{className:"status-slider"})]})})]},I._id))})]})})]}),m.size>0&&r.jsxs("div",{className:"changes-panel",children:[r.jsxs("div",{className:"changes-header",children:[r.jsx("h3",{className:"changes-title",children:"Modifiche non salvate"}),r.jsx("button",{className:"close-button",onClick:()=>{y(new Set),h([...s])},"aria-label":"Annulla modifiche",children:"×"})]}),r.jsx("div",{className:"changed-locations",children:Array.from(m).map(I=>{const W=v.find(ge=>ge._id===I),J=s.find(ge=>ge._id===I);return r.jsxs("div",{className:"changed-location-item",children:[r.jsx("span",{className:"changed-location-name",children:W==null?void 0:W.name}),r.jsx("div",{className:"changed-details",children:J&&W&&r.jsxs(r.Fragment,{children:[J.special!==W.special&&r.jsxs("span",{className:"change-badge",children:["Speciale: ",W.special?"Sì":"No"]}),J.fee!==W.fee&&r.jsxs("span",{className:"change-badge",children:["Commissione: ",W.fee,"%"]}),J.active!==W.active&&r.jsx("span",{className:"change-badge",children:W.active?"Attiva":"Inattiva"})]})})]},I)})}),r.jsxs("div",{className:"changes-actions",children:[r.jsx("button",{className:"button button-secondary",onClick:()=>{y(new Set),h([...s])},children:"Annulla"}),r.jsx("button",{className:"button button-primary",onClick:Q,disabled:T,children:T?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]}),F>1&&r.jsxs("div",{className:"pagination",children:[r.jsxs("button",{className:"pagination-button",disabled:k.page===1,onClick:()=>q((k.page||1)-1),"aria-label":"Pagina precedente",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Precedente"]}),r.jsxs("div",{className:"pagination-info",children:[r.jsxs("span",{className:"page-numbers",children:["Pagina ",k.page," di ",F]}),r.jsx("div",{className:"page-dots",children:[...Array(Math.min(F,5))].map((I,W)=>{let J;return F<=5||k.page<=3?J=W+1:k.page>=F-2?J=F-4+W:J=k.page-2+W,r.jsx("button",{className:`page-dot ${J===k.page?"active":""}`,onClick:()=>q(J),"aria-label":`Vai a pagina ${J}`,children:J},W)})})]}),r.jsxs("button",{className:"pagination-button",disabled:(k.page||1)>=F,onClick:()=>q((k.page||1)+1),"aria-label":"Pagina successiva",children:["Successiva",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})})]})]})]})]})},ug=()=>{const{locationId:s}=Fa(),[a,c]=g.useState(null),[u,f]=g.useState(null),[p,m]=g.useState(null),y=ht();g.useEffect(()=>{(async()=>{if(!s){y("/locations");return}try{const N=await ig(s);if(!N){y("/locations");return}c(N),f(N)}catch(N){console.error("Error fetching location details:",N),y("/locations")}})()},[s,y]);const v=(j,N)=>{f(P=>{if(!P)return null;const C={...P};let k=C;for(let R=0;R<j.length-1;R++)k=k[j[R]];return k[j[j.length-1]]=N,C})},h=async j=>{if(j.preventDefault(),!u||!a)return;const N=Object.keys(u).reduce((P,C)=>(u[C]!==a[C]&&(P[C]=u[C]),P),{});try{const P=await sg({id:s,...N});m(!!P)}catch(P){console.error("Error updating location: ",P),m(!1)}},T=(j,N,P=[])=>{const C=[...P,j],k=["stripeId","location","ownerId"].includes(j),R={id:j,name:j,disabled:k};return Array.isArray(N)?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[j,":"]}),r.jsx("div",{className:"nested-group",children:N.map((z,A)=>r.jsx("div",{className:j==="images"?"image-group":"",children:j==="images"?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:z,alt:`Image ${A}`,className:"image-preview"}),r.jsx("input",{...R,className:"image-input",type:"text",value:z,onChange:Q=>v([...C,A.toString()],Q.target.value)})]}):T(`${j}[${A}]`,z,C)},A))})]},j):typeof N=="object"&&N!==null?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[j,":"]}),r.jsx("div",{className:"nested-group",children:Object.entries(N).map(([z,A])=>T(z,A,C))})]},j):typeof N=="boolean"?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:j,children:[j,":"]}),r.jsx("input",{...R,type:"checkbox",checked:N,onChange:z=>v(C,z.target.checked)})]},j):typeof N=="number"?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:j,children:[j,":"]}),r.jsx("input",{...R,type:"number",value:N,onChange:z=>v(C,parseFloat(z.target.value))})]},j):j==="description"||j==="rules"?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:j,children:[j,":"]}),r.jsx("textarea",{...R,value:String(N||""),onChange:z=>v(C,z.target.value)})]},j):r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:j,children:[j,":"]}),r.jsx("input",{...R,type:"text",value:String(N||""),onChange:z=>v(C,z.target.value)})]},j)};return!u||!Object.keys(u).length?r.jsx("div",{className:"loading",children:"Loading..."}):r.jsxs("div",{className:"location-container",children:[r.jsx("h1",{className:"location-title",children:"Modifica della Location"}),r.jsxs("p",{style:{color:"black"},children:["Link Utili: ",r.jsx(qe,{to:"/",children:"[Home]"})," - ",r.jsx(qe,{to:"/locations",children:"[Lista Location]"})]}),r.jsxs("form",{onSubmit:h,className:"location-form",children:[r.jsx("input",{type:"text",value:s,className:"location-id",disabled:!0}),Object.entries(u).map(([j,N])=>T(j,N)),p!==null&&r.jsx("div",{className:p?"success-message":"error-message",children:p?"Salvataggio avvenuto con successo":"Errore durante il salvataggio"}),r.jsx("button",{type:"submit",className:"submit-button",children:"Salva"})]})]})};function Fd(s){var c,u,f;const a={};return(c=s.name)!=null&&c.trim()?s.name.length<3&&(a.name="Il nome deve essere di almeno 3 caratteri"):a.name="Il nome della location è obbligatorio",(u=s.address)!=null&&u.trim()?s.addressSelected||(a.address="Seleziona un indirizzo dalla lista dei suggerimenti"):a.address="L'indirizzo è obbligatorio",(f=s.city)!=null&&f.trim()||(a.city="La città è obbligatoria"),s.cap&&!/^\d{5}$/.test(s.cap)&&(a.cap="Il CAP deve essere di 5 cifre"),{isValid:Object.keys(a).length===0,errors:a}}function Md(s){const a={};return!s.special&&!s.ownerId&&(a.ownerId="Seleziona un proprietario o marca la location come speciale"),{isValid:Object.keys(a).length===0,errors:a}}function Od(s){var c;const a={};return s.durationType||(a.durationType="Seleziona il tipo di durata"),s.durationType&&!s.duration?a.duration="Inserisci la durata":s.duration&&s.duration<1&&(a.duration="La durata deve essere almeno 1 ora"),s.fee?(s.fee<10||s.fee>30)&&(a.fee="La commissione deve essere tra 10% e 30%"):a.fee="La commissione è obbligatoria",!s.special&&!((c=s.stripeId)!=null&&c.trim())&&(a.stripeId="Lo Stripe ID è obbligatorio per location non speciali"),s.refundPolicyId||(a.refundPolicyId="Seleziona una politica di rimborso"),{isValid:Object.keys(a).length===0,errors:a}}function $d(s){const a={};return(!s.type||s.type.length===0)&&(a.type="Seleziona almeno un tipo di attività"),{isValid:Object.keys(a).length===0,errors:a}}function dg(s){const a={};return s.length===0?(a.rooms="Aggiungi almeno una sala/spazio",{isValid:!1,errors:a}):(s.forEach((c,u)=>{var f;(f=c.name)!=null&&f.trim()||(a[`room_${u}_name`]=`Nome sala ${u+1} obbligatorio`),(!c.maxPeople||c.maxPeople<1)&&(a[`room_${u}_maxPeople`]=`Numero massimo persone per sala ${u+1} deve essere almeno 1`),(!c.pricePerHour||c.pricePerHour<1)&&(a[`room_${u}_pricePerHour`]=`Prezzo orario per sala ${u+1} deve essere almeno €1`),(!c.squareMeters||c.squareMeters<1)&&(a[`room_${u}_squareMeters`]=`Metri quadri per sala ${u+1} deve essere almeno 1`)}),{isValid:Object.keys(a).length===0,errors:a})}function Ud(s){const a={};return s.some(u=>u.length>0)?(s.forEach((u,f)=>{u.forEach((p,m)=>{!p.start||!p.end?a[`availability_${f}_${m}`]="Orario di inizio e fine obbligatori":p.start>=p.end&&(a[`availability_${f}_${m}`]="L'orario di fine deve essere dopo quello di inizio")})}),{isValid:Object.keys(a).length===0,errors:a}):(a.availability="Imposta almeno un orario di disponibilità",{isValid:!1,errors:a})}function fg(s){const a={},u=["image/jpeg","image/jpg","image/png","image/webp"];return s.forEach((f,p)=>{f.size>15728640&&(a[`image_${p}`]=`Immagine ${p+1}: dimensione massima 15MB`),u.includes(f.type)||(a[`image_${p}`]=`Immagine ${p+1}: formato non supportato (usa JPG, PNG o WebP)`)}),{isValid:Object.keys(a).length===0,errors:a}}function pg(s){const a=Fd(s),c=Md(s),u=Od(s),f=$d(s),p=dg(s.capacityPricing),m=Ud(s.availability),y=fg(s.images),v={...a.errors,...c.errors,...u.errors,...f.errors,...p.errors,...m.errors,...y.errors};return{isValid:Object.keys(v).length===0,errors:v}}const hg=async s=>{if(!s||s.trim().length<3)throw new Error("Query must be at least 3 characters long");const a=encodeURIComponent(s.trim());return nt(`/utils/geocode?address=${a}`)},mg=({data:s,updateData:a,errors:c,onNext:u})=>{const[f,p]=g.useState({suggestions:[],isLoading:!1,error:null,showSuggestions:!1}),[m,y]=g.useState({}),v=g.useRef(null),h=g.useRef(null),T=g.useRef([]),[j,N]=g.useState(-1);g.useEffect(()=>()=>{v.current&&v.current.abort(),h.current&&clearTimeout(h.current)},[]);const P=S=>S.trim().replace(/[<>]/g,""),C=g.useCallback((S,F)=>{const I=F;switch(S){case"name":return!I||!I.trim()?"Il nome della location è obbligatorio":I.length<3?"Il nome deve essere di almeno 3 caratteri":I.length>100?"Il nome non può superare i 100 caratteri":/^[a-zA-ZÀ-ÿ0-9\s\-_.,'()]+$/.test(I)?null:"Il nome contiene caratteri non validi";case"address":return!I||!I.trim()?"L'indirizzo è obbligatorio":s.addressSelected?null:"Seleziona un indirizzo dalla lista dei suggerimenti";case"city":return!I||!I.trim()?"La città è obbligatoria":I.length>50?"Il nome della città è troppo lungo":/^[a-zA-ZÀ-ÿ\s\-']+$/.test(I)?null:"Il nome della città contiene caratteri non validi";case"cap":return I&&!/^\d{5}$/.test(I)?"Il CAP deve essere di 5 cifre":null;case"description":return I&&I.length>1e3?"La descrizione non può superare i 1000 caratteri":null;case"rules":return I&&I.length>500?"Le regole non possono superare i 500 caratteri":null;default:return null}},[s.addressSelected]),k=g.useCallback(async S=>{v.current&&v.current.abort(),h.current&&clearTimeout(h.current);const F=P(S);if(F.length<3){p(W=>({...W,suggestions:[],showSuggestions:!1,error:null}));return}v.current=new AbortController;const{signal:I}=v.current;p(W=>({...W,isLoading:!0,error:null,showSuggestions:!0}));try{if(await new Promise(J=>{h.current=setTimeout(J,300)}),I.aborted)return;const W=await hg(F);if(I.aborted)return;W&&Array.isArray(W)?p(J=>({...J,suggestions:W.slice(0,5),isLoading:!1,error:null})):p(J=>({...J,suggestions:[],isLoading:!1,error:"Nessun indirizzo trovato"}))}catch(W){if(I.aborted)return;console.error("Address search error:",W),p(J=>({...J,suggestions:[],isLoading:!1,error:"Errore durante la ricerca degli indirizzi. Riprova."}))}},[]),R=g.useCallback(S=>{const F=P(S);a({address:F,addressSelected:!1,coordinates:[0,0]}),m.address&&y(I=>({...I,address:""})),N(-1),k(F)},[a,m.address,k]),z=g.useCallback(S=>{let F=s.city||"",I=s.cap||"";const W=S.formattedAddress.split(",");W.length>1&&!F&&(F=W[1].trim()),a({address:S.formattedAddress,city:F,cap:I,coordinates:[S.lng,S.lat],addressSelected:!0}),p(J=>({...J,suggestions:[],showSuggestions:!1,error:null})),N(-1),y(J=>({...J,address:"",city:F?"":J.city,cap:I?"":J.cap}))},[s.city,s.cap,a]),A=g.useCallback((S,F)=>{const I=P(F);a({[S]:I});const W=C(S,I);y(J=>({...J,[S]:W||""}))},[a,C]),Q=g.useCallback(S=>{if(!(!f.showSuggestions||f.suggestions.length===0))switch(S.key){case"ArrowDown":S.preventDefault(),N(F=>F<f.suggestions.length-1?F+1:0);break;case"ArrowUp":S.preventDefault(),N(F=>F>0?F-1:f.suggestions.length-1);break;case"Enter":S.preventDefault(),j>=0&&z(f.suggestions[j]);break;case"Escape":S.preventDefault(),p(F=>({...F,showSuggestions:!1})),N(-1);break}},[f.showSuggestions,f.suggestions,j,z]),q=g.useCallback(()=>{const S=Fd(s),F={},I=C("name",s.name);I&&(F.name=I);const W=C("address",s.address);W&&(F.address=W);const J=C("city",s.city);J&&(F.city=J);const ge=C("cap",s.cap);ge&&(F.cap=ge);const ce=C("description",s.description);ce&&(F.description=ce);const me=C("rules",s.rules);me&&(F.rules=me);const ye={...S.errors,...F};if(Object.keys(ye).length===0)u();else{y(ye);const we=Object.keys(ye)[0],je=document.getElementById(we);je&&(je.focus(),je.scrollIntoView({behavior:"smooth",block:"center"}))}},[s,C,u]),H=(S,F)=>{if(m[S]||c[S])return"error";switch(S){case"address":return s.address&&s.addressSelected?"success":"";case"cap":return F&&typeof F=="string"&&/^\d{5}$/.test(F)?"success":"";default:return F&&typeof F=="string"&&F.trim()?"success":""}},Y=s.name.trim()&&s.address&&s.addressSelected&&s.city.trim()&&Object.keys(m).every(S=>!m[S]);return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Informazioni di Base"}),r.jsx("p",{className:"form-section-description",children:"Inserisci le informazioni principali della location. Tutti i campi contrassegnati con * sono obbligatori."}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",className:"form-label required",children:"Nome Location"}),r.jsx("input",{id:"name",type:"text",className:`form-input ${H("name",s.name)}`,placeholder:"es. Villa Sunset, Sala Conferenze Aurora...",value:s.name,onChange:S=>A("name",S.target.value),autoComplete:"off",maxLength:100,"aria-describedby":"name-error name-help","aria-invalid":!!(m.name||c.name)}),(m.name||c.name)&&r.jsxs("div",{id:"name-error",className:"form-error",role:"alert",children:[r.jsx("span",{children:"⚠️"}),m.name||c.name]}),!m.name&&!c.name&&s.name.trim()&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"Nome valido"]}),r.jsx("div",{id:"name-help",className:"form-help",children:"Il nome deve essere unico e descrittivo (3-100 caratteri)"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"address",className:"form-label required",children:"Indirizzo"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("input",{id:"address",type:"text",className:`form-input ${H("address",s.address)}`,placeholder:"Inizia a digitare l'indirizzo...",value:s.address,onChange:S=>R(S.target.value),onKeyDown:Q,onFocus:()=>{f.suggestions.length>0&&p(S=>({...S,showSuggestions:!0}))},onBlur:()=>{setTimeout(()=>{p(S=>({...S,showSuggestions:!1})),N(-1)},200)},autoComplete:"off","aria-describedby":"address-error address-help","aria-invalid":!!(m.address||c.address),"aria-expanded":f.showSuggestions,"aria-haspopup":"listbox",role:"combobox"}),f.isLoading&&r.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:r.jsx("div",{className:"loading-spinner","aria-label":"Ricerca indirizzi..."})}),f.showSuggestions&&r.jsx("div",{className:"address-suggestions",role:"listbox","aria-label":"Suggerimenti indirizzi",children:f.suggestions.length>0?f.suggestions.map((S,F)=>r.jsx("div",{ref:I=>T.current[F]=I,className:`address-suggestion ${F===j?"active":""}`,onClick:()=>z(S),onMouseEnter:()=>N(F),role:"option","aria-selected":F===j,tabIndex:-1,children:S.formattedAddress},F)):f.error?r.jsx("div",{className:"address-suggestion error",role:"alert",children:f.error}):r.jsx("div",{className:"address-suggestion",role:"status",children:"Nessun risultato trovato"})})]}),(m.address||c.address)&&r.jsxs("div",{id:"address-error",className:"form-error",role:"alert",children:[r.jsx("span",{children:"⚠️"}),m.address||c.address]}),!m.address&&!c.address&&s.address&&!s.addressSelected&&r.jsx("div",{className:"form-help",children:"Seleziona un indirizzo dalla lista dei suggerimenti"}),!m.address&&!c.address&&s.address&&s.addressSelected&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"Indirizzo confermato"]}),r.jsx("div",{id:"address-help",className:"form-help",children:"Usa le frecce ↑↓ per navigare, Invio per selezionare, Esc per chiudere"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"city",className:"form-label required",children:"Città"}),r.jsx("input",{id:"city",type:"text",className:`form-input ${H("city",s.city)}`,placeholder:"es. Roma, Milano, Napoli...",value:s.city,onChange:S=>A("city",S.target.value),autoComplete:"address-level2",maxLength:50,"aria-describedby":"city-error city-help","aria-invalid":!!(m.city||c.city)}),(m.city||c.city)&&r.jsxs("div",{id:"city-error",className:"form-error",role:"alert",children:[r.jsx("span",{children:"⚠️"}),m.city||c.city]}),!m.city&&!c.city&&s.city.trim()&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"Città valida"]}),r.jsx("div",{id:"city-help",className:"form-help",children:"La città viene spesso compilata automaticamente dall'indirizzo"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"cap",className:"form-label",children:"CAP"}),r.jsx("input",{id:"cap",type:"text",className:`form-input ${H("cap",s.cap)}`,placeholder:"es. 00100",value:s.cap||"",onChange:S=>{const F=S.target.value.replace(/\D/g,"");A("cap",F)},maxLength:5,autoComplete:"postal-code",pattern:"\\d{5}","aria-describedby":"cap-error cap-help","aria-invalid":!!(m.cap||c.cap)}),(m.cap||c.cap)&&r.jsxs("div",{id:"cap-error",className:"form-error",role:"alert",children:[r.jsx("span",{children:"⚠️"}),m.cap||c.cap]}),!m.cap&&!c.cap&&s.cap&&/^\d{5}$/.test(s.cap)&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"CAP valido"]}),r.jsx("div",{id:"cap-help",className:"form-help",children:"Il CAP viene spesso compilato automaticamente dall'indirizzo"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"description",className:"form-label",children:"Descrizione"}),r.jsx("textarea",{id:"description",className:`form-textarea ${H("description",s.description)}`,placeholder:"Descrivi la location, i suoi punti di forza, le caratteristiche uniche...",value:s.description||"",onChange:S=>A("description",S.target.value),rows:4,maxLength:1e3,"aria-describedby":"description-help description-count",style:{resize:"vertical"}}),r.jsxs("div",{className:"form-help",children:[r.jsx("span",{id:"description-help",children:"Una buona descrizione aiuta i clienti a capire meglio la location"}),r.jsxs("span",{id:"description-count",style:{float:"right",fontSize:"0.8rem",color:"#6b7280"},children:[(s.description||"").length,"/1000"]})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"rules",className:"form-label",children:"Regole e Restrizioni"}),r.jsx("textarea",{id:"rules",className:`form-textarea ${H("rules",s.rules)}`,placeholder:"es. Vietato fumare, Silenzio dopo le 22:00, Massimo 100 persone...",value:s.rules||"",onChange:S=>A("rules",S.target.value),rows:3,maxLength:500,"aria-describedby":"rules-help rules-count",style:{resize:"vertical"}}),r.jsxs("div",{className:"form-help",children:[r.jsx("span",{id:"rules-help",children:"Specifica eventuali regole o restrizioni per l'uso della location"}),r.jsxs("span",{id:"rules-count",style:{float:"right",fontSize:"0.8rem",color:"#6b7280"},children:[(s.rules||"").length,"/500"]})]})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 1 di 6 - Informazioni di Base"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:q,disabled:!Y,"aria-describedby":"form-status",children:"Continua →"})]}),r.jsx("div",{id:"form-status",style:{marginTop:"8px",fontSize:"0.8rem"},children:Y?r.jsx("span",{style:{color:"#10b981"},children:"✓ Tutti i campi obbligatori completati"}):r.jsx("span",{style:{color:"#ef4444"},children:"Completa i campi obbligatori per continuare"})})]})]})},gg=({data:s,updateData:a,errors:c,onNext:u,onPrevious:f})=>{const[p,m]=g.useState(""),[y,v]=g.useState([]),[h,T]=g.useState(null),[j,N]=g.useState(!1),[P,C]=g.useState(!1);g.useEffect(()=>{if(s.ownerId&&!h){const H=y.find(Y=>Y._id===s.ownerId);H&&T(H)}},[s.ownerId,h,y]);const k=g.useCallback(async H=>{if(!H.trim()){v([]);return}C(!0);try{const Y=await Ad({username:H});v(Y.users||[])}catch(Y){console.error("Failed to fetch users:",Y),v([])}finally{C(!1)}},[]);g.useEffect(()=>{const H=setTimeout(()=>{p&&!h&&k(p)},300);return()=>clearTimeout(H)},[p,h,k]);const R=H=>{a({special:H,ownerId:H?"":s.ownerId}),H&&(T(null),m(""),N(!1))},z=H=>{T(H),a({ownerId:H._id}),m(""),N(!1)},A=H=>{m(H),T(null),a({ownerId:""}),N(!0)},Q=()=>{Md(s).isValid&&u()},q=s.special||s.ownerId&&h;return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Selezione Proprietario"}),r.jsx("p",{className:"form-section-description",children:"Seleziona il proprietario della location o marcala come location speciale/storica."}),r.jsxs("div",{className:"special-location-card",children:[r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{id:"special",type:"checkbox",className:"checkbox-input",checked:s.special,onChange:H=>R(H.target.checked)}),r.jsx("label",{htmlFor:"special",className:"checkbox-label",children:r.jsx("strong",{children:"Location Speciale/Storica"})})]}),r.jsx("p",{children:"Le location speciali sono luoghi storici o di particolare interesse che non richiedono un proprietario specifico e possono avere configurazioni particolari."}),s.special&&r.jsxs("div",{className:"alert alert-info",children:[r.jsx("span",{children:"ℹ️"}),"Hai selezionato una location speciale. Non è necessario selezionare un proprietario."]})]}),!s.special&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"owner-search",className:"form-label required",children:"Cerca Proprietario"}),r.jsxs("div",{className:"user-search-container",children:[r.jsx("input",{id:"owner-search",type:"text",className:`form-input ${c.ownerId?"error":h?"success":""}`,placeholder:"Inizia a digitare nome, cognome o email...",value:h?`${h.name} ${h.surname}`:p,onChange:H=>A(H.target.value),onFocus:()=>!h&&N(!0),onBlur:()=>setTimeout(()=>N(!1),200),autoComplete:"off"}),P&&r.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:r.jsx("div",{className:"loading-spinner"})}),j&&(p||y.length>0)&&!h&&r.jsx("div",{className:"user-search-results",children:y.length>0?y.map(H=>r.jsx("div",{className:"user-search-item",onClick:()=>z(H),children:r.jsxs("div",{children:[r.jsxs("strong",{children:[H.name," ",H.surname]}),H.email&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:H.email})]})},H._id)):p?r.jsxs("div",{className:"user-search-no-results",children:['Nessun utente trovato per "',p,'"']}):r.jsx("div",{className:"user-search-no-results",children:"Inizia a digitare per cercare un utente"})})]}),c.ownerId&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.ownerId]}),!c.ownerId&&h&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"Proprietario selezionato: ",h.name," ",h.surname]}),r.jsxs("div",{className:"form-help",children:["Cerca per nome, cognome o email. Se non trovi l'utente,",r.jsx("a",{href:"/users",target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",textDecoration:"none",marginLeft:"4px"},children:"crealo prima dalla gestione utenti"}),"."]})]}),h&&!s.special&&r.jsxs("div",{style:{background:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"8px",padding:"16px",margin:"16px 0"},children:[r.jsx("h4",{style:{margin:"0 0 8px 0",color:"#0c4a6e"},children:"Proprietario Selezionato"}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{children:[r.jsxs("div",{style:{fontWeight:"600"},children:[h.name," ",h.surname]}),h.email&&r.jsx("div",{style:{fontSize:"0.9rem",color:"#64748b"},children:h.email}),r.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:["ID: ",h._id]})]}),r.jsx("button",{type:"button",className:"btn btn-outline",style:{padding:"8px 16px",fontSize:"0.9rem"},onClick:()=>{T(null),a({ownerId:""}),m("")},children:"Cambia"})]})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"← Indietro"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 2 di 6 - Proprietario"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:Q,disabled:!q,children:"Continua →"})]}),!q&&r.jsx("div",{style:{marginTop:"8px",color:"#ef4444",fontSize:"0.8rem",textAlign:"center"},children:s.special?"Location speciale configurata":"Seleziona un proprietario per continuare"})]})]})},td=[{id:1,name:"Feste Private",description:"Compleanni, anniversari, celebrazioni private"},{id:2,name:"Eventi Aziendali",description:"Riunioni, conferenze, team building"},{id:3,name:"Matrimoni",description:"Cerimonie e ricevimenti matrimoniali"},{id:4,name:"Formazione",description:"Corsi, workshop, seminari"},{id:5,name:"Fotografia",description:"Set fotografici e videografici"},{id:6,name:"Sport",description:"Attività sportive e fitness"},{id:7,name:"Arte e Cultura",description:"Mostre, spettacoli, eventi culturali"},{id:8,name:"Gastronomia",description:"Cene, degustazioni, eventi enogastronomici"}],vg=({data:s,updateData:a,errors:c,onNext:u,onPrevious:f})=>{const p=v=>{const h=s.type||[],T=h.includes(v)?h.filter(j=>j!==v):[...h,v];a({type:T})},m=()=>{$d(s).isValid&&u()},y=s.type&&s.type.length>0;return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Tipologie di Attività"}),r.jsx("p",{className:"form-section-description",children:"Seleziona i tipi di attività che possono essere svolte in questa location. Puoi selezionare più tipologie."}),c.type&&r.jsxs("div",{className:"alert alert-error",children:[r.jsx("span",{children:"⚠️"}),c.type]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px",marginBottom:"24px"},children:td.map(v=>{var h,T,j,N;return r.jsxs("div",{className:`capacity-pricing-item ${(h=s.type)!=null&&h.includes(v.id)?"selected":""}`,style:{cursor:"pointer",transition:"all 0.2s",border:(T=s.type)!=null&&T.includes(v.id)?"2px solid #3b82f6":"1px solid #e2e8f0",background:(j=s.type)!=null&&j.includes(v.id)?"#f0f4ff":"#f8fafc"},onClick:()=>p(v.id),children:[r.jsxs("div",{className:"checkbox-group",style:{marginBottom:"8px"},children:[r.jsx("input",{type:"checkbox",className:"checkbox-input",checked:((N=s.type)==null?void 0:N.includes(v.id))||!1,onChange:()=>p(v.id),onClick:P=>P.stopPropagation()}),r.jsx("label",{className:"checkbox-label",children:r.jsx("strong",{children:v.name})})]}),r.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#64748b",paddingLeft:"26px"},children:v.description})]},v.id)})}),s.type&&s.type.length>0&&r.jsxs("div",{className:"alert alert-success",children:[r.jsx("span",{children:"✓"}),s.type.length," tipologie selezionate: ",td.filter(v=>{var h;return(h=s.type)==null?void 0:h.includes(v.id)}).map(v=>v.name).join(", ")]}),r.jsxs("div",{className:"form-help",children:[r.jsx("strong",{children:"Suggerimento:"})," Seleziona tutte le tipologie pertinenti per aumentare la visibilità della location nei risultati di ricerca."]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"← Indietro"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 3 di 6 - Tipologie Attività"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:m,disabled:!y,children:"Continua →"})]}),!y&&r.jsx("div",{style:{marginTop:"8px",color:"#ef4444",fontSize:"0.8rem",textAlign:"center"},children:"Seleziona almeno una tipologia di attività per continuare"})]})]})},yg=({data:s,updateData:a,errors:c,onNext:u,onPrevious:f})=>{const p=()=>{Od(s).isValid&&u()},m=s.durationType&&s.duration&&s.fee&&(s.special||s.stripeId);return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Prezzi e Durata"}),r.jsx("p",{className:"form-section-description",children:"Configura le impostazioni di prezzo, durata e pagamento per la location."}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Tipo di Durata"}),r.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"8px"},children:[r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{type:"radio",id:"duration-fixed",name:"durationType",value:"FIXED",checked:s.durationType==="FIXED",onChange:y=>a({durationType:y.target.value})}),r.jsx("label",{htmlFor:"duration-fixed",className:"checkbox-label",children:"Durata Fissa"})]}),r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{type:"radio",id:"duration-min",name:"durationType",value:"MIN",checked:s.durationType==="MIN",onChange:y=>a({durationType:y.target.value})}),r.jsx("label",{htmlFor:"duration-min",className:"checkbox-label",children:"Durata Minima"})]})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"duration",className:"form-label required",children:s.durationType==="FIXED"?"Durata Fissa (ore)":"Durata Minima (ore)"}),r.jsx("input",{id:"duration",type:"number",className:`form-input ${c.duration?"error":s.duration?"success":""}`,placeholder:"es. 2",value:s.duration||"",onChange:y=>a({duration:parseInt(y.target.value)||0}),min:"1",max:"24"}),c.duration&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.duration]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fee",className:"form-label required",children:"Commissione LocaTrova (%)"}),r.jsx("input",{id:"fee",type:"number",className:`form-input ${c.fee?"error":s.fee?"success":""}`,placeholder:"20",value:s.fee||"",onChange:y=>a({fee:parseInt(y.target.value)||0}),min:"10",max:"30",step:"5"}),c.fee&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.fee]}),r.jsx("div",{className:"form-help",children:"Commissione standard: 20%. Range consentito: 10%-30%"})]}),!s.special&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stripeId",className:"form-label required",children:"Stripe Account ID"}),r.jsx("input",{id:"stripeId",type:"text",className:`form-input ${c.stripeId?"error":s.stripeId?"success":""}`,placeholder:"acct_...",value:s.stripeId||"",onChange:y=>a({stripeId:y.target.value})}),c.stripeId&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.stripeId]}),r.jsx("div",{className:"form-help",children:"ID del conto Stripe Connect del proprietario per ricevere i pagamenti"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"refundPolicy",className:"form-label required",children:"Politica di Rimborso"}),r.jsxs("select",{id:"refundPolicy",className:`form-select ${c.refundPolicyId?"error":s.refundPolicyId?"success":""}`,value:s.refundPolicyId||"",onChange:y=>a({refundPolicyId:y.target.value}),children:[r.jsx("option",{value:"",children:"Seleziona una politica..."}),r.jsx("option",{value:"standard",children:"Standard (rimborso fino a 24h prima)"}),r.jsx("option",{value:"flexible",children:"Flessibile (rimborso fino a 2h prima)"}),r.jsx("option",{value:"strict",children:"Rigorosa (nessun rimborso)"})]}),c.refundPolicyId&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.refundPolicyId]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Stato della Location"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"8px"},children:[r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{id:"active",type:"checkbox",className:"checkbox-input",checked:s.active,onChange:y=>a({active:y.target.checked})}),r.jsx("label",{htmlFor:"active",className:"checkbox-label",children:"Location Attiva"})]}),r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{id:"verified",type:"checkbox",className:"checkbox-input",checked:s.verified,onChange:y=>a({verified:y.target.checked})}),r.jsx("label",{htmlFor:"verified",className:"checkbox-label",children:"Location Verificata"})]})]}),r.jsx("div",{className:"form-help",children:"Le location attive sono visibili agli utenti. La verifica indica che sono state controllate dal team."})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"← Indietro"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 4 di 6 - Prezzi e Durata"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:p,disabled:!m,children:"Continua →"})]}),!m&&r.jsx("div",{style:{marginTop:"8px",color:"#ef4444",fontSize:"0.8rem",textAlign:"center"},children:"Completa tutti i campi obbligatori per continuare"})]})]})},xg=["Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],jg=({data:s,updateData:a,errors:c,onNext:u,onPrevious:f})=>{const p=j=>{const N=[...s.availability];N[j]=[...N[j],{start:"09:00",end:"18:00"}],a({availability:N})},m=(j,N)=>{const P=[...s.availability];P[j].splice(N,1),a({availability:P})},y=(j,N,P,C)=>{const k=[...s.availability];k[j][N][P]=C,a({availability:k})},v=j=>{const N=s.availability[j],P=s.availability.map((C,k)=>k===j?C:[...N]);a({availability:P})},h=s.availability.some(j=>j.length>0),T=()=>{Ud(s.availability).isValid&&u()};return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Disponibilità Settimanale"}),r.jsx("p",{className:"form-section-description",children:"Configura gli orari di disponibilità per ogni giorno della settimana. Puoi aggiungere più fasce orarie per giorno."}),c.availability&&r.jsxs("div",{className:"alert alert-error",children:[r.jsx("span",{children:"⚠️"}),c.availability]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:xg.map((j,N)=>r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsxs("div",{className:"capacity-pricing-header",children:[r.jsx("h4",{className:"capacity-pricing-title",children:j}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.availability[N].length>0&&r.jsx("button",{type:"button",className:"btn btn-outline",style:{padding:"6px 12px",fontSize:"0.8rem"},onClick:()=>v(N),title:"Copia orari a tutti i giorni",children:"Copia a tutti"}),r.jsx("button",{type:"button",className:"btn btn-primary",style:{padding:"6px 12px",fontSize:"0.8rem"},onClick:()=>p(N),children:"+ Orario"})]})]}),s.availability[N].length===0?r.jsxs("div",{style:{textAlign:"center",color:"#6b7280",fontStyle:"italic",padding:"16px"},children:["Nessun orario impostato per ",j.toLowerCase()]}):r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:s.availability[N].map((P,C)=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"white",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1},children:[r.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b"},children:"Da:"}),r.jsx("input",{type:"time",className:"form-input",style:{width:"120px"},value:P.start,onChange:k=>y(N,C,"start",k.target.value)}),r.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b"},children:"A:"}),r.jsx("input",{type:"time",className:"form-input",style:{width:"120px"},value:P.end,onChange:k=>y(N,C,"end",k.target.value)})]}),r.jsx("button",{type:"button",className:"capacity-pricing-remove",style:{width:"32px",height:"32px"},onClick:()=>m(N,C),title:"Rimuovi orario",children:"×"})]},C))})]},N))}),h&&r.jsxs("div",{className:"alert alert-success",children:[r.jsx("span",{children:"✓"}),"Disponibilità configurata per ",s.availability.filter(j=>j.length>0).length," giorni"]}),r.jsxs("div",{className:"form-help",children:[r.jsx("strong",{children:"Suggerimenti:"}),r.jsxs("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:[r.jsx("li",{children:"Aggiungi più fasce orarie se ci sono pause durante il giorno"}),r.jsx("li",{children:'Usa "Copia a tutti" per applicare gli stessi orari a tutti i giorni'}),r.jsx("li",{children:"Assicurati che l'orario di fine sia dopo quello di inizio"})]})]}),r.jsxs("div",{style:{marginTop:"32px"},children:[r.jsx("h3",{style:{marginBottom:"16px"},children:"Sale/Spazi della Location"}),r.jsx("p",{style:{marginBottom:"16px",color:"#64748b"},children:"Aggiungi le sale o spazi disponibili con prezzi e capacità specifici."}),s.capacityPricing.map((j,N)=>r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsxs("div",{className:"capacity-pricing-header",children:[r.jsxs("h4",{children:["Sala ",N+1]}),r.jsx("button",{type:"button",className:"capacity-pricing-remove",onClick:()=>{const P=s.capacityPricing.filter((C,k)=>k!==N);a({capacityPricing:P})},children:"×"})]}),r.jsxs("div",{className:"capacity-pricing-grid",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Nome Sala"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"es. Sala Conferenze A",value:j.name,onChange:P=>{const C=[...s.capacityPricing];C[N].name=P.target.value,a({capacityPricing:C})}})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Persone Max"}),r.jsx("input",{type:"number",className:"form-input",placeholder:"50",value:j.maxPeople,onChange:P=>{const C=[...s.capacityPricing];C[N].maxPeople=parseInt(P.target.value)||0,a({capacityPricing:C})}})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Prezzo/Ora (€)"}),r.jsx("input",{type:"number",className:"form-input",placeholder:"100",value:j.pricePerHour,onChange:P=>{const C=[...s.capacityPricing];C[N].pricePerHour=parseInt(P.target.value)||0,a({capacityPricing:C})}})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Metri Quadri"}),r.jsx("input",{type:"number",className:"form-input",placeholder:"80",value:j.squareMeters,onChange:P=>{const C=[...s.capacityPricing];C[N].squareMeters=parseInt(P.target.value)||0,a({capacityPricing:C})}})]})]})]},N)),r.jsx("button",{type:"button",className:"add-item-btn",onClick:()=>{const j={name:"",maxPeople:0,pricePerHour:0,squareMeters:0,images:[]};a({capacityPricing:[...s.capacityPricing,j]})},children:"+ Aggiungi Sala/Spazio"})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"← Indietro"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 5 di 6 - Disponibilità"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:T,disabled:!h||s.capacityPricing.length===0,children:"Continua →"})]}),(!h||s.capacityPricing.length===0)&&r.jsx("div",{style:{marginTop:"8px",color:"#ef4444",fontSize:"0.8rem",textAlign:"center"},children:"Configura disponibilità e aggiungi almeno una sala per continuare"})]})]})},Ng=[{id:1,name:"Feste Private"},{id:2,name:"Eventi Aziendali"},{id:3,name:"Matrimoni"},{id:4,name:"Formazione"},{id:5,name:"Fotografia"},{id:6,name:"Sport"},{id:7,name:"Arte e Cultura"},{id:8,name:"Gastronomia"}],wg=["Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],Sg=({data:s,onPrevious:a})=>{const c=Ng.filter(f=>{var p;return(p=s.type)==null?void 0:p.includes(f.id)}),u=s.availability.filter(f=>f.length>0).length;return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Revisione Finale"}),r.jsx("p",{className:"form-section-description",children:"Controlla tutti i dati inseriti prima di creare la location. Puoi tornare indietro per modificare qualsiasi informazione."}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"📍 Informazioni di Base"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Nome:"})," ",s.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Città:"})," ",s.city]}),r.jsxs("div",{style:{gridColumn:"1 / -1"},children:[r.jsx("strong",{children:"Indirizzo:"})," ",s.address]}),s.cap&&r.jsxs("div",{children:[r.jsx("strong",{children:"CAP:"})," ",s.cap]}),s.description&&r.jsxs("div",{style:{gridColumn:"1 / -1"},children:[r.jsx("strong",{children:"Descrizione:"})," ",s.description]})]})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"👤 Proprietario"}),s.special?r.jsxs("div",{className:"alert alert-warning",children:[r.jsx("span",{children:"🏛️"}),"Location Speciale/Storica - Nessun proprietario specifico"]}):r.jsxs("div",{children:[r.jsx("strong",{children:"ID Proprietario:"})," ",s.ownerId||"Non selezionato"]})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"🎯 Tipologie di Attività"}),c.length>0?r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:c.map(f=>r.jsx("span",{style:{background:"#e0f2fe",color:"#0c4a6e",padding:"4px 12px",borderRadius:"16px",fontSize:"0.9rem",border:"1px solid #7dd3fc"},children:f.name},f.id))}):r.jsx("div",{style:{color:"#ef4444"},children:"Nessuna tipologia selezionata"})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"💰 Prezzi e Durata"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Tipo Durata:"})," ",s.durationType==="FIXED"?"Fissa":"Minima"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Durata:"})," ",s.duration," ore"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Commissione:"})," ",s.fee,"%"]}),!s.special&&r.jsxs("div",{children:[r.jsx("strong",{children:"Stripe ID:"})," ",s.stripeId||"Non impostato"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Politica Rimborso:"})," ",s.refundPolicyId||"Non selezionata"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Stato:"})," ",r.jsx("span",{style:{color:s.active?"#10b981":"#ef4444"},children:s.active?"Attiva":"Inattiva"}),s.verified&&r.jsx("span",{style:{color:"#10b981",marginLeft:"8px"},children:"• Verificata"})]})]})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"⏰ Disponibilità"}),u>0?r.jsxs("div",{children:[r.jsxs("p",{style:{margin:"0 0 12px 0"},children:["Configurata per ",r.jsx("strong",{children:u})," giorni della settimana"]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:s.availability.map((f,p)=>f.length>0&&r.jsxs("div",{style:{fontSize:"0.9rem"},children:[r.jsxs("strong",{children:[wg[p],":"]})," ",f.map(m=>`${m.start}-${m.end}`).join(", ")]},p))})]}):r.jsx("div",{style:{color:"#ef4444"},children:"Nessuna disponibilità configurata"})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"🏢 Sale/Spazi"}),s.capacityPricing.length>0?r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:s.capacityPricing.map((f,p)=>r.jsxs("div",{style:{background:"#f8fafc",padding:"12px",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[r.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:f.name}),r.jsxs("div",{style:{fontSize:"0.9rem",color:"#64748b"},children:[f.maxPeople," persone • €",f.pricePerHour,"/ora • ",f.squareMeters," m²"]})]},p))}):r.jsx("div",{style:{color:"#ef4444"},children:"Nessuna sala configurata"})]}),r.jsxs("div",{className:"alert alert-info",children:[r.jsx("span",{children:"ℹ️"}),r.jsxs("div",{children:[r.jsx("strong",{children:"Prima di procedere, verifica che:"}),r.jsxs("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:[r.jsx("li",{children:"Tutte le informazioni siano corrette"}),r.jsx("li",{children:"I prezzi e gli orari siano accurati"}),r.jsx("li",{children:"Le sale/spazi siano configurati correttamente"}),!s.special&&r.jsx("li",{children:"Lo Stripe ID sia valido e attivo"})]})]})]}),r.jsx("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"← Modifica"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 6 di 6 - Revisione Finale"}),r.jsx("div",{style:{color:"#10b981",fontWeight:"600"},children:"✓ Pronto per la creazione"})]})})]})},cn=[{id:"basic",title:"Informazioni Base",component:mg},{id:"owner",title:"Proprietario",component:gg},{id:"activities",title:"Tipologie Attività",component:vg},{id:"pricing",title:"Prezzi e Durata",component:yg},{id:"availability",title:"Disponibilità",component:jg},{id:"review",title:"Revisione",component:Sg}],Cg=()=>{const s=ht(),[a,c]=g.useState(0),[u,f]=g.useState(!1),[p,m]=g.useState(0),[y,v]=g.useState({name:"",address:"",city:"",cap:"",description:"",rules:"",ownerId:"",special:!1,coordinates:[0,0],addressSelected:!1,durationType:"FIXED",duration:1,fee:20,stripeId:"",refundPolicyId:"",active:!0,verified:!1,type:[],services:[],images:[],capacityPricing:[],availability:[[],[],[],[],[],[],[]]}),[h,T]=g.useState({}),j=Q=>{v(H=>({...H,...Q}));const q={...h};Object.keys(Q).forEach(H=>{delete q[H]}),T(q)},N=()=>{a<cn.length-1&&c(Q=>Q+1)},P=()=>{a>0&&c(Q=>Q-1)},C=Q=>{Q<=a&&c(Q)},k=async()=>{const Q=pg(y);if(!Q.isValid){T(Q.errors);for(let q=0;q<cn.length;q++)if(Object.keys(Q.errors).filter(Y=>Y.includes(cn[q].id)||q===0&&["name","address","city"].includes(Y)).length>0){c(q);break}return}f(!0),m(0);try{const q=new FormData,H={ownerId:y.special?void 0:y.ownerId,name:y.name,city:y.city,cap:y.cap,address:y.address,description:y.description,rules:y.rules,durationType:y.durationType,duration:y.duration,stripeId:y.special?void 0:y.stripeId,fee:y.fee,refundPolicyId:y.refundPolicyId,special:y.special,active:y.active,verified:y.verified,type:y.type,services:y.services,availability:y.availability,location:{type:"Point",coordinates:y.coordinates}};q.append("data",JSON.stringify(H)),y.images.forEach(S=>{q.append("images",S)});const Y=y.capacityPricing.map((S,F)=>({roomId:F,name:S.name,maxPeople:S.maxPeople,pricePerHour:S.pricePerHour,squareMeters:S.squareMeters}));q.append("capacityPricing",JSON.stringify(Y)),y.capacityPricing.forEach((S,F)=>{S.images.forEach(I=>{q.append(`capacityPricing[${F}].images`,I)})}),await lg(q,m),setTimeout(()=>{s("/locations",{state:{message:"Location creata con successo!",type:"success"}})},1e3)}catch(q){f(!1),m(0);const H=q instanceof Error?q.message:"Errore sconosciuto durante la creazione della location";T({submit:H})}},z=cn[a].component,A=(a+1)/cn.length*100;return r.jsxs("div",{className:"location-create-container",children:[r.jsxs("div",{className:"location-create-header",children:[r.jsx("h1",{className:"location-create-title",children:"Crea Nuova Location"}),r.jsx("p",{className:"location-create-subtitle",children:"Segui i passaggi per creare una nuova location sulla piattaforma"}),r.jsxs("nav",{className:"breadcrumb-nav",children:[r.jsx(qe,{to:"/",children:"Home"}),r.jsx("span",{children:"→"}),r.jsx(qe,{to:"/locations",children:"Location"}),r.jsx("span",{children:"→"}),r.jsx("span",{children:"Nuova Location"})]})]}),r.jsx("div",{className:"progress-bar",children:r.jsx("div",{className:"progress-fill",style:{width:`${A}%`}})}),r.jsxs("div",{className:"form-wizard",children:[r.jsx("div",{className:"wizard-steps",children:cn.map((Q,q)=>r.jsxs("button",{type:"button",className:`wizard-step ${q===a?"active":q<a?"completed":"disabled"}`,onClick:()=>C(q),disabled:q>a,children:[r.jsx("div",{className:"wizard-step-number",children:q+1}),r.jsx("div",{className:"wizard-step-title",children:Q.title})]},Q.id))}),r.jsxs("div",{className:"form-content",children:[h.submit&&r.jsxs("div",{className:"alert alert-error",children:[r.jsx("span",{children:"⚠️"}),h.submit]}),r.jsx(z,{data:y,updateData:j,errors:h,onNext:N,onPrevious:P,isFirst:a===0,isLast:a===cn.length-1})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("div",{className:"form-actions-left",children:a>0&&r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:P,disabled:u,children:"← Indietro"})}),r.jsx("div",{className:"form-actions-right",children:a<cn.length-1?r.jsx("button",{type:"button",className:"btn btn-primary",onClick:N,disabled:u,children:"Avanti →"}):r.jsx("button",{type:"button",className:"btn btn-success",onClick:k,disabled:u,children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"loading-spinner"}),"Creazione... ",p,"%"]}):"✓ Crea Location"})})]})]})]})},kg=()=>r.jsx(Cg,{}),Eg=async s=>{const{page:a,limit:c}=Va(s.page,s.limit),u={...s,page:a,limit:c};return Ha("/reservations/reservations",u)},Pg=async s=>{const a=mt(s,"Reservation ID");return nt(`/reservations/reservation?reservationId=${a}`)},Vd=async s=>(mt(s.reservationId,"Reservation ID"),console.log("In reservation update, reservation request received: ",{reservationId:s.reservationId}),er("/reservations/update",s)),nd=({placeholder:s,value:a,onChange:c,onSearch:u,options:f,isLoading:p,onClear:m})=>{const[y,v]=g.useState(!1),[h,T]=g.useState(""),j=g.useRef(null),N=g.useRef(null);g.useEffect(()=>{const k=R=>{j.current&&!j.current.contains(R.target)&&v(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const P=k=>{const R=k.target.value;T(R),u(R)},C=f.find(k=>k.value===a);return r.jsxs("div",{className:"searchable-select",ref:j,children:[r.jsxs("div",{className:"select-header",onClick:()=>{v(!y),y||setTimeout(()=>{var k;return(k=N.current)==null?void 0:k.focus()},0)},children:[a&&C?r.jsxs("div",{className:"selected-value-container",children:[r.jsx("span",{className:"selected-value",children:C.label}),r.jsx("button",{className:"clear-button",onClick:k=>{k.stopPropagation(),m(),v(!1)},children:"×"})]}):r.jsx("span",{className:"placeholder",children:s}),r.jsx("span",{className:"arrow",children:"▼"})]}),y&&r.jsxs("div",{className:"select-dropdown",children:[r.jsx("input",{ref:N,type:"text",value:h,onChange:P,className:"search-input",placeholder:"Type to search...",onClick:k=>k.stopPropagation()}),r.jsx("div",{className:"options-list",children:p?r.jsx("div",{className:"loading",children:"Loading..."}):f.length>0?f.map(k=>r.jsx("div",{className:`option ${a===k.value?"selected":""}`,onClick:()=>{c(k.value),v(!1),T("")},children:k.label},k.value)):r.jsx("div",{className:"no-results",children:"No results found"})})]})]})};var ga,rd;function Bd(){if(rd)return ga;rd=1;function s(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}return ga=s,ga}var va,id;function Tg(){if(id)return va;id=1;var s=typeof ts=="object"&&ts&&ts.Object===Object&&ts;return va=s,va}var ya,sd;function Hd(){if(sd)return ya;sd=1;var s=Tg(),a=typeof self=="object"&&self&&self.Object===Object&&self,c=s||a||Function("return this")();return ya=c,ya}var xa,ld;function bg(){if(ld)return xa;ld=1;var s=Hd(),a=function(){return s.Date.now()};return xa=a,xa}var ja,ad;function Rg(){if(ad)return ja;ad=1;var s=/\s/;function a(c){for(var u=c.length;u--&&s.test(c.charAt(u)););return u}return ja=a,ja}var Na,od;function zg(){if(od)return Na;od=1;var s=Rg(),a=/^\s+/;function c(u){return u&&u.slice(0,s(u)+1).replace(a,"")}return Na=c,Na}var wa,cd;function Wd(){if(cd)return wa;cd=1;var s=Hd(),a=s.Symbol;return wa=a,wa}var Sa,ud;function Lg(){if(ud)return Sa;ud=1;var s=Wd(),a=Object.prototype,c=a.hasOwnProperty,u=a.toString,f=s?s.toStringTag:void 0;function p(m){var y=c.call(m,f),v=m[f];try{m[f]=void 0;var h=!0}catch{}var T=u.call(m);return h&&(y?m[f]=v:delete m[f]),T}return Sa=p,Sa}var Ca,dd;function _g(){if(dd)return Ca;dd=1;var s=Object.prototype,a=s.toString;function c(u){return a.call(u)}return Ca=c,Ca}var ka,fd;function Ig(){if(fd)return ka;fd=1;var s=Wd(),a=Lg(),c=_g(),u="[object Null]",f="[object Undefined]",p=s?s.toStringTag:void 0;function m(y){return y==null?y===void 0?f:u:p&&p in Object(y)?a(y):c(y)}return ka=m,ka}var Ea,pd;function Dg(){if(pd)return Ea;pd=1;function s(a){return a!=null&&typeof a=="object"}return Ea=s,Ea}var Pa,hd;function Ag(){if(hd)return Pa;hd=1;var s=Ig(),a=Dg(),c="[object Symbol]";function u(f){return typeof f=="symbol"||a(f)&&s(f)==c}return Pa=u,Pa}var Ta,md;function Fg(){if(md)return Ta;md=1;var s=zg(),a=Bd(),c=Ag(),u=NaN,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,y=parseInt;function v(h){if(typeof h=="number")return h;if(c(h))return u;if(a(h)){var T=typeof h.valueOf=="function"?h.valueOf():h;h=a(T)?T+"":T}if(typeof h!="string")return h===0?h:+h;h=s(h);var j=p.test(h);return j||m.test(h)?y(h.slice(2),j?2:8):f.test(h)?u:+h}return Ta=v,Ta}var ba,gd;function Mg(){if(gd)return ba;gd=1;var s=Bd(),a=bg(),c=Fg(),u="Expected a function",f=Math.max,p=Math.min;function m(y,v,h){var T,j,N,P,C,k,R=0,z=!1,A=!1,Q=!0;if(typeof y!="function")throw new TypeError(u);v=c(v)||0,s(h)&&(z=!!h.leading,A="maxWait"in h,N=A?f(c(h.maxWait)||0,v):N,Q="trailing"in h?!!h.trailing:Q);function q(ce){var me=T,ye=j;return T=j=void 0,R=ce,P=y.apply(ye,me),P}function H(ce){return R=ce,C=setTimeout(F,v),z?q(ce):P}function Y(ce){var me=ce-k,ye=ce-R,we=v-me;return A?p(we,N-ye):we}function S(ce){var me=ce-k,ye=ce-R;return k===void 0||me>=v||me<0||A&&ye>=N}function F(){var ce=a();if(S(ce))return I(ce);C=setTimeout(F,Y(ce))}function I(ce){return C=void 0,Q&&T?q(ce):(T=j=void 0,P)}function W(){C!==void 0&&clearTimeout(C),R=0,T=k=j=C=void 0}function J(){return C===void 0?P:I(a())}function ge(){var ce=a(),me=S(ce);if(T=arguments,j=this,k=ce,me){if(C===void 0)return H(k);if(A)return clearTimeout(C),C=setTimeout(F,v),q(k)}return C===void 0&&(C=setTimeout(F,v)),P}return ge.cancel=W,ge.flush=J,ge}return ba=m,ba}var Og=Mg();const is=La(Og),$g=()=>{const[s,a]=g.useState([]),[c,u]=g.useState(0),[f,p]=g.useState(!1),[m,y]=g.useState(new Set),[v,h]=g.useState([]),[T,j]=g.useState([]),[N,P]=g.useState([]),[C,k]=g.useState(!1),[R,z]=g.useState(!1),[,A]=g.useState(""),[,Q]=g.useState(""),[q,H]=g.useState(!1),Y=ht(),[S,F]=g.useState({locationId:"",userId:"",startDate:"",endDate:"",payment:"",capacity:"",amount:"",page:1,limit:10}),I=g.useMemo(()=>({locationId:S.locationId,userId:S.userId,startDate:S.startDate,endDate:S.endDate,payment:S.payment,capacity:S.capacity,amount:S.amount,page:S.page,limit:S.limit}),[S.locationId,S.userId,S.startDate,S.endDate,S.payment,S.capacity,S.amount,S.page,S.limit]),W=g.useCallback(async()=>{p(!0);try{const M=await Eg(I);a(M.reservations||[]),u(M.total||0)}catch(M){console.error("Error fetching reservations:",M),a([]),u(0)}finally{p(!1)}},[I]);g.useEffect(()=>{W()},[W]),g.useEffect(()=>{h([...s])},[s]);const J=async()=>{H(!0);try{for(const te of m){const oe=v.find(re=>re._id===te);oe&&await Vd({reservationId:te,...oe})}y(new Set),W();const M=document.createElement("div");M.className="toast success",M.textContent="Modifiche salvate con successo!",document.body.appendChild(M),setTimeout(()=>M.remove(),3e3)}catch(M){console.error("Error saving changes:",M),alert("Errore nel salvare le modifiche. Riprova.")}finally{H(!1)}},ge=M=>{F(te=>({...te,page:M}))},ce=(M,te,oe)=>{h(re=>re.map(de=>de._id===M?{...de,[te]:oe}:de)),y(re=>new Set(re).add(M))},me=g.useCallback(async M=>{k(!0);try{const te=await Jm(M);j(te.users)}catch(te){console.error("Error fetching users:",te)}finally{k(!1)}},[]),ye=g.useCallback(async M=>{z(!0);try{const te=await ag(M);P(te.locations)}catch(te){console.error("Error fetching locations:",te)}finally{z(!1)}},[]),we=g.useRef(is(M=>{me(M)},300)),je=g.useRef(is(M=>{ye(M)},300));g.useEffect(()=>{we.current=is(M=>{me(M)},300)},[me]),g.useEffect(()=>{je.current=is(M=>{ye(M)},300)},[ye]);const K=g.useCallback(M=>{we.current(M)},[]),se=g.useCallback(M=>{je.current(M)},[]),X=()=>{F({locationId:"",userId:"",startDate:"",endDate:"",payment:"",capacity:"",amount:"",page:1,limit:10})},b=M=>new Date(M).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric"}),O=M=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(M),ue=Math.ceil(c/(S.limit||10));return r.jsxs("div",{className:"reservations-container",children:[r.jsx("div",{className:"page-header",children:r.jsxs("div",{children:[r.jsx("h1",{className:"page-title",children:"Gestione Prenotazioni"}),r.jsx("p",{className:"page-subtitle",children:"Visualizza e gestisci le prenotazioni della piattaforma"})]})}),r.jsxs("div",{className:"filters-card",children:[r.jsxs("div",{className:"filters-header",children:[r.jsx("h2",{className:"filters-title",children:"Filtri di ricerca"}),r.jsx("button",{className:"clear-filters-btn",onClick:X,"aria-label":"Pulisci filtri",children:"Pulisci filtri"})]}),r.jsxs("div",{className:"search-filters",children:[r.jsxs("div",{className:"filter-group filter-group-wide",children:[r.jsx("label",{className:"filter-label",children:"Utente"}),r.jsx(nd,{placeholder:"Cerca utente...",value:S.userId||"",onChange:M=>F({...S,userId:M,page:1}),onSearch:M=>{A(M),K(M)},onClear:()=>F({...S,userId:"",page:1}),isLoading:C,options:T.map(M=>({value:M._id,label:`${M.name} ${M.surname}`}))})]}),r.jsxs("div",{className:"filter-group filter-group-wide",children:[r.jsx("label",{className:"filter-label",children:"Location"}),r.jsx(nd,{placeholder:"Cerca location...",value:S.locationId||"",onChange:M=>F({...S,locationId:M,page:1}),onSearch:M=>{Q(M),se(M)},onClear:()=>F({...S,locationId:"",page:1}),isLoading:R,options:N.map(M=>({value:M._id,label:M.name}))})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"start-date",className:"filter-label",children:"Data inizio"}),r.jsx("input",{id:"start-date",type:"date",value:S.startDate,onChange:M=>F({...S,startDate:M.target.value,page:1}),className:"filter-input"})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"end-date",className:"filter-label",children:"Data fine"}),r.jsx("input",{id:"end-date",type:"date",value:S.endDate,onChange:M=>F({...S,endDate:M.target.value,page:1}),className:"filter-input"})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"payment-filter",className:"filter-label",children:"Stato pagamento"}),r.jsxs("select",{id:"payment-filter",value:S.payment,onChange:M=>F({...S,payment:M.target.value,page:1}),className:"filter-select",children:[r.jsx("option",{value:"",children:"Tutti"}),r.jsx("option",{value:"SUCCESS",children:"Completato"}),r.jsx("option",{value:"REFUNDED",children:"Rimborsato"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"capacity-filter",className:"filter-label",children:"Capacità"}),r.jsx("input",{id:"capacity-filter",type:"number",placeholder:"Capacità...",value:S.capacity,onChange:M=>F({...S,capacity:M.target.value,page:1}),className:"filter-input",min:"1"})]})]})]}),f?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento prenotazioni..."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"table-card",children:[r.jsxs("div",{className:"table-header",children:[r.jsxs("p",{className:"results-count",children:[c," prenotazioni trovate",m.size>0&&r.jsxs("span",{className:"changes-count",children:[" • ",m.size," modifiche non salvate"]})]}),r.jsx("div",{className:"table-actions",children:r.jsxs("select",{className:"limit-select",value:S.limit,onChange:M=>F({...S,limit:Number(M.target.value),page:1}),"aria-label":"Risultati per pagina",children:[r.jsx("option",{value:"10",children:"10 per pagina"}),r.jsx("option",{value:"25",children:"25 per pagina"}),r.jsx("option",{value:"50",children:"50 per pagina"})]})})]}),v.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsxs("svg",{className:"empty-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M8 2v4M16 2v4M3 10h18M5 4h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2z"}),r.jsx("path",{d:"M10 16l2 2 4-4"})]}),r.jsx("h3",{className:"empty-title",children:"Nessuna prenotazione trovata"}),r.jsx("p",{className:"empty-text",children:"Prova a modificare i filtri di ricerca"})]}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"reservations-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"ID Prenotazione"}),r.jsx("th",{children:"Location"}),r.jsx("th",{children:"Utente"}),r.jsx("th",{children:"Data"}),r.jsx("th",{children:"Orario"}),r.jsx("th",{children:"Capacità"}),r.jsx("th",{children:"Importo"}),r.jsx("th",{children:"Pagamento"}),r.jsx("th",{children:"Stripe ID"})]})}),r.jsx("tbody",{children:v.map(M=>r.jsxs("tr",{className:m.has(M._id)?"row-modified":"",children:[r.jsx("td",{children:r.jsxs(qe,{to:`/reservations/${M._id}`,className:"reservation-link",children:[r.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",children:r.jsx("path",{d:"M1.146 1.146a.5.5 0 01.708 0L7 6.293l5.146-5.147a.5.5 0 01.708.708L7.707 7l5.147 5.146a.5.5 0 01-.708.708L7 7.707l-5.146 5.147a.5.5 0 01-.708-.708L6.293 7 1.146 1.854a.5.5 0 010-.708z"})}),M._id.slice(-8)]})}),r.jsx("td",{className:"clickable-cell location-name",onClick:()=>Y(`/locations/${M.locationId}`),children:r.jsxs("div",{className:"location-info",children:[r.jsx("svg",{className:"location-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})}),M.locationName||M.locationId]})}),r.jsx("td",{className:"clickable-cell user-name",onClick:()=>Y(`/users/${M.userId}`),children:r.jsxs("div",{className:"user-info",children:[r.jsx("span",{className:"user-avatar",children:M.userName?M.userName.charAt(0).toUpperCase():"U"}),M.userName||M.userId]})}),r.jsxs("td",{className:"date-cell",children:[r.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",className:"date-icon",children:r.jsx("path",{d:"M3.5 0a.5.5 0 01.5.5V1h6V.5a.5.5 0 011 0V1h1a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V3a2 2 0 012-2h1V.5a.5.5 0 01.5-.5zM1 4v9a1 1 0 001 1h10a1 1 0 001-1V4H1z"})}),b(M.startDate)]}),r.jsxs("td",{className:"time-cell",children:[r.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",className:"time-icon",children:r.jsx("path",{d:"M7 0a7 7 0 110 14A7 7 0 017 0zM7 1a6 6 0 100 12A6 6 0 007 1zm.5 2.5v4.293l2.646 2.647a.5.5 0 01-.707.707l-3-3A.5.5 0 016.5 8V3.5a.5.5 0 011 0z"})}),M.timeSlot.start," - ",M.timeSlot.end]}),r.jsx("td",{className:"capacity-cell",children:r.jsxs("span",{className:"capacity-badge",children:[M.capacity," persone"]})}),r.jsx("td",{className:"amount-cell",children:O(M.amount)}),r.jsx("td",{children:r.jsxs("select",{value:M.payment,onChange:te=>ce(M._id,"payment",te.target.value),className:`payment-select ${M.payment==="SUCCESS"?"success":"refunded"}`,children:[r.jsx("option",{value:"SUCCESS",children:"Completato"}),r.jsx("option",{value:"REFUNDED",children:"Rimborsato"})]})}),r.jsx("td",{className:"stripe-id",children:M.stripeId||"-"})]},M._id))})]})})]}),m.size>0&&r.jsxs("div",{className:"changes-panel",children:[r.jsxs("div",{className:"changes-header",children:[r.jsx("h3",{className:"changes-title",children:"Modifiche non salvate"}),r.jsx("button",{className:"close-button",onClick:()=>{y(new Set),h([...s])},"aria-label":"Annulla modifiche",children:"×"})]}),r.jsx("div",{className:"changed-reservations",children:Array.from(m).map(M=>{const te=v.find(re=>re._id===M),oe=s.find(re=>re._id===M);return r.jsxs("div",{className:"changed-reservation-item",children:[r.jsxs("span",{className:"changed-reservation-id",children:["Prenotazione #",M.slice(-8)]}),oe&&te&&oe.payment!==te.payment&&r.jsxs("span",{className:"change-badge",children:["Pagamento: ",te.payment==="SUCCESS"?"Completato":"Rimborsato"]})]},M)})}),r.jsxs("div",{className:"changes-actions",children:[r.jsx("button",{className:"button button-secondary",onClick:()=>{y(new Set),h([...s])},children:"Annulla"}),r.jsx("button",{className:"button button-primary",onClick:J,disabled:q,children:q?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]}),ue>1&&r.jsxs("div",{className:"pagination",children:[r.jsxs("button",{className:"pagination-button",disabled:S.page===1,onClick:()=>ge((S.page||1)-1),"aria-label":"Pagina precedente",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Precedente"]}),r.jsxs("div",{className:"pagination-info",children:[r.jsxs("span",{className:"page-numbers",children:["Pagina ",S.page," di ",ue]}),r.jsx("div",{className:"page-dots",children:[...Array(Math.min(ue,5))].map((M,te)=>{let oe;return ue<=5||S.page<=3?oe=te+1:S.page>=ue-2?oe=ue-4+te:oe=S.page-2+te,r.jsx("button",{className:`page-dot ${oe===S.page?"active":""}`,onClick:()=>ge(oe),"aria-label":`Vai a pagina ${oe}`,children:oe},te)})})]}),r.jsxs("button",{className:"pagination-button",disabled:(S.page||1)>=ue,onClick:()=>ge((S.page||1)+1),"aria-label":"Pagina successiva",children:["Successiva",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})})]})]})]})]})},Ug=()=>{const{reservationId:s}=Fa(),[a,c]=g.useState(null),[u,f]=g.useState(null),[p,m]=g.useState(!0),[y,v]=g.useState(!1),h=ht();g.useEffect(()=>{(async()=>{if(!s){h("/reservations");return}try{const A=await Pg(s);if(!A){h("/reservations");return}c(A),f(A)}catch(A){console.error("Error fetching reservation details:",A),h("/reservations")}finally{m(!1)}})()},[s,h]);const T=g.useMemo(()=>!a||!u?!1:["payment","capacity","amount"].some(A=>a[A]!==u[A]),[a,u]),j=(z,A)=>{u&&f({...u,[z]:A})},N=(z,A)=>{u&&f({...u,timeSlot:{...u.timeSlot,[z]:A}})},P=async z=>{if(z.preventDefault(),!(!u||!T)){v(!0);try{await Vd({reservationId:s,...u}),c(u);const A=document.createElement("div");A.className="toast success",A.textContent="Prenotazione aggiornata con successo!",document.body.appendChild(A),setTimeout(()=>A.remove(),3e3)}catch(A){console.error("Error updating reservation:",A);const Q=document.createElement("div");Q.className="toast error",Q.textContent="Errore durante l'aggiornamento",document.body.appendChild(Q),setTimeout(()=>Q.remove(),3e3)}finally{v(!1)}}},C=()=>{a&&f(a)},k=z=>new Date(z).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),R=z=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(z);return p?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento dettagli prenotazione..."})]}):u?r.jsxs("div",{className:"reservation-detail-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsxs("nav",{className:"breadcrumb",children:[r.jsx(qe,{to:"/",children:"Home"}),r.jsx("span",{className:"breadcrumb-separator",children:"/"}),r.jsx(qe,{to:"/reservations",children:"Prenotazioni"}),r.jsx("span",{className:"breadcrumb-separator",children:"/"}),r.jsx("span",{children:s})]}),r.jsx("h1",{className:"page-title",children:"Dettagli Prenotazione"}),r.jsxs("p",{className:"page-subtitle",children:["ID: ",s]})]}),r.jsx("div",{className:"header-actions",children:r.jsxs("button",{className:"button button-secondary",onClick:()=>h("/reservations"),children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Indietro"]})})]}),r.jsxs("form",{onSubmit:P,className:"reservation-form",children:[r.jsxs("div",{className:"form-grid",children:[r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:[r.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),r.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 1 1 0 000 2H4v10h12V5h-2a1 1 0 100-2 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5z"})]}),"Informazioni Base"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"ID Prenotazione"}),r.jsx("input",{type:"text",value:u._id,disabled:!0,className:"input-disabled"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Data Creazione"}),r.jsx("input",{type:"text",value:k(u.createdAt||""),disabled:!0,className:"input-disabled"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stripe-id",children:"Stripe ID"}),r.jsx("input",{id:"stripe-id",type:"text",value:u.stripeId||"",onChange:z=>j("stripeId",z.target.value),placeholder:"ID transazione Stripe"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"payment-status",children:"Stato Pagamento"}),r.jsxs("select",{id:"payment-status",value:u.payment,onChange:z=>j("payment",z.target.value),className:`payment-select ${u.payment==="SUCCESS"?"success":"refunded"}`,children:[r.jsx("option",{value:"SUCCESS",children:"Completato"}),r.jsx("option",{value:"REFUNDED",children:"Rimborsato"})]})]})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"})}),"Location e Utente"]}),r.jsxs("div",{className:"info-section",children:[r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Location"}),r.jsxs(qe,{to:`/locations/${u.locationId}`,className:"info-link",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})}),u.locationName||u.locationId]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Utente"}),r.jsxs(qe,{to:`/users/${u.userId}`,className:"info-link",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4z"})}),u.userName||u.userId]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"ID Stanza"}),r.jsx("span",{className:"info-value",children:u.roomId})]})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zM4 8h12v8H4V8z"})}),"Date e Orari"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"start-date",children:"Data Inizio"}),r.jsx("input",{id:"start-date",type:"date",value:u.startDate,onChange:z=>j("startDate",z.target.value)})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"end-date",children:"Data Fine"}),r.jsx("input",{id:"end-date",type:"date",value:u.endDate,onChange:z=>j("endDate",z.target.value)})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"time-start",children:"Orario Inizio"}),r.jsx("input",{id:"time-start",type:"time",value:u.timeSlot.start,onChange:z=>N("start",z.target.value)})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"time-end",children:"Orario Fine"}),r.jsx("input",{id:"time-end",type:"time",value:u.timeSlot.end,onChange:z=>N("end",z.target.value)})]})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:[r.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.003 8 7.71c0-.293.07-.543.433-.632zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.57.433.632 0 .293-.07.632-.433.842a2.305 2.305 0 01-.567.267z"}),r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.766 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.766-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z"})]}),"Capacità e Importo"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"capacity",children:"Capacità (persone)"}),r.jsx("input",{id:"capacity",type:"number",value:u.capacity,onChange:z=>j("capacity",parseInt(z.target.value)||0),min:"1"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"amount",children:"Importo"}),r.jsxs("div",{className:"input-with-prefix",children:[r.jsx("span",{className:"input-prefix",children:"€"}),r.jsx("input",{id:"amount",type:"number",value:u.amount,onChange:z=>j("amount",parseFloat(z.target.value)||0),min:"0",step:"0.01"})]})]})]}),r.jsx("div",{className:"summary-box",children:r.jsxs("div",{className:"summary-item",children:[r.jsx("span",{className:"summary-label",children:"Totale prenotazione"}),r.jsx("span",{className:"summary-value",children:R(u.amount)})]})})]})]}),T&&r.jsxs("div",{className:"form-actions-sticky",children:[r.jsxs("div",{className:"changes-indicator",children:[r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]}),"Hai modifiche non salvate"]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"button button-secondary",onClick:C,children:"Annulla modifiche"}),r.jsx("button",{type:"submit",className:"button button-primary",disabled:y,children:y?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]})]})]}):r.jsxs("div",{className:"error-container",children:[r.jsxs("svg",{className:"error-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),r.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),r.jsx("h2",{className:"error-title",children:"Prenotazione non trovata"}),r.jsx(qe,{to:"/reservations",className:"button button-primary",children:"Torna alle prenotazioni"})]})},Vg=async s=>{if(!s||s.trim().length===0)throw new Error("Search text is required");const a=encodeURIComponent(s.trim()),c=await nt(`/scraping/services?text=${a}`);return Array.isArray(c)?c:[]},Bg=async()=>nt("/scraping/cities"),qd=async()=>nt("/scraping/event-types"),Qd=async()=>nt("/scraping/venue-types"),Hg=async s=>(mt(s,"Room ID"),nt(`/scraping/location?roomId=${s}`)),Wg=async(s,a=1)=>{var f,p;const c={city:s.city||"",capacity:((f=s.capacity)==null?void 0:f.toString())||"0",requiresParking:((p=s.requiresParking)==null?void 0:p.toString())||"false",serviceIds:Array.isArray(s.serviceIds)?s.serviceIds.join(","):"",eventType:s.eventType||"",venueType:s.venueType||"",page:Math.max(1,a).toString()},u=new URLSearchParams(c).toString();return nt(`/scraping/search-rooms?${u}`)},qg=async s=>{mt(s,"Room ID");try{const a=await nt(`/scraping/contacts?roomId=${s}`);return Array.isArray(a)?a:[a]}catch(a){return console.error("Error fetching contacts:",a),[]}},Qg=({selectedCity:s,onChange:a})=>{const[c,u]=g.useState([]),[f,p]=g.useState(!0),[m,y]=g.useState(null);return g.useEffect(()=>{(async()=>{try{const h=await Bg();u(h)}catch(h){console.error("Failed to fetch cities:",h),y("Failed to load cities")}finally{p(!1)}})()},[]),f?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"City"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Loading..."})})]}):m?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"City"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Error loading cities"})})]}):r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"City"}),r.jsxs("select",{className:"filter-select",value:s,onChange:v=>a(v.target.value),children:[r.jsx("option",{value:"",children:"All Cities"}),c.map((v,h)=>r.jsx("option",{value:v,children:v.charAt(0).toUpperCase()+v.slice(1)},h))]})]})},Kg=({capacity:s,onChange:a})=>r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Minimum Capacity"}),r.jsx("input",{type:"number",className:"filter-input",value:s,onChange:c=>a(c.target.value?parseInt(c.target.value):""),min:"0"})]}),Yg=({requiresParking:s,onChange:a})=>r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Parking Required"}),r.jsxs("div",{className:"filter-checkbox-container",children:[r.jsx("input",{type:"checkbox",className:"filter-checkbox",checked:s,onChange:c=>a(c.target.checked)}),r.jsx("span",{children:"Yes"})]})]}),Gg=({selectedEventType:s,onChange:a})=>{const[c,u]=g.useState([]),[f,p]=g.useState(!0),[m,y]=g.useState(null);return g.useEffect(()=>{(async()=>{try{const h=await qd();if(Array.isArray(h)){const T=h.map((j,N)=>({_id:`event-type-${N}`,name:j}));u(T)}}catch(h){console.error("Failed to fetch event types:",h),y("Failed to load event types")}finally{p(!1)}})()},[]),f?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Event Type"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Loading..."})})]}):m?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Event Type"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Error loading event types"})})]}):r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Event Type"}),r.jsxs("select",{className:"filter-select",value:s,onChange:v=>{const h=v.target.value;a(h)},children:[r.jsx("option",{value:"",children:"All Event Types"}),c.map(v=>r.jsx("option",{value:v._id,children:v.name},v._id))]})]})},Xg=({selectedVenueType:s,onChange:a})=>{const[c,u]=g.useState([]),[f,p]=g.useState(!0),[m,y]=g.useState(null);return g.useEffect(()=>{(async()=>{try{const h=await Qd();if(Array.isArray(h)){const T=h.map((j,N)=>({_id:`venue-type-${N}`,name:j}));u(T)}}catch(h){console.error("Failed to fetch venue types:",h),y("Failed to load venue types")}finally{p(!1)}})()},[]),f?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Venue Type"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Loading..."})})]}):m?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Venue Type"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Error loading venue types"})})]}):r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Venue Type"}),r.jsxs("select",{className:"filter-select",value:s,onChange:v=>a(v.target.value),children:[r.jsx("option",{value:"",children:"All Venue Types"}),c.map(v=>r.jsx("option",{value:v._id,children:v.name},v._id))]})]})},Jg=({serviceSearch:s,selectedServices:a,onSearchChange:c,onAddService:u,onRemoveService:f})=>{const[p,m]=g.useState([]),[y,v]=g.useState(!1),[h,T]=g.useState(null);return g.useEffect(()=>{(async()=>{if(!s.trim()){m([]);return}v(!0),T(null);try{const N=await Vg(s);console.log("services: ",N),m(N)}catch(N){T("Failed to fetch services"),console.error(N)}finally{v(!1)}})()},[s]),r.jsxs("div",{className:"services-section",children:[r.jsx("label",{className:"filter-label",children:"Services"}),r.jsx("div",{className:"services-tags",children:a.map(j=>r.jsxs("div",{className:"service-tag",children:[j.name,r.jsx("button",{className:"tag-remove-btn",onClick:()=>f(j._id),children:"×"})]},j._id))}),r.jsxs("div",{className:"services-input-container",children:[r.jsx("input",{type:"text",className:"services-input",value:s,onChange:j=>c(j.target.value),placeholder:"Search for services..."}),y&&r.jsx("div",{className:"services-loading",children:"Loading..."}),h&&r.jsx("div",{className:"services-error",children:h}),!y&&p.length>0&&r.jsx("div",{className:"services-dropdown",children:p.map(j=>r.jsx("div",{className:"service-option",onClick:()=>{u(j)},children:j.name},j._id))})]})]})},Zg=({selectedCity:s,capacity:a,requiresParking:c,serviceSearch:u,selectedServices:f,selectedEventType:p,selectedVenueType:m,onCityChange:y,onCapacityChange:v,onParkingChange:h,onServiceSearchChange:T,onAddService:j,onRemoveService:N,onEventTypeChange:P,onVenueTypeChange:C,onSearch:k})=>{const[R,z]=g.useState([]),[A,Q]=g.useState([]);g.useEffect(()=>{const Y=async()=>{try{const F=await qd();if(Array.isArray(F)){const I=F.map((W,J)=>({_id:`event-type-${J}`,name:W}));z(I)}}catch(F){console.error("Failed to fetch event types:",F)}},S=async()=>{try{const F=await Qd();if(Array.isArray(F)){const I=F.map((W,J)=>({_id:`venue-type-${J}`,name:W}));Q(I)}}catch(F){console.error("Failed to fetch venue types:",F)}};Y(),S()},[]);const q=Y=>Y&&R.find(S=>S._id===Y)||null,H=Y=>Y&&A.find(S=>S._id===Y)||null;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"filters-grid",children:[r.jsx(Qg,{selectedCity:s,onChange:y}),r.jsx(Kg,{capacity:a,onChange:v}),r.jsx(Yg,{requiresParking:c,onChange:h}),r.jsx(Gg,{selectedEventType:p,onChange:Y=>{const S=q(Y);P(S)}}),r.jsx(Xg,{selectedVenueType:m,onChange:Y=>{const S=H(Y);C(S)}})]}),r.jsx(Jg,{serviceSearch:u,selectedServices:f,onSearchChange:T,onAddService:j,onRemoveService:N}),r.jsx("div",{className:"search-button-container",children:r.jsx("button",{className:"search-button",onClick:k,children:"Search Rooms"})})]})},ev=({room:s,onShowLocation:a,onShowContacts:c})=>{var h,T,j,N;const[u,f]=g.useState(!1),[p,m]=g.useState(!1),[y,v]=g.useState(!1);return r.jsx("div",{className:"room-card",children:r.jsxs("div",{className:"room-card-body",children:[r.jsx("h3",{className:"room-title",children:s.name}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Location:"})," ",((h=s.location)==null?void 0:h.name)||"Unknown"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"City:"})," ",(T=s.location)!=null&&T.city?s.location.city.charAt(0).toUpperCase()+s.location.city.slice(1):"Unknown"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Capacity:"})," ",s.maxCapacity," people"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Area:"})," ",s.mt2," m²"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Venue Type:"})," ",((j=s.venueType)==null?void 0:j.name)||"Unknown"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Parking:"})," ",(N=s.location)!=null&&N.parkingInfo?"Yes":"No"]}),s.services&&s.services.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"room-services-title",children:"Room Services:"}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`room-services-list ${u?"expanded":"collapsed"}`,children:s.services.map(P=>r.jsx("span",{className:"room-service-tag",children:P.name},P._id))}),!u&&s.services.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.services.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>f(!u),children:u?"Show less":"Show more"})]})]}),s.locationServices&&s.locationServices.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"room-services-title",children:"Location Services:"}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`room-services-list ${p?"expanded":"collapsed"}`,children:s.locationServices.map(P=>r.jsx("span",{className:"room-service-tag",children:P.name},P._id))}),!p&&s.locationServices.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.locationServices.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>m(!p),children:p?"Show less":"Show more"})]})]}),s.eventTypes&&s.eventTypes.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"room-services-title",children:"Event Types:"}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`room-services-list ${y?"expanded":"collapsed"}`,children:s.eventTypes.map((P,C)=>r.jsx("span",{className:"room-service-tag",children:P.name},C))}),!y&&s.eventTypes.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.eventTypes.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>v(!y),children:y?"Show less":"Show more"})]})]}),r.jsxs("div",{className:"room-action-buttons",children:[r.jsx("button",{className:"action-button location-button",onClick:()=>a(s._id),children:"Show Location"}),r.jsx("button",{className:"action-button contacts-button",onClick:()=>c(s._id),children:"Show Contacts"})]})]})})},tv=({rooms:s,onShowLocation:a,onShowContacts:c})=>r.jsxs("div",{children:[r.jsxs("h2",{className:"results-title",children:["Results ",r.jsx("span",{className:"results-count",children:s.length})]}),r.jsxs("div",{className:"rooms-grid",children:[s.map(u=>r.jsx(ev,{room:u,onShowLocation:a,onShowContacts:c},u._id)),s.length===0&&r.jsx("p",{className:"no-results",children:"No rooms found matching your criteria."})]})]}),nv=({location:s})=>{const[a,c]=g.useState(!1),[u,f]=g.useState(!1),[p,m]=g.useState(!1),[y,v]=g.useState(!1);return r.jsxs("div",{className:"modal-location",children:[r.jsx("h2",{children:s.name}),r.jsxs("div",{className:"modal-info-grid",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"ID:"})," ",s._id]}),r.jsxs("p",{children:[r.jsx("strong",{children:"City:"})," ",s.city.charAt(0).toUpperCase()+s.city.slice(1)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Address:"})," ",s.address||"No address provided"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Parking Info:"})," ",s.parkingInfo||"No parking available"]}),s.venueType&&r.jsxs("p",{children:[r.jsx("strong",{children:"Venue Type:"})," ",s.venueType.name]}),s.eventTypes&&s.eventTypes.length>0&&r.jsxs("div",{className:"modal-event-types",children:[r.jsx("p",{children:r.jsx("strong",{children:"Event Types:"})}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`modal-services-list ${a?"expanded":"collapsed"}`,children:s.eventTypes.map((h,T)=>r.jsx("span",{className:"modal-service-tag",children:h.name},T))}),!a&&s.eventTypes.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.eventTypes.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>c(!a),children:a?"Show less":"Show more"})]})]}),s.rooms&&s.rooms.length>0&&r.jsxs("div",{className:"modal-rooms",children:[r.jsx("p",{children:r.jsx("strong",{children:"Rooms:"})}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`modal-services-list ${u?"expanded":"collapsed"}`,children:s.rooms.map((h,T)=>r.jsxs("div",{className:"modal-room-item",children:[r.jsxs("p",{children:[r.jsx("strong",{children:h.name})," - ",h.maxCapacity," capacity, ",h.mt2," m²"]}),h.serviceDetails&&h.serviceDetails.length>0&&r.jsx("div",{className:"room-service-details",children:r.jsxs("small",{children:["Services: ",h.serviceDetails.map(j=>j.name).join(", ")]})})]},T))}),!u&&s.rooms.length>2&&r.jsx("div",{className:"list-fade-gradient"}),s.rooms.length>2&&r.jsx("button",{className:"toggle-list-button",onClick:()=>f(!u),children:u?"Show less":"Show more"})]})]}),s.services&&s.services.length>0&&r.jsxs("div",{className:"modal-services",children:[r.jsx("p",{children:r.jsx("strong",{children:"Services:"})}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`modal-services-list ${p?"expanded":"collapsed"}`,children:s.services.map((h,T)=>r.jsx("span",{className:"modal-service-tag",children:h.name},T))}),!p&&s.services.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.services.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>m(!p),children:p?"Show less":"Show more"})]})]}),s.contacts&&s.contacts.length>0&&r.jsxs("div",{className:"modal-contacts",children:[r.jsx("p",{children:r.jsx("strong",{children:"Contacts:"})}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`modal-services-list ${y?"expanded":"collapsed"}`,children:s.contacts.map((h,T)=>r.jsx("span",{className:"modal-service-tag",children:h.name||`Contact ${T+1}`},T))}),!y&&s.contacts.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.contacts.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>v(!y),children:y?"Show less":"Show more"})]})]})]})]})},rv=({location:s,contacts:a})=>{const c=typeof s=="object"&&s!==null?s.name||"Unknown Location":s||"Unknown Location";console.log("Contacts in modal:",a),console.log("Location in modal:",s);const u=Array.isArray(a)&&a.length>0;return r.jsxs("div",{className:"modal-contacts",children:[r.jsxs("h2",{children:["Contacts for ",c]}),u?r.jsx("div",{className:"contacts-list",children:a.map((f,p)=>r.jsxs("div",{className:"contact-card",children:[r.jsx("h3",{children:f.name||"Unnamed Contact"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Role:"})," ",f.role||"N/A"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," ",f.tel||"N/A"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",f.email||"N/A"]})]},f._id||`contact-${p}`))}):r.jsx("p",{className:"no-contacts",children:"No contacts available for this location."})]})},iv=({isOpen:s,modalType:a,roomId:c,onClose:u})=>{const[f,p]=g.useState([]),[m,y]=g.useState(null),[v,h]=g.useState(!1),[T,j]=g.useState(null);if(g.useEffect(()=>{(async()=>{if(!(!s||!c)){h(!0),j(null);try{if(a==="location"){const C=await Hg(c);console.log("Location data:",C),y(C)}if(a==="contacts"){const C=await qg(c);if(console.log("Contacts data:",C),Array.isArray(C)&&C.length>0){const k=C.map(R=>({_id:R._id||`contact-${Math.random()}`,name:R.name||"Unknown",role:R.role||"Unknown",tel:R.tel||R.phone||"",email:R.email||""}));p(k)}else console.warn("No contacts data found or invalid format:",C),p([])}}catch(C){console.error("Error fetching modal data:",C),j("Failed to load data")}finally{h(!1)}}})()},[s,a,c]),!s||!c)return null;if(v)return r.jsx("div",{className:"modal-overlay",onClick:u,children:r.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[r.jsx("button",{className:"modal-close-button",onClick:u,children:"×"}),r.jsx("div",{className:"loading-container",children:"Loading..."})]})});if(T)return r.jsx("div",{className:"modal-overlay",onClick:u,children:r.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[r.jsx("button",{className:"modal-close-button",onClick:u,children:"×"}),r.jsx("div",{className:"error-container",children:T})]})});const N=()=>{switch(a){case"location":return m?r.jsx(nv,{location:m}):r.jsx("div",{className:"error-container",children:"Location data not available"});case"contacts":return r.jsx(rv,{location:m||{name:"Unknown Location"},contacts:f});default:return r.jsx("div",{className:"error-container",children:"Unknown modal type"})}};return r.jsx("div",{className:"modal-overlay",onClick:u,children:r.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[r.jsx("button",{className:"modal-close-button",onClick:u,children:"×"}),N()]})})},sv=()=>{const[s,a]=g.useState(""),[c,u]=g.useState(""),[f,p]=g.useState(!1),[m,y]=g.useState(""),[v,h]=g.useState([]),[T,j]=g.useState(null),[N,P]=g.useState(null),[C,k]=g.useState([]),[R,z]=g.useState(!1),[A,Q]=g.useState(null),[q,H]=g.useState(1),[Y,S]=g.useState(1),[F,I]=g.useState(0),[W,J]=g.useState(!1),[ge,ce]=g.useState(null),[me,ye]=g.useState(null),[we,je]=g.useState({city:"",capacity:"",requiresParking:!1,serviceIds:[],eventType:"",venueType:""}),K=re=>{const de={_id:re._id,name:re.name};v.some(pe=>pe._id===de._id)||h([...v,de]),y("")},se=re=>{h(v.filter(de=>de._id!==re))},X=()=>{const re=v.map(pe=>pe._id).filter(pe=>pe),de={city:s,capacity:c===""?"":c.toString(),requiresParking:f,serviceIds:re,eventType:T?T._id:"",venueType:N?N._id:""};je(de),H(1),te(de,1)},b=re=>{H(re),te(we,re)},O=re=>{ce("location"),ye(re),J(!0)},ue=re=>{ce("contacts"),ye(re),J(!0)},M=()=>{J(!1),ye(null)},te=async(re,de)=>{z(!0),Q(null);try{const pe=await Wg(re,de);k(pe.rooms),H(pe.pagination.currentPage),S(pe.pagination.totalPages),I(pe.pagination.totalCount)}catch(pe){console.error("Failed to fetch rooms:",pe),Q("Failed to fetch rooms"),k([])}finally{z(!1)}},oe=()=>{if(Y<=1)return null;const re=[],de=5;let pe=Math.max(1,q-Math.floor(de/2));const Ie=Math.min(Y,pe+de-1);Ie-pe+1<de&&(pe=Math.max(1,Ie-de+1)),re.push(r.jsx("button",{onClick:()=>b(Math.max(1,q-1)),disabled:q===1,className:"pagination-button",children:"«"},"prev")),pe>1&&(re.push(r.jsx("button",{onClick:()=>b(1),className:"pagination-button",children:"1"},1)),pe>2&&re.push(r.jsx("span",{className:"pagination-ellipsis",children:"..."},"ellipsis1")));for(let gt=pe;gt<=Ie;gt++)re.push(r.jsx("button",{onClick:()=>b(gt),className:`pagination-button ${q===gt?"active":""}`,children:gt},gt));return Ie<Y&&(Ie<Y-1&&re.push(r.jsx("span",{className:"pagination-ellipsis",children:"..."},"ellipsis2")),re.push(r.jsx("button",{onClick:()=>b(Y),className:"pagination-button",children:Y},Y))),re.push(r.jsx("button",{onClick:()=>b(Math.min(Y,q+1)),disabled:q===Y,className:"pagination-button",children:"»"},"next")),r.jsxs("div",{className:"pagination-container",children:[re,r.jsxs("div",{className:"pagination-info",children:["Showing ",C.length," of ",F," results"]})]})};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"room-search-container fade-in",children:[r.jsx("h1",{className:"page-title",children:"Room Search"}),r.jsx(Zg,{selectedCity:s,capacity:c,requiresParking:f,serviceSearch:m,selectedServices:v,selectedEventType:T?T._id:"",selectedVenueType:N?N._id:"",onCityChange:a,onCapacityChange:u,onParkingChange:p,onServiceSearchChange:y,onAddService:K,onRemoveService:se,onEventTypeChange:j,onVenueTypeChange:P,onSearch:X}),R?r.jsx("div",{className:"loading-container",children:"Loading rooms..."}):A?r.jsx("div",{className:"error-container",children:A}):r.jsxs(r.Fragment,{children:[r.jsx(tv,{rooms:C,onShowLocation:O,onShowContacts:ue}),oe()]})]}),r.jsx("div",{children:r.jsx(iv,{isOpen:W,modalType:ge,roomId:me,onClose:M})})]})},lv=()=>r.jsx(sv,{}),av=()=>{const[s,a]=g.useState(null),[c,u]=g.useState(!1),[f,p]=g.useState(!1),m=ht(),y=Ut();g.useEffect(()=>{(async()=>{try{const j=await Vm();j&&a(j)}catch(j){console.error("Failed to fetch user:",j)}})()},[]),g.useEffect(()=>{u(!1),p(!1)},[y]);const v=async()=>{try{await Um(),a(null),m("/login")}catch(T){console.error("Failed to log out:",T),alert("Errore durante il logout. Riprova.")}},h=[{path:"/",label:"Dashboard",icon:"🏠"},{path:"/users",label:"Utenti",icon:"👥"},{path:"/locations",label:"Location",icon:"📍"},{path:"/reservations",label:"Prenotazioni",icon:"📅"},{path:"/refund-policies",label:"Politiche Rimborso",icon:"💰"},{path:"/scraping",label:"Importazione",icon:"🔄"}];return r.jsxs("div",{className:"app-layout",children:[r.jsx("header",{className:"app-header",children:r.jsxs("div",{className:"header-container",children:[r.jsxs("div",{className:"header-left",children:[r.jsxs("button",{className:"mobile-menu-toggle",onClick:()=>u(!c),"aria-label":"Toggle menu","aria-expanded":c,children:[r.jsx("span",{className:"hamburger-line"}),r.jsx("span",{className:"hamburger-line"}),r.jsx("span",{className:"hamburger-line"})]}),r.jsx("h1",{className:"app-title",children:"LocaTrova Admin"})]}),r.jsx("nav",{className:`main-nav ${c?"mobile-open":""}`,children:r.jsx("ul",{className:"nav-list",children:h.map(T=>r.jsx("li",{className:"nav-item",children:r.jsxs(Rd,{to:T.path,className:({isActive:j})=>`nav-link ${j?"active":""}`,children:[r.jsx("span",{className:"nav-icon","aria-hidden":"true",children:T.icon}),r.jsx("span",{className:"nav-label",children:T.label})]})},T.path))})}),r.jsx("div",{className:"header-right",children:s&&r.jsxs("div",{className:"user-menu-container",children:[r.jsxs("button",{className:"user-menu-toggle",onClick:()=>p(!f),"aria-label":"User menu","aria-expanded":f,children:[r.jsx("div",{className:"user-avatar",children:(s.username||s.email||"U").charAt(0).toUpperCase()}),r.jsx("span",{className:"user-name",children:s.username||s.email}),r.jsx("svg",{className:`dropdown-arrow ${f?"open":""}`,width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:r.jsx("path",{d:"M2.5 4.5L6 8L9.5 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),f&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"dropdown-overlay",onClick:()=>p(!1),"aria-hidden":"true"}),r.jsxs("div",{className:"user-dropdown",children:[r.jsx("div",{className:"dropdown-header",children:r.jsxs("div",{className:"dropdown-user-info",children:[r.jsx("p",{className:"dropdown-username",children:s.username}),s.email&&r.jsx("p",{className:"dropdown-email",children:s.email})]})}),r.jsx("div",{className:"dropdown-divider"}),r.jsxs("button",{className:"dropdown-item logout-item",onClick:v,children:[r.jsxs("svg",{className:"dropdown-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"}),r.jsx("path",{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),"Logout"]})]})]})]})})]})}),r.jsx("main",{className:"app-main",children:r.jsx("div",{className:"main-container",children:r.jsx(Qh,{})})})]})};function ov(){const[s,a]=g.useState(null);return g.useEffect(()=>{(async()=>{try{const c=await Ba();a(c.isAuthenticated)}catch{a(!1)}})()},[]),s===null?r.jsx("div",{className:"auth-loading",children:r.jsx("div",{className:"spinner",role:"status","aria-label":"Verifica autenticazione",children:r.jsx("span",{className:"sr-only",children:"Caricamento..."})})}):s?r.jsx(av,{}):r.jsx(Ed,{to:"/login",replace:!0})}function cv(){return r.jsxs(Yh,{children:[r.jsx(tt,{path:"/login",element:r.jsx(Bm,{})}),r.jsxs(tt,{element:r.jsx(ov,{}),children:[r.jsx(tt,{path:"/",element:r.jsx(Tm,{})}),r.jsx(tt,{path:"/users",element:r.jsx(Zm,{})}),r.jsx(tt,{path:"/users/:userId",element:r.jsx(eg,{})}),r.jsx(tt,{path:"/locations",element:r.jsx(cg,{})}),r.jsx(tt,{path:"/locations/:locationId",element:r.jsx(ug,{})}),r.jsx(tt,{path:"/location/create",element:r.jsx(kg,{})}),r.jsx(tt,{path:"/reservations",element:r.jsx($g,{})}),r.jsx(tt,{path:"/reservation/:reservationId",element:r.jsx(Ug,{})}),r.jsx(tt,{path:"/refund-policies",element:r.jsx("div",{children:"Refund Policies Page - Coming Soon"})}),r.jsx(tt,{path:"/scraping",element:r.jsx(lv,{})})]}),r.jsx(tt,{path:"*",element:r.jsx(Ed,{to:"/",replace:!0})})]})}nh.createRoot(document.getElementById("root")).render(r.jsx(Yp.StrictMode,{children:r.jsx(xm,{basename:"/locatrova-admin-fe",children:r.jsx(cv,{})})}));
//# sourceMappingURL=index-B6L7XYuf.js.map
