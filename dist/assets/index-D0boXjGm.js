var Qp=Object.defineProperty;var Kp=(s,a,c)=>a in s?Qp(s,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[a]=c;var Xn=(s,a,c)=>Kp(s,typeof a!="symbol"?a+"":a,c);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const p of f)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function c(f){const p={};return f.integrity&&(p.integrity=f.integrity),f.referrerPolicy&&(p.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?p.credentials="include":f.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(f){if(f.ep)return;f.ep=!0;const p=c(f);fetch(f.href,p)}})();var ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Yp(s){if(s.__esModule)return s;var a=s.default;if(typeof a=="function"){var c=function u(){return this instanceof u?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};c.prototype=a.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(s).forEach(function(u){var f=Object.getOwnPropertyDescriptor(s,u);Object.defineProperty(c,u,f.get?f:{enumerable:!0,get:function(){return s[u]}})}),c}var ua={exports:{}},Ur={},da={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu;function Gp(){if(Vu)return ye;Vu=1;var s=Symbol.for("react.element"),a=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.iterator;function w(_){return _===null||typeof _!="object"?null:(_=N&&_[N]||_["@@iterator"],typeof _=="function"?_:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function R(_,$,fe){this.props=_,this.context=$,this.refs=k,this.updater=fe||E}R.prototype.isReactComponent={},R.prototype.setState=function(_,$){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,$,"setState")},R.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function z(){}z.prototype=R.prototype;function F(_,$,fe){this.props=_,this.context=$,this.refs=k,this.updater=fe||E}var K=F.prototype=new z;K.constructor=F,C(K,R.prototype),K.isPureReactComponent=!0;var Q=Array.isArray,W=Object.prototype.hasOwnProperty,H={current:null},y={key:!0,ref:!0,__self:!0,__source:!0};function L(_,$,fe){var M,re={},de=null,le=null;if($!=null)for(M in $.ref!==void 0&&(le=$.ref),$.key!==void 0&&(de=""+$.key),$)W.call($,M)&&!y.hasOwnProperty(M)&&(re[M]=$[M]);var pe=arguments.length-2;if(pe===1)re.children=fe;else if(1<pe){for(var ge=Array(pe),Le=0;Le<pe;Le++)ge[Le]=arguments[Le+2];re.children=ge}if(_&&_.defaultProps)for(M in pe=_.defaultProps,pe)re[M]===void 0&&(re[M]=pe[M]);return{$$typeof:s,type:_,key:de,ref:le,props:re,_owner:H.current}}function T(_,$){return{$$typeof:s,type:_.type,key:$,ref:_.ref,props:_.props,_owner:_._owner}}function O(_){return typeof _=="object"&&_!==null&&_.$$typeof===s}function Y(_){var $={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(fe){return $[fe]})}var J=/\/+/g;function X(_,$){return typeof _=="object"&&_!==null&&_.key!=null?Y(""+_.key):$.toString(36)}function se(_,$,fe,M,re){var de=typeof _;(de==="undefined"||de==="boolean")&&(_=null);var le=!1;if(_===null)le=!0;else switch(de){case"string":case"number":le=!0;break;case"object":switch(_.$$typeof){case s:case a:le=!0}}if(le)return le=_,re=re(le),_=M===""?"."+X(le,0):M,Q(re)?(fe="",_!=null&&(fe=_.replace(J,"$&/")+"/"),se(re,$,fe,"",function(Le){return Le})):re!=null&&(O(re)&&(re=T(re,fe+(!re.key||le&&le.key===re.key?"":(""+re.key).replace(J,"$&/")+"/")+_)),$.push(re)),1;if(le=0,M=M===""?".":M+":",Q(_))for(var pe=0;pe<_.length;pe++){de=_[pe];var ge=M+X(de,pe);le+=se(de,$,fe,ge,re)}else if(ge=w(_),typeof ge=="function")for(_=ge.call(_),pe=0;!(de=_.next()).done;)de=de.value,ge=M+X(de,pe++),le+=se(de,$,fe,ge,re);else if(de==="object")throw $=String(_),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return le}function ve(_,$,fe){if(_==null)return _;var M=[],re=0;return se(_,M,"","",function(de){return $.call(fe,de,re++)}),M}function xe(_){if(_._status===-1){var $=_._result;$=$(),$.then(function(fe){(_._status===0||_._status===-1)&&(_._status=1,_._result=fe)},function(fe){(_._status===0||_._status===-1)&&(_._status=2,_._result=fe)}),_._status===-1&&(_._status=0,_._result=$)}if(_._status===1)return _._result.default;throw _._result}var me={current:null},G={transition:null},oe={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:G,ReactCurrentOwner:H};function ee(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:ve,forEach:function(_,$,fe){ve(_,function(){$.apply(this,arguments)},fe)},count:function(_){var $=0;return ve(_,function(){$++}),$},toArray:function(_){return ve(_,function($){return $})||[]},only:function(_){if(!O(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},ye.Component=R,ye.Fragment=c,ye.Profiler=f,ye.PureComponent=F,ye.StrictMode=u,ye.Suspense=g,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,ye.act=ee,ye.cloneElement=function(_,$,fe){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var M=C({},_.props),re=_.key,de=_.ref,le=_._owner;if($!=null){if($.ref!==void 0&&(de=$.ref,le=H.current),$.key!==void 0&&(re=""+$.key),_.type&&_.type.defaultProps)var pe=_.type.defaultProps;for(ge in $)W.call($,ge)&&!y.hasOwnProperty(ge)&&(M[ge]=$[ge]===void 0&&pe!==void 0?pe[ge]:$[ge])}var ge=arguments.length-2;if(ge===1)M.children=fe;else if(1<ge){pe=Array(ge);for(var Le=0;Le<ge;Le++)pe[Le]=arguments[Le+2];M.children=pe}return{$$typeof:s,type:_.type,key:re,ref:de,props:M,_owner:le}},ye.createContext=function(_){return _={$$typeof:m,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:p,_context:_},_.Consumer=_},ye.createElement=L,ye.createFactory=function(_){var $=L.bind(null,_);return $.type=_,$},ye.createRef=function(){return{current:null}},ye.forwardRef=function(_){return{$$typeof:x,render:_}},ye.isValidElement=O,ye.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:xe}},ye.memo=function(_,$){return{$$typeof:h,type:_,compare:$===void 0?null:$}},ye.startTransition=function(_){var $=G.transition;G.transition={};try{_()}finally{G.transition=$}},ye.unstable_act=ee,ye.useCallback=function(_,$){return me.current.useCallback(_,$)},ye.useContext=function(_){return me.current.useContext(_)},ye.useDebugValue=function(){},ye.useDeferredValue=function(_){return me.current.useDeferredValue(_)},ye.useEffect=function(_,$){return me.current.useEffect(_,$)},ye.useId=function(){return me.current.useId()},ye.useImperativeHandle=function(_,$,fe){return me.current.useImperativeHandle(_,$,fe)},ye.useInsertionEffect=function(_,$){return me.current.useInsertionEffect(_,$)},ye.useLayoutEffect=function(_,$){return me.current.useLayoutEffect(_,$)},ye.useMemo=function(_,$){return me.current.useMemo(_,$)},ye.useReducer=function(_,$,fe){return me.current.useReducer(_,$,fe)},ye.useRef=function(_){return me.current.useRef(_)},ye.useState=function(_){return me.current.useState(_)},ye.useSyncExternalStore=function(_,$,fe){return me.current.useSyncExternalStore(_,$,fe)},ye.useTransition=function(){return me.current.useTransition()},ye.version="18.3.1",ye}var Bu;function Da(){return Bu||(Bu=1,da.exports=Gp()),da.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu;function Xp(){if(Hu)return Ur;Hu=1;var s=Da(),a=Symbol.for("react.element"),c=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,f=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function m(x,g,h){var b,N={},w=null,E=null;h!==void 0&&(w=""+h),g.key!==void 0&&(w=""+g.key),g.ref!==void 0&&(E=g.ref);for(b in g)u.call(g,b)&&!p.hasOwnProperty(b)&&(N[b]=g[b]);if(x&&x.defaultProps)for(b in g=x.defaultProps,g)N[b]===void 0&&(N[b]=g[b]);return{$$typeof:a,type:x,key:w,ref:E,props:N,_owner:f.current}}return Ur.Fragment=c,Ur.jsx=m,Ur.jsxs=m,Ur}var Wu;function Jp(){return Wu||(Wu=1,ua.exports=Xp()),ua.exports}var r=Jp(),v=Da();const Zp=fs(v);var rs={},fa={exports:{}},et={},pa={exports:{}},ha={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu;function eh(){return qu||(qu=1,function(s){function a(G,oe){var ee=G.length;G.push(oe);e:for(;0<ee;){var _=ee-1>>>1,$=G[_];if(0<f($,oe))G[_]=oe,G[ee]=$,ee=_;else break e}}function c(G){return G.length===0?null:G[0]}function u(G){if(G.length===0)return null;var oe=G[0],ee=G.pop();if(ee!==oe){G[0]=ee;e:for(var _=0,$=G.length,fe=$>>>1;_<fe;){var M=2*(_+1)-1,re=G[M],de=M+1,le=G[de];if(0>f(re,ee))de<$&&0>f(le,re)?(G[_]=le,G[de]=ee,_=de):(G[_]=re,G[M]=ee,_=M);else if(de<$&&0>f(le,ee))G[_]=le,G[de]=ee,_=de;else break e}}return oe}function f(G,oe){var ee=G.sortIndex-oe.sortIndex;return ee!==0?ee:G.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;s.unstable_now=function(){return p.now()}}else{var m=Date,x=m.now();s.unstable_now=function(){return m.now()-x}}var g=[],h=[],b=1,N=null,w=3,E=!1,C=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(G){for(var oe=c(h);oe!==null;){if(oe.callback===null)u(h);else if(oe.startTime<=G)u(h),oe.sortIndex=oe.expirationTime,a(g,oe);else break;oe=c(h)}}function Q(G){if(k=!1,K(G),!C)if(c(g)!==null)C=!0,xe(W);else{var oe=c(h);oe!==null&&me(Q,oe.startTime-G)}}function W(G,oe){C=!1,k&&(k=!1,z(L),L=-1),E=!0;var ee=w;try{for(K(oe),N=c(g);N!==null&&(!(N.expirationTime>oe)||G&&!Y());){var _=N.callback;if(typeof _=="function"){N.callback=null,w=N.priorityLevel;var $=_(N.expirationTime<=oe);oe=s.unstable_now(),typeof $=="function"?N.callback=$:N===c(g)&&u(g),K(oe)}else u(g);N=c(g)}if(N!==null)var fe=!0;else{var M=c(h);M!==null&&me(Q,M.startTime-oe),fe=!1}return fe}finally{N=null,w=ee,E=!1}}var H=!1,y=null,L=-1,T=5,O=-1;function Y(){return!(s.unstable_now()-O<T)}function J(){if(y!==null){var G=s.unstable_now();O=G;var oe=!0;try{oe=y(!0,G)}finally{oe?X():(H=!1,y=null)}}else H=!1}var X;if(typeof F=="function")X=function(){F(J)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ve=se.port2;se.port1.onmessage=J,X=function(){ve.postMessage(null)}}else X=function(){R(J,0)};function xe(G){y=G,H||(H=!0,X())}function me(G,oe){L=R(function(){G(s.unstable_now())},oe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){C||E||(C=!0,xe(W))},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return c(g)},s.unstable_next=function(G){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var ee=w;w=oe;try{return G()}finally{w=ee}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=w;w=G;try{return oe()}finally{w=ee}},s.unstable_scheduleCallback=function(G,oe,ee){var _=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?_+ee:_):ee=_,G){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ee+$,G={id:b++,callback:oe,priorityLevel:G,startTime:ee,expirationTime:$,sortIndex:-1},ee>_?(G.sortIndex=ee,a(h,G),c(g)===null&&G===c(h)&&(k?(z(L),L=-1):k=!0,me(Q,ee-_))):(G.sortIndex=$,a(g,G),C||E||(C=!0,xe(W))),G},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(G){var oe=w;return function(){var ee=w;w=oe;try{return G.apply(this,arguments)}finally{w=ee}}}}(ha)),ha}var Qu;function th(){return Qu||(Qu=1,pa.exports=eh()),pa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku;function nh(){if(Ku)return et;Ku=1;var s=Da(),a=th();function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,f={};function p(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(f[e]=t,e=0;e<t.length;e++)u.add(t[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},N={};function w(e){return g.call(N,e)?!0:g.call(b,e)?!1:h.test(e)?N[e]=!0:(b[e]=!0,!1)}function E(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,n,i){if(t===null||typeof t>"u"||E(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,n,i,l,o,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=d}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function F(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z,F);R[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z,F);R[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z,F);R[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function K(e,t,n,i){var l=R.hasOwnProperty(t)?R[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,n,l,i)&&(n=null),i||l===null?w(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,i=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Q=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),H=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),Y=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),G=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,_;function $(e){if(_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return`
`+_+e}var fe=!1;function M(e,t){if(!e||fe)return"";fe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var i=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){i=A}e.call(t.prototype)}else{try{throw Error()}catch(A){i=A}e()}}catch(A){if(A&&i&&typeof A.stack=="string"){for(var l=A.stack.split(`
`),o=i.stack.split(`
`),d=l.length-1,j=o.length-1;1<=d&&0<=j&&l[d]!==o[j];)j--;for(;1<=d&&0<=j;d--,j--)if(l[d]!==o[j]){if(d!==1||j!==1)do if(d--,j--,0>j||l[d]!==o[j]){var S=`
`+l[d].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=d&&0<=j);break}}}finally{fe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function re(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1),e;case 11:return e=M(e.type.render,!1),e;case 1:return e=M(e.type,!0),e;default:return""}}function de(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case H:return"Portal";case T:return"Profiler";case L:return"StrictMode";case X:return"Suspense";case se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case xe:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}function le(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(t);case 8:return t===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ge(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Le(e){var t=ge(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(d){i=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gt(e){e._valueTracker||(e._valueTracker=Le(e))}function Qa(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ge(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vs(e,t){var n=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ka(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=pe(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ya(e,t){t=t.checked,t!=null&&K(e,"checked",t,!1)}function ys(e,t){Ya(e,t);var n=pe(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xs(e,t.type,n):t.hasOwnProperty("defaultValue")&&xs(e,t.type,pe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ga(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xs(e,t,n){(t!=="number"||Qr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nr=Array.isArray;function En(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+pe(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function js(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(c(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(c(92));if(nr(n)){if(1<n.length)throw Error(c(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pe(n)}}function Ja(e,t){var n=pe(t.value),i=pe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Za(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eo(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ns(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eo(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kr,to=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xd=["Webkit","ms","Moz","O"];Object.keys(ir).forEach(function(e){Xd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ir[t]=ir[e]})});function no(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ir.hasOwnProperty(e)&&ir[e]?(""+t).trim():t+"px"}function ro(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,l=no(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,l):e[n]=l}}var Jd=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ws(e,t){if(t){if(Jd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(c(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(t.style!=null&&typeof t.style!="object")throw Error(c(62))}}function Ss(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cs=null;function ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Es=null,Pn=null,bn=null;function io(e){if(e=Er(e)){if(typeof Es!="function")throw Error(c(280));var t=e.stateNode;t&&(t=vi(t),Es(e.stateNode,e.type,t))}}function so(e){Pn?bn?bn.push(e):bn=[e]:Pn=e}function lo(){if(Pn){var e=Pn,t=bn;if(bn=Pn=null,io(e),t)for(e=0;e<t.length;e++)io(t[e])}}function ao(e,t){return e(t)}function oo(){}var Ps=!1;function co(e,t,n){if(Ps)return e(t,n);Ps=!0;try{return ao(e,t,n)}finally{Ps=!1,(Pn!==null||bn!==null)&&(oo(),lo())}}function sr(e,t){var n=e.stateNode;if(n===null)return null;var i=vi(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var bs=!1;if(x)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){bs=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{bs=!1}function Zd(e,t,n,i,l,o,d,j,S){var A=Array.prototype.slice.call(arguments,3);try{t.apply(n,A)}catch(V){this.onError(V)}}var ar=!1,Yr=null,Gr=!1,Ts=null,ef={onError:function(e){ar=!0,Yr=e}};function tf(e,t,n,i,l,o,d,j,S){ar=!1,Yr=null,Zd.apply(ef,arguments)}function nf(e,t,n,i,l,o,d,j,S){if(tf.apply(this,arguments),ar){if(ar){var A=Yr;ar=!1,Yr=null}else throw Error(c(198));Gr||(Gr=!0,Ts=A)}}function pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function uo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fo(e){if(pn(e)!==e)throw Error(c(188))}function rf(e){var t=e.alternate;if(!t){if(t=pn(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return fo(l),e;if(o===i)return fo(l),t;o=o.sibling}throw Error(c(188))}if(n.return!==i.return)n=l,i=o;else{for(var d=!1,j=l.child;j;){if(j===n){d=!0,n=l,i=o;break}if(j===i){d=!0,i=l,n=o;break}j=j.sibling}if(!d){for(j=o.child;j;){if(j===n){d=!0,n=o,i=l;break}if(j===i){d=!0,i=o,n=l;break}j=j.sibling}if(!d)throw Error(c(189))}}if(n.alternate!==i)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function po(e){return e=rf(e),e!==null?ho(e):null}function ho(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ho(e);if(t!==null)return t;e=e.sibling}return null}var mo=a.unstable_scheduleCallback,go=a.unstable_cancelCallback,sf=a.unstable_shouldYield,lf=a.unstable_requestPaint,Re=a.unstable_now,af=a.unstable_getCurrentPriorityLevel,_s=a.unstable_ImmediatePriority,vo=a.unstable_UserBlockingPriority,Xr=a.unstable_NormalPriority,of=a.unstable_LowPriority,yo=a.unstable_IdlePriority,Jr=null,Et=null;function cf(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Jr,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:ff,uf=Math.log,df=Math.LN2;function ff(e){return e>>>=0,e===0?32:31-(uf(e)/df|0)|0}var Zr=64,ei=4194304;function or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ti(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,l=e.suspendedLanes,o=e.pingedLanes,d=n&268435455;if(d!==0){var j=d&~l;j!==0?i=or(j):(o&=d,o!==0&&(i=or(o)))}else d=n&~l,d!==0?i=or(d):o!==0&&(i=or(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&l)&&(l=i&-i,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-vt(t),l=1<<n,i|=e[n],t&=~l;return i}function pf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hf(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var d=31-vt(o),j=1<<d,S=l[d];S===-1?(!(j&n)||j&i)&&(l[d]=pf(j,t)):S<=t&&(e.expiredLanes|=j),o&=~j}}function Rs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xo(){var e=Zr;return Zr<<=1,!(Zr&4194240)&&(Zr=64),e}function zs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function mf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-vt(n),o=1<<l;t[l]=0,i[l]=-1,e[l]=-1,n&=~o}}function Is(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-vt(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}var we=0;function jo(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var No,Ls,wo,So,Co,Ds=!1,ni=[],Bt=null,Ht=null,Wt=null,ur=new Map,dr=new Map,qt=[],gf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ko(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(t.pointerId)}}function fr(e,t,n,i,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},t!==null&&(t=Er(t),t!==null&&Ls(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function vf(e,t,n,i,l){switch(t){case"focusin":return Bt=fr(Bt,e,t,n,i,l),!0;case"dragenter":return Ht=fr(Ht,e,t,n,i,l),!0;case"mouseover":return Wt=fr(Wt,e,t,n,i,l),!0;case"pointerover":var o=l.pointerId;return ur.set(o,fr(ur.get(o)||null,e,t,n,i,l)),!0;case"gotpointercapture":return o=l.pointerId,dr.set(o,fr(dr.get(o)||null,e,t,n,i,l)),!0}return!1}function Eo(e){var t=hn(e.target);if(t!==null){var n=pn(t);if(n!==null){if(t=n.tag,t===13){if(t=uo(n),t!==null){e.blockedOn=t,Co(e.priority,function(){wo(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Cs=i,n.target.dispatchEvent(i),Cs=null}else return t=Er(n),t!==null&&Ls(t),e.blockedOn=n,!1;t.shift()}return!0}function Po(e,t,n){ri(e)&&n.delete(t)}function yf(){Ds=!1,Bt!==null&&ri(Bt)&&(Bt=null),Ht!==null&&ri(Ht)&&(Ht=null),Wt!==null&&ri(Wt)&&(Wt=null),ur.forEach(Po),dr.forEach(Po)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ds||(Ds=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,yf)))}function hr(e){function t(l){return pr(l,e)}if(0<ni.length){pr(ni[0],e);for(var n=1;n<ni.length;n++){var i=ni[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Bt!==null&&pr(Bt,e),Ht!==null&&pr(Ht,e),Wt!==null&&pr(Wt,e),ur.forEach(t),dr.forEach(t),n=0;n<qt.length;n++)i=qt[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)Eo(n),n.blockedOn===null&&qt.shift()}var Tn=Q.ReactCurrentBatchConfig,ii=!0;function xf(e,t,n,i){var l=we,o=Tn.transition;Tn.transition=null;try{we=1,As(e,t,n,i)}finally{we=l,Tn.transition=o}}function jf(e,t,n,i){var l=we,o=Tn.transition;Tn.transition=null;try{we=4,As(e,t,n,i)}finally{we=l,Tn.transition=o}}function As(e,t,n,i){if(ii){var l=Fs(e,t,n,i);if(l===null)el(e,t,i,si,n),ko(e,i);else if(vf(l,e,t,n,i))i.stopPropagation();else if(ko(e,i),t&4&&-1<gf.indexOf(e)){for(;l!==null;){var o=Er(l);if(o!==null&&No(o),o=Fs(e,t,n,i),o===null&&el(e,t,i,si,n),o===l)break;l=o}l!==null&&i.stopPropagation()}else el(e,t,i,null,n)}}var si=null;function Fs(e,t,n,i){if(si=null,e=ks(i),e=hn(e),e!==null)if(t=pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=uo(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return si=e,null}function bo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(af()){case _s:return 1;case vo:return 4;case Xr:case of:return 16;case yo:return 536870912;default:return 16}default:return 16}}var Qt=null,Ms=null,li=null;function To(){if(li)return li;var e,t=Ms,n=t.length,i,l="value"in Qt?Qt.value:Qt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===l[o-i];i++);return li=l.slice(e,1<i?1-i:void 0)}function ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function _o(){return!1}function rt(e){function t(n,i,l,o,d){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(n=e[j],this[j]=n?n(o):o[j]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oi:_o,this.isPropagationStopped=_o,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=rt(_n),mr=ee({},_n,{view:0,detail:0}),Nf=rt(mr),$s,Us,gr,ci=ee({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?($s=e.screenX-gr.screenX,Us=e.screenY-gr.screenY):Us=$s=0,gr=e),$s)},movementY:function(e){return"movementY"in e?e.movementY:Us}}),Ro=rt(ci),wf=ee({},ci,{dataTransfer:0}),Sf=rt(wf),Cf=ee({},mr,{relatedTarget:0}),Vs=rt(Cf),kf=ee({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),Ef=rt(kf),Pf=ee({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bf=rt(Pf),Tf=ee({},_n,{data:0}),zo=rt(Tf),_f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function If(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zf[e])?!!t[e]:!1}function Bs(){return If}var Lf=ee({},mr,{key:function(e){if(e.key){var t=_f[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Df=rt(Lf),Af=ee({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=rt(Af),Ff=ee({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),Mf=rt(Ff),Of=ee({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),$f=rt(Of),Uf=ee({},ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vf=rt(Uf),Bf=[9,13,27,32],Hs=x&&"CompositionEvent"in window,vr=null;x&&"documentMode"in document&&(vr=document.documentMode);var Hf=x&&"TextEvent"in window&&!vr,Lo=x&&(!Hs||vr&&8<vr&&11>=vr),Do=" ",Ao=!1;function Fo(e,t){switch(e){case"keyup":return Bf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rn=!1;function Wf(e,t){switch(e){case"compositionend":return Mo(t);case"keypress":return t.which!==32?null:(Ao=!0,Do);case"textInput":return e=t.data,e===Do&&Ao?null:e;default:return null}}function qf(e,t){if(Rn)return e==="compositionend"||!Hs&&Fo(e,t)?(e=To(),li=Ms=Qt=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lo&&t.locale!=="ko"?null:t.data;default:return null}}var Qf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qf[e.type]:t==="textarea"}function $o(e,t,n,i){so(i),t=hi(t,"onChange"),0<t.length&&(n=new Os("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var yr=null,xr=null;function Kf(e){ic(e,0)}function ui(e){var t=An(e);if(Qa(t))return e}function Yf(e,t){if(e==="change")return t}var Uo=!1;if(x){var Ws;if(x){var qs="oninput"in document;if(!qs){var Vo=document.createElement("div");Vo.setAttribute("oninput","return;"),qs=typeof Vo.oninput=="function"}Ws=qs}else Ws=!1;Uo=Ws&&(!document.documentMode||9<document.documentMode)}function Bo(){yr&&(yr.detachEvent("onpropertychange",Ho),xr=yr=null)}function Ho(e){if(e.propertyName==="value"&&ui(xr)){var t=[];$o(t,xr,e,ks(e)),co(Kf,t)}}function Gf(e,t,n){e==="focusin"?(Bo(),yr=t,xr=n,yr.attachEvent("onpropertychange",Ho)):e==="focusout"&&Bo()}function Xf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ui(xr)}function Jf(e,t){if(e==="click")return ui(t)}function Zf(e,t){if(e==="input"||e==="change")return ui(t)}function ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:ep;function jr(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!g.call(t,l)||!yt(e[l],t[l]))return!1}return!0}function Wo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qo(e,t){var n=Wo(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wo(n)}}function Qo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ko(){for(var e=window,t=Qr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qr(e.document)}return t}function Qs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tp(e){var t=Ko(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Qo(n.ownerDocument.documentElement,n)){if(i!==null&&Qs(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(i.start,l);i=i.end===void 0?o:Math.min(i.end,l),!e.extend&&o>i&&(l=i,i=o,o=l),l=qo(n,o);var d=qo(n,i);l&&d&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var np=x&&"documentMode"in document&&11>=document.documentMode,zn=null,Ks=null,Nr=null,Ys=!1;function Yo(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ys||zn==null||zn!==Qr(i)||(i=zn,"selectionStart"in i&&Qs(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Nr&&jr(Nr,i)||(Nr=i,i=hi(Ks,"onSelect"),0<i.length&&(t=new Os("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=zn)))}function di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var In={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},Gs={},Go={};x&&(Go=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function fi(e){if(Gs[e])return Gs[e];if(!In[e])return e;var t=In[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Go)return Gs[e]=t[n];return e}var Xo=fi("animationend"),Jo=fi("animationiteration"),Zo=fi("animationstart"),ec=fi("transitionend"),tc=new Map,nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(e,t){tc.set(e,t),p(t,[e])}for(var Xs=0;Xs<nc.length;Xs++){var Js=nc[Xs],rp=Js.toLowerCase(),ip=Js[0].toUpperCase()+Js.slice(1);Kt(rp,"on"+ip)}Kt(Xo,"onAnimationEnd"),Kt(Jo,"onAnimationIteration"),Kt(Zo,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(ec,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sp=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function rc(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,nf(i,t,void 0,e),e.currentTarget=null}function ic(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var d=i.length-1;0<=d;d--){var j=i[d],S=j.instance,A=j.currentTarget;if(j=j.listener,S!==o&&l.isPropagationStopped())break e;rc(l,j,A),o=S}else for(d=0;d<i.length;d++){if(j=i[d],S=j.instance,A=j.currentTarget,j=j.listener,S!==o&&l.isPropagationStopped())break e;rc(l,j,A),o=S}}}if(Gr)throw e=Ts,Gr=!1,Ts=null,e}function Ce(e,t){var n=t[ll];n===void 0&&(n=t[ll]=new Set);var i=e+"__bubble";n.has(i)||(sc(t,e,2,!1),n.add(i))}function Zs(e,t,n){var i=0;t&&(i|=4),sc(n,e,i,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function Sr(e){if(!e[pi]){e[pi]=!0,u.forEach(function(n){n!=="selectionchange"&&(sp.has(n)||Zs(n,!1,e),Zs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,Zs("selectionchange",!1,t))}}function sc(e,t,n,i){switch(bo(t)){case 1:var l=xf;break;case 4:l=jf;break;default:l=As}n=l.bind(null,t,n,e),l=void 0,!bs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function el(e,t,n,i,l){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var j=i.stateNode.containerInfo;if(j===l||j.nodeType===8&&j.parentNode===l)break;if(d===4)for(d=i.return;d!==null;){var S=d.tag;if((S===3||S===4)&&(S=d.stateNode.containerInfo,S===l||S.nodeType===8&&S.parentNode===l))return;d=d.return}for(;j!==null;){if(d=hn(j),d===null)return;if(S=d.tag,S===5||S===6){i=o=d;continue e}j=j.parentNode}}i=i.return}co(function(){var A=o,V=ks(n),B=[];e:{var U=tc.get(e);if(U!==void 0){var Z=Os,ne=e;switch(e){case"keypress":if(ai(n)===0)break e;case"keydown":case"keyup":Z=Df;break;case"focusin":ne="focus",Z=Vs;break;case"focusout":ne="blur",Z=Vs;break;case"beforeblur":case"afterblur":Z=Vs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Mf;break;case Xo:case Jo:case Zo:Z=Ef;break;case ec:Z=$f;break;case"scroll":Z=Nf;break;case"wheel":Z=Vf;break;case"copy":case"cut":case"paste":Z=bf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Io}var ie=(t&4)!==0,ze=!ie&&e==="scroll",I=ie?U!==null?U+"Capture":null:U;ie=[];for(var P=A,D;P!==null;){D=P;var q=D.stateNode;if(D.tag===5&&q!==null&&(D=q,I!==null&&(q=sr(P,I),q!=null&&ie.push(Cr(P,q,D)))),ze)break;P=P.return}0<ie.length&&(U=new Z(U,ne,null,n,V),B.push({event:U,listeners:ie}))}}if(!(t&7)){e:{if(U=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",U&&n!==Cs&&(ne=n.relatedTarget||n.fromElement)&&(hn(ne)||ne[It]))break e;if((Z||U)&&(U=V.window===V?V:(U=V.ownerDocument)?U.defaultView||U.parentWindow:window,Z?(ne=n.relatedTarget||n.toElement,Z=A,ne=ne?hn(ne):null,ne!==null&&(ze=pn(ne),ne!==ze||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(Z=null,ne=A),Z!==ne)){if(ie=Ro,q="onMouseLeave",I="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Io,q="onPointerLeave",I="onPointerEnter",P="pointer"),ze=Z==null?U:An(Z),D=ne==null?U:An(ne),U=new ie(q,P+"leave",Z,n,V),U.target=ze,U.relatedTarget=D,q=null,hn(V)===A&&(ie=new ie(I,P+"enter",ne,n,V),ie.target=D,ie.relatedTarget=ze,q=ie),ze=q,Z&&ne)t:{for(ie=Z,I=ne,P=0,D=ie;D;D=Ln(D))P++;for(D=0,q=I;q;q=Ln(q))D++;for(;0<P-D;)ie=Ln(ie),P--;for(;0<D-P;)I=Ln(I),D--;for(;P--;){if(ie===I||I!==null&&ie===I.alternate)break t;ie=Ln(ie),I=Ln(I)}ie=null}else ie=null;Z!==null&&lc(B,U,Z,ie,!1),ne!==null&&ze!==null&&lc(B,ze,ne,ie,!0)}}e:{if(U=A?An(A):window,Z=U.nodeName&&U.nodeName.toLowerCase(),Z==="select"||Z==="input"&&U.type==="file")var ae=Yf;else if(Oo(U))if(Uo)ae=Zf;else{ae=Xf;var ce=Gf}else(Z=U.nodeName)&&Z.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ae=Jf);if(ae&&(ae=ae(e,A))){$o(B,ae,n,V);break e}ce&&ce(e,U,A),e==="focusout"&&(ce=U._wrapperState)&&ce.controlled&&U.type==="number"&&xs(U,"number",U.value)}switch(ce=A?An(A):window,e){case"focusin":(Oo(ce)||ce.contentEditable==="true")&&(zn=ce,Ks=A,Nr=null);break;case"focusout":Nr=Ks=zn=null;break;case"mousedown":Ys=!0;break;case"contextmenu":case"mouseup":case"dragend":Ys=!1,Yo(B,n,V);break;case"selectionchange":if(np)break;case"keydown":case"keyup":Yo(B,n,V)}var ue;if(Hs)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Rn?Fo(e,n)&&(he="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(he="onCompositionStart");he&&(Lo&&n.locale!=="ko"&&(Rn||he!=="onCompositionStart"?he==="onCompositionEnd"&&Rn&&(ue=To()):(Qt=V,Ms="value"in Qt?Qt.value:Qt.textContent,Rn=!0)),ce=hi(A,he),0<ce.length&&(he=new zo(he,e,null,n,V),B.push({event:he,listeners:ce}),ue?he.data=ue:(ue=Mo(n),ue!==null&&(he.data=ue)))),(ue=Hf?Wf(e,n):qf(e,n))&&(A=hi(A,"onBeforeInput"),0<A.length&&(V=new zo("onBeforeInput","beforeinput",null,n,V),B.push({event:V,listeners:A}),V.data=ue))}ic(B,t)})}function Cr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hi(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=sr(e,n),o!=null&&i.unshift(Cr(e,o,l)),o=sr(e,t),o!=null&&i.push(Cr(e,o,l))),e=e.return}return i}function Ln(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lc(e,t,n,i,l){for(var o=t._reactName,d=[];n!==null&&n!==i;){var j=n,S=j.alternate,A=j.stateNode;if(S!==null&&S===i)break;j.tag===5&&A!==null&&(j=A,l?(S=sr(n,o),S!=null&&d.unshift(Cr(n,S,j))):l||(S=sr(n,o),S!=null&&d.push(Cr(n,S,j)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var lp=/\r\n?/g,ap=/\u0000|\uFFFD/g;function ac(e){return(typeof e=="string"?e:""+e).replace(lp,`
`).replace(ap,"")}function mi(e,t,n){if(t=ac(t),ac(e)!==t&&n)throw Error(c(425))}function gi(){}var tl=null,nl=null;function rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,op=typeof clearTimeout=="function"?clearTimeout:void 0,oc=typeof Promise=="function"?Promise:void 0,cp=typeof queueMicrotask=="function"?queueMicrotask:typeof oc<"u"?function(e){return oc.resolve(null).then(e).catch(up)}:il;function up(e){setTimeout(function(){throw e})}function sl(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(i===0){e.removeChild(l),hr(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=l}while(n);hr(t)}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Dn=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Dn,kr="__reactProps$"+Dn,It="__reactContainer$"+Dn,ll="__reactEvents$"+Dn,dp="__reactListeners$"+Dn,fp="__reactHandles$"+Dn;function hn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[It]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cc(e);e!==null;){if(n=e[Pt])return n;e=cc(e)}return t}e=n,n=e.parentNode}return null}function Er(e){return e=e[Pt]||e[It],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function An(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function vi(e){return e[kr]||null}var al=[],Fn=-1;function Gt(e){return{current:e}}function ke(e){0>Fn||(e.current=al[Fn],al[Fn]=null,Fn--)}function Se(e,t){Fn++,al[Fn]=e.current,e.current=t}var Xt={},Ve=Gt(Xt),Ye=Gt(!1),mn=Xt;function Mn(e,t){var n=e.type.contextTypes;if(!n)return Xt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ge(e){return e=e.childContextTypes,e!=null}function yi(){ke(Ye),ke(Ve)}function uc(e,t,n){if(Ve.current!==Xt)throw Error(c(168));Se(Ve,t),Se(Ye,n)}function dc(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(c(108,le(e)||"Unknown",l));return ee({},n,i)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,mn=Ve.current,Se(Ve,e),Se(Ye,Ye.current),!0}function fc(e,t,n){var i=e.stateNode;if(!i)throw Error(c(169));n?(e=dc(e,t,mn),i.__reactInternalMemoizedMergedChildContext=e,ke(Ye),ke(Ve),Se(Ve,e)):ke(Ye),Se(Ye,n)}var Lt=null,ji=!1,ol=!1;function pc(e){Lt===null?Lt=[e]:Lt.push(e)}function pp(e){ji=!0,pc(e)}function Jt(){if(!ol&&Lt!==null){ol=!0;var e=0,t=we;try{var n=Lt;for(we=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Lt=null,ji=!1}catch(l){throw Lt!==null&&(Lt=Lt.slice(e+1)),mo(_s,Jt),l}finally{we=t,ol=!1}}return null}var On=[],$n=0,Ni=null,wi=0,at=[],ot=0,gn=null,Dt=1,At="";function vn(e,t){On[$n++]=wi,On[$n++]=Ni,Ni=e,wi=t}function hc(e,t,n){at[ot++]=Dt,at[ot++]=At,at[ot++]=gn,gn=e;var i=Dt;e=At;var l=32-vt(i)-1;i&=~(1<<l),n+=1;var o=32-vt(t)+l;if(30<o){var d=l-l%5;o=(i&(1<<d)-1).toString(32),i>>=d,l-=d,Dt=1<<32-vt(t)+l|n<<l|i,At=o+e}else Dt=1<<o|n<<l|i,At=e}function cl(e){e.return!==null&&(vn(e,1),hc(e,1,0))}function ul(e){for(;e===Ni;)Ni=On[--$n],On[$n]=null,wi=On[--$n],On[$n]=null;for(;e===gn;)gn=at[--ot],at[ot]=null,At=at[--ot],at[ot]=null,Dt=at[--ot],at[ot]=null}var it=null,st=null,Ee=!1,xt=null;function mc(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,st=Yt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:Dt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,it=e,st=null,!0):!1;default:return!1}}function dl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fl(e){if(Ee){var t=st;if(t){var n=t;if(!gc(e,t)){if(dl(e))throw Error(c(418));t=Yt(n.nextSibling);var i=it;t&&gc(e,t)?mc(i,n):(e.flags=e.flags&-4097|2,Ee=!1,it=e)}}else{if(dl(e))throw Error(c(418));e.flags=e.flags&-4097|2,Ee=!1,it=e}}}function vc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function Si(e){if(e!==it)return!1;if(!Ee)return vc(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rl(e.type,e.memoizedProps)),t&&(t=st)){if(dl(e))throw yc(),Error(c(418));for(;t;)mc(e,t),t=Yt(t.nextSibling)}if(vc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=Yt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=it?Yt(e.stateNode.nextSibling):null;return!0}function yc(){for(var e=st;e;)e=Yt(e.nextSibling)}function Un(){st=it=null,Ee=!1}function pl(e){xt===null?xt=[e]:xt.push(e)}var hp=Q.ReactCurrentBatchConfig;function Pr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(c(309));var i=n.stateNode}if(!i)throw Error(c(147,e));var l=i,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(d){var j=l.refs;d===null?delete j[o]:j[o]=d},t._stringRef=o,t)}if(typeof e!="string")throw Error(c(284));if(!n._owner)throw Error(c(290,e))}return e}function Ci(e,t){throw e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xc(e){var t=e._init;return t(e._payload)}function jc(e){function t(I,P){if(e){var D=I.deletions;D===null?(I.deletions=[P],I.flags|=16):D.push(P)}}function n(I,P){if(!e)return null;for(;P!==null;)t(I,P),P=P.sibling;return null}function i(I,P){for(I=new Map;P!==null;)P.key!==null?I.set(P.key,P):I.set(P.index,P),P=P.sibling;return I}function l(I,P){return I=an(I,P),I.index=0,I.sibling=null,I}function o(I,P,D){return I.index=D,e?(D=I.alternate,D!==null?(D=D.index,D<P?(I.flags|=2,P):D):(I.flags|=2,P)):(I.flags|=1048576,P)}function d(I){return e&&I.alternate===null&&(I.flags|=2),I}function j(I,P,D,q){return P===null||P.tag!==6?(P=ia(D,I.mode,q),P.return=I,P):(P=l(P,D),P.return=I,P)}function S(I,P,D,q){var ae=D.type;return ae===y?V(I,P,D.props.children,q,D.key):P!==null&&(P.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===xe&&xc(ae)===P.type)?(q=l(P,D.props),q.ref=Pr(I,P,D),q.return=I,q):(q=Ki(D.type,D.key,D.props,null,I.mode,q),q.ref=Pr(I,P,D),q.return=I,q)}function A(I,P,D,q){return P===null||P.tag!==4||P.stateNode.containerInfo!==D.containerInfo||P.stateNode.implementation!==D.implementation?(P=sa(D,I.mode,q),P.return=I,P):(P=l(P,D.children||[]),P.return=I,P)}function V(I,P,D,q,ae){return P===null||P.tag!==7?(P=kn(D,I.mode,q,ae),P.return=I,P):(P=l(P,D),P.return=I,P)}function B(I,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return P=ia(""+P,I.mode,D),P.return=I,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case W:return D=Ki(P.type,P.key,P.props,null,I.mode,D),D.ref=Pr(I,null,P),D.return=I,D;case H:return P=sa(P,I.mode,D),P.return=I,P;case xe:var q=P._init;return B(I,q(P._payload),D)}if(nr(P)||oe(P))return P=kn(P,I.mode,D,null),P.return=I,P;Ci(I,P)}return null}function U(I,P,D,q){var ae=P!==null?P.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ae!==null?null:j(I,P,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case W:return D.key===ae?S(I,P,D,q):null;case H:return D.key===ae?A(I,P,D,q):null;case xe:return ae=D._init,U(I,P,ae(D._payload),q)}if(nr(D)||oe(D))return ae!==null?null:V(I,P,D,q,null);Ci(I,D)}return null}function Z(I,P,D,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number")return I=I.get(D)||null,j(P,I,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case W:return I=I.get(q.key===null?D:q.key)||null,S(P,I,q,ae);case H:return I=I.get(q.key===null?D:q.key)||null,A(P,I,q,ae);case xe:var ce=q._init;return Z(I,P,D,ce(q._payload),ae)}if(nr(q)||oe(q))return I=I.get(D)||null,V(P,I,q,ae,null);Ci(P,q)}return null}function ne(I,P,D,q){for(var ae=null,ce=null,ue=P,he=P=0,Oe=null;ue!==null&&he<D.length;he++){ue.index>he?(Oe=ue,ue=null):Oe=ue.sibling;var Ne=U(I,ue,D[he],q);if(Ne===null){ue===null&&(ue=Oe);break}e&&ue&&Ne.alternate===null&&t(I,ue),P=o(Ne,P,he),ce===null?ae=Ne:ce.sibling=Ne,ce=Ne,ue=Oe}if(he===D.length)return n(I,ue),Ee&&vn(I,he),ae;if(ue===null){for(;he<D.length;he++)ue=B(I,D[he],q),ue!==null&&(P=o(ue,P,he),ce===null?ae=ue:ce.sibling=ue,ce=ue);return Ee&&vn(I,he),ae}for(ue=i(I,ue);he<D.length;he++)Oe=Z(ue,I,he,D[he],q),Oe!==null&&(e&&Oe.alternate!==null&&ue.delete(Oe.key===null?he:Oe.key),P=o(Oe,P,he),ce===null?ae=Oe:ce.sibling=Oe,ce=Oe);return e&&ue.forEach(function(on){return t(I,on)}),Ee&&vn(I,he),ae}function ie(I,P,D,q){var ae=oe(D);if(typeof ae!="function")throw Error(c(150));if(D=ae.call(D),D==null)throw Error(c(151));for(var ce=ae=null,ue=P,he=P=0,Oe=null,Ne=D.next();ue!==null&&!Ne.done;he++,Ne=D.next()){ue.index>he?(Oe=ue,ue=null):Oe=ue.sibling;var on=U(I,ue,Ne.value,q);if(on===null){ue===null&&(ue=Oe);break}e&&ue&&on.alternate===null&&t(I,ue),P=o(on,P,he),ce===null?ae=on:ce.sibling=on,ce=on,ue=Oe}if(Ne.done)return n(I,ue),Ee&&vn(I,he),ae;if(ue===null){for(;!Ne.done;he++,Ne=D.next())Ne=B(I,Ne.value,q),Ne!==null&&(P=o(Ne,P,he),ce===null?ae=Ne:ce.sibling=Ne,ce=Ne);return Ee&&vn(I,he),ae}for(ue=i(I,ue);!Ne.done;he++,Ne=D.next())Ne=Z(ue,I,he,Ne.value,q),Ne!==null&&(e&&Ne.alternate!==null&&ue.delete(Ne.key===null?he:Ne.key),P=o(Ne,P,he),ce===null?ae=Ne:ce.sibling=Ne,ce=Ne);return e&&ue.forEach(function(qp){return t(I,qp)}),Ee&&vn(I,he),ae}function ze(I,P,D,q){if(typeof D=="object"&&D!==null&&D.type===y&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case W:e:{for(var ae=D.key,ce=P;ce!==null;){if(ce.key===ae){if(ae=D.type,ae===y){if(ce.tag===7){n(I,ce.sibling),P=l(ce,D.props.children),P.return=I,I=P;break e}}else if(ce.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===xe&&xc(ae)===ce.type){n(I,ce.sibling),P=l(ce,D.props),P.ref=Pr(I,ce,D),P.return=I,I=P;break e}n(I,ce);break}else t(I,ce);ce=ce.sibling}D.type===y?(P=kn(D.props.children,I.mode,q,D.key),P.return=I,I=P):(q=Ki(D.type,D.key,D.props,null,I.mode,q),q.ref=Pr(I,P,D),q.return=I,I=q)}return d(I);case H:e:{for(ce=D.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===D.containerInfo&&P.stateNode.implementation===D.implementation){n(I,P.sibling),P=l(P,D.children||[]),P.return=I,I=P;break e}else{n(I,P);break}else t(I,P);P=P.sibling}P=sa(D,I.mode,q),P.return=I,I=P}return d(I);case xe:return ce=D._init,ze(I,P,ce(D._payload),q)}if(nr(D))return ne(I,P,D,q);if(oe(D))return ie(I,P,D,q);Ci(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,P!==null&&P.tag===6?(n(I,P.sibling),P=l(P,D),P.return=I,I=P):(n(I,P),P=ia(D,I.mode,q),P.return=I,I=P),d(I)):n(I,P)}return ze}var Vn=jc(!0),Nc=jc(!1),ki=Gt(null),Ei=null,Bn=null,hl=null;function ml(){hl=Bn=Ei=null}function gl(e){var t=ki.current;ke(ki),e._currentValue=t}function vl(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Hn(e,t){Ei=e,hl=Bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(hl!==e)if(e={context:e,memoizedValue:t,next:null},Bn===null){if(Ei===null)throw Error(c(308));Bn=e,Ei.dependencies={lanes:0,firstContext:e}}else Bn=Bn.next=e;return t}var yn=null;function yl(e){yn===null?yn=[e]:yn.push(e)}function wc(e,t,n,i){var l=t.interleaved;return l===null?(n.next=n,yl(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ft(e,i)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zt=!1;function xl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,je&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,Ft(e,n)}return l=i.interleaved,l===null?(t.next=t,yl(i)):(t.next=l.next,l.next=t),i.interleaved=t,Ft(e,n)}function Pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Is(e,n)}}function Cc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=d:o=o.next=d,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bi(e,t,n,i){var l=e.updateQueue;Zt=!1;var o=l.firstBaseUpdate,d=l.lastBaseUpdate,j=l.shared.pending;if(j!==null){l.shared.pending=null;var S=j,A=S.next;S.next=null,d===null?o=A:d.next=A,d=S;var V=e.alternate;V!==null&&(V=V.updateQueue,j=V.lastBaseUpdate,j!==d&&(j===null?V.firstBaseUpdate=A:j.next=A,V.lastBaseUpdate=S))}if(o!==null){var B=l.baseState;d=0,V=A=S=null,j=o;do{var U=j.lane,Z=j.eventTime;if((i&U)===U){V!==null&&(V=V.next={eventTime:Z,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ne=e,ie=j;switch(U=t,Z=n,ie.tag){case 1:if(ne=ie.payload,typeof ne=="function"){B=ne.call(Z,B,U);break e}B=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ie.payload,U=typeof ne=="function"?ne.call(Z,B,U):ne,U==null)break e;B=ee({},B,U);break e;case 2:Zt=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,U=l.effects,U===null?l.effects=[j]:U.push(j))}else Z={eventTime:Z,lane:U,tag:j.tag,payload:j.payload,callback:j.callback,next:null},V===null?(A=V=Z,S=B):V=V.next=Z,d|=U;if(j=j.next,j===null){if(j=l.shared.pending,j===null)break;U=j,j=U.next,U.next=null,l.lastBaseUpdate=U,l.shared.pending=null}}while(!0);if(V===null&&(S=B),l.baseState=S,l.firstBaseUpdate=A,l.lastBaseUpdate=V,t=l.shared.interleaved,t!==null){l=t;do d|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);Nn|=d,e.lanes=d,e.memoizedState=B}}function kc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=n,typeof l!="function")throw Error(c(191,l));l.call(i)}}}var br={},bt=Gt(br),Tr=Gt(br),_r=Gt(br);function xn(e){if(e===br)throw Error(c(174));return e}function jl(e,t){switch(Se(_r,t),Se(Tr,e),Se(bt,br),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ns(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ns(t,e)}ke(bt),Se(bt,t)}function Wn(){ke(bt),ke(Tr),ke(_r)}function Ec(e){xn(_r.current);var t=xn(bt.current),n=Ns(t,e.type);t!==n&&(Se(Tr,e),Se(bt,n))}function Nl(e){Tr.current===e&&(ke(bt),ke(Tr))}var be=Gt(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wl=[];function Sl(){for(var e=0;e<wl.length;e++)wl[e]._workInProgressVersionPrimary=null;wl.length=0}var _i=Q.ReactCurrentDispatcher,Cl=Q.ReactCurrentBatchConfig,jn=0,Te=null,De=null,Fe=null,Ri=!1,Rr=!1,zr=0,mp=0;function Be(){throw Error(c(321))}function kl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function El(e,t,n,i,l,o){if(jn=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_i.current=e===null||e.memoizedState===null?xp:jp,e=n(i,l),Rr){o=0;do{if(Rr=!1,zr=0,25<=o)throw Error(c(301));o+=1,Fe=De=null,t.updateQueue=null,_i.current=Np,e=n(i,l)}while(Rr)}if(_i.current=Li,t=De!==null&&De.next!==null,jn=0,Fe=De=Te=null,Ri=!1,t)throw Error(c(300));return e}function Pl(){var e=zr!==0;return zr=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Te.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function ut(){if(De===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Fe===null?Te.memoizedState:Fe.next;if(t!==null)Fe=t,De=e;else{if(e===null)throw Error(c(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Fe===null?Te.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Ir(e,t){return typeof t=="function"?t(e):t}function bl(e){var t=ut(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var i=De,l=i.baseQueue,o=n.pending;if(o!==null){if(l!==null){var d=l.next;l.next=o.next,o.next=d}i.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,i=i.baseState;var j=d=null,S=null,A=o;do{var V=A.lane;if((jn&V)===V)S!==null&&(S=S.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),i=A.hasEagerState?A.eagerState:e(i,A.action);else{var B={lane:V,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};S===null?(j=S=B,d=i):S=S.next=B,Te.lanes|=V,Nn|=V}A=A.next}while(A!==null&&A!==o);S===null?d=i:S.next=j,yt(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseState=d,t.baseQueue=S,n.lastRenderedState=i}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Te.lanes|=o,Nn|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tl(e){var t=ut(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var d=l=l.next;do o=e(o,d.action),d=d.next;while(d!==l);yt(o,t.memoizedState)||(Xe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Pc(){}function bc(e,t){var n=Te,i=ut(),l=t(),o=!yt(i.memoizedState,l);if(o&&(i.memoizedState=l,Xe=!0),i=i.queue,_l(Rc.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,Lr(9,_c.bind(null,n,i,l,t),void 0,null),Me===null)throw Error(c(349));jn&30||Tc(n,t,l)}return l}function Tc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _c(e,t,n,i){t.value=n,t.getSnapshot=i,zc(t)&&Ic(e)}function Rc(e,t,n){return n(function(){zc(t)&&Ic(e)})}function zc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function Ic(e){var t=Ft(e,1);t!==null&&St(t,e,1,-1)}function Lc(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:e},t.queue=e,e=e.dispatch=yp.bind(null,Te,e),[t.memoizedState,e]}function Lr(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Dc(){return ut().memoizedState}function zi(e,t,n,i){var l=Tt();Te.flags|=e,l.memoizedState=Lr(1|t,n,void 0,i===void 0?null:i)}function Ii(e,t,n,i){var l=ut();i=i===void 0?null:i;var o=void 0;if(De!==null){var d=De.memoizedState;if(o=d.destroy,i!==null&&kl(i,d.deps)){l.memoizedState=Lr(t,n,o,i);return}}Te.flags|=e,l.memoizedState=Lr(1|t,n,o,i)}function Ac(e,t){return zi(8390656,8,e,t)}function _l(e,t){return Ii(2048,8,e,t)}function Fc(e,t){return Ii(4,2,e,t)}function Mc(e,t){return Ii(4,4,e,t)}function Oc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $c(e,t,n){return n=n!=null?n.concat([e]):null,Ii(4,4,Oc.bind(null,t,e),n)}function Rl(){}function Uc(e,t){var n=ut();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&kl(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Vc(e,t){var n=ut();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&kl(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Bc(e,t,n){return jn&21?(yt(n,t)||(n=xo(),Te.lanes|=n,Nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function gp(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var i=Cl.transition;Cl.transition={};try{e(!1),t()}finally{we=n,Cl.transition=i}}function Hc(){return ut().memoizedState}function vp(e,t,n){var i=sn(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Wc(e))qc(t,n);else if(n=wc(e,t,n,i),n!==null){var l=Ke();St(n,e,i,l),Qc(n,t,i)}}function yp(e,t,n){var i=sn(e),l={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wc(e))qc(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,j=o(d,n);if(l.hasEagerState=!0,l.eagerState=j,yt(j,d)){var S=t.interleaved;S===null?(l.next=l,yl(t)):(l.next=S.next,S.next=l),t.interleaved=l;return}}catch{}finally{}n=wc(e,t,l,i),n!==null&&(l=Ke(),St(n,e,i,l),Qc(n,t,i))}}function Wc(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function qc(e,t){Rr=Ri=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qc(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Is(e,n)}}var Li={readContext:ct,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},xp={readContext:ct,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Ac,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zi(4194308,4,Oc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){return zi(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Tt();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=vp.bind(null,Te,e),[i.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Lc,useDebugValue:Rl,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Lc(!1),t=e[0];return e=gp.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Te,l=Tt();if(Ee){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),Me===null)throw Error(c(349));jn&30||Tc(i,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Ac(Rc.bind(null,i,o,e),[e]),i.flags|=2048,Lr(9,_c.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Tt(),t=Me.identifierPrefix;if(Ee){var n=At,i=Dt;n=(i&~(1<<32-vt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=zr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jp={readContext:ct,useCallback:Uc,useContext:ct,useEffect:_l,useImperativeHandle:$c,useInsertionEffect:Fc,useLayoutEffect:Mc,useMemo:Vc,useReducer:bl,useRef:Dc,useState:function(){return bl(Ir)},useDebugValue:Rl,useDeferredValue:function(e){var t=ut();return Bc(t,De.memoizedState,e)},useTransition:function(){var e=bl(Ir)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Pc,useSyncExternalStore:bc,useId:Hc,unstable_isNewReconciler:!1},Np={readContext:ct,useCallback:Uc,useContext:ct,useEffect:_l,useImperativeHandle:$c,useInsertionEffect:Fc,useLayoutEffect:Mc,useMemo:Vc,useReducer:Tl,useRef:Dc,useState:function(){return Tl(Ir)},useDebugValue:Rl,useDeferredValue:function(e){var t=ut();return De===null?t.memoizedState=e:Bc(t,De.memoizedState,e)},useTransition:function(){var e=Tl(Ir)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Pc,useSyncExternalStore:bc,useId:Hc,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zl(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Di={isMounted:function(e){return(e=e._reactInternals)?pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ke(),l=sn(e),o=Mt(i,l);o.payload=t,n!=null&&(o.callback=n),t=en(e,o,l),t!==null&&(St(t,e,l,i),Pi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ke(),l=sn(e),o=Mt(i,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=en(e,o,l),t!==null&&(St(t,e,l,i),Pi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ke(),i=sn(e),l=Mt(n,i);l.tag=2,t!=null&&(l.callback=t),t=en(e,l,i),t!==null&&(St(t,e,i,n),Pi(t,e,i))}};function Kc(e,t,n,i,l,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,d):t.prototype&&t.prototype.isPureReactComponent?!jr(n,i)||!jr(l,o):!0}function Yc(e,t,n){var i=!1,l=Xt,o=t.contextType;return typeof o=="object"&&o!==null?o=ct(o):(l=Ge(t)?mn:Ve.current,i=t.contextTypes,o=(i=i!=null)?Mn(e,l):Xt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Di,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function Gc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Di.enqueueReplaceState(t,t.state,null)}function Il(e,t,n,i){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},xl(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=ct(o):(o=Ge(t)?mn:Ve.current,l.context=Mn(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(zl(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Di.enqueueReplaceState(l,l.state,null),bi(e,n,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function qn(e,t){try{var n="",i=t;do n+=re(i),i=i.return;while(i);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function Ll(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Dl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wp=typeof WeakMap=="function"?WeakMap:Map;function Xc(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Vi||(Vi=!0,Gl=i),Dl(e,t)},n}function Jc(e,t,n){n=Mt(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;n.payload=function(){return i(l)},n.callback=function(){Dl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Dl(e,t),typeof i!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function Zc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new wp;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(l.add(n),e=Ap.bind(null,e,t,n),t.then(e,e))}function eu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tu(e,t,n,i,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e)}var Sp=Q.ReactCurrentOwner,Xe=!1;function Qe(e,t,n,i){t.child=e===null?Nc(t,null,n,i):Vn(t,e.child,n,i)}function nu(e,t,n,i,l){n=n.render;var o=t.ref;return Hn(t,l),i=El(e,t,n,i,o,l),n=Pl(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ot(e,t,l)):(Ee&&n&&cl(t),t.flags|=1,Qe(e,t,i,l),t.child)}function ru(e,t,n,i,l){if(e===null){var o=n.type;return typeof o=="function"&&!ra(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,iu(e,t,o,i,l)):(e=Ki(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var d=o.memoizedProps;if(n=n.compare,n=n!==null?n:jr,n(d,i)&&e.ref===t.ref)return Ot(e,t,l)}return t.flags|=1,e=an(o,i),e.ref=t.ref,e.return=t,t.child=e}function iu(e,t,n,i,l){if(e!==null){var o=e.memoizedProps;if(jr(o,i)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=i=o,(e.lanes&l)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Ot(e,t,l)}return Al(e,t,n,i,l)}function su(e,t,n){var i=t.pendingProps,l=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Kn,lt),lt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Kn,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Se(Kn,lt),lt|=i}else o!==null?(i=o.baseLanes|n,t.memoizedState=null):i=n,Se(Kn,lt),lt|=i;return Qe(e,t,l,n),t.child}function lu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Al(e,t,n,i,l){var o=Ge(n)?mn:Ve.current;return o=Mn(t,o),Hn(t,l),n=El(e,t,n,i,o,l),i=Pl(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ot(e,t,l)):(Ee&&i&&cl(t),t.flags|=1,Qe(e,t,n,l),t.child)}function au(e,t,n,i,l){if(Ge(n)){var o=!0;xi(t)}else o=!1;if(Hn(t,l),t.stateNode===null)Fi(e,t),Yc(t,n,i),Il(t,n,i,l),i=!0;else if(e===null){var d=t.stateNode,j=t.memoizedProps;d.props=j;var S=d.context,A=n.contextType;typeof A=="object"&&A!==null?A=ct(A):(A=Ge(n)?mn:Ve.current,A=Mn(t,A));var V=n.getDerivedStateFromProps,B=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function";B||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(j!==i||S!==A)&&Gc(t,d,i,A),Zt=!1;var U=t.memoizedState;d.state=U,bi(t,i,d,l),S=t.memoizedState,j!==i||U!==S||Ye.current||Zt?(typeof V=="function"&&(zl(t,n,V,i),S=t.memoizedState),(j=Zt||Kc(t,n,j,i,U,S,A))?(B||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=S),d.props=i,d.state=S,d.context=A,i=j):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,Sc(e,t),j=t.memoizedProps,A=t.type===t.elementType?j:jt(t.type,j),d.props=A,B=t.pendingProps,U=d.context,S=n.contextType,typeof S=="object"&&S!==null?S=ct(S):(S=Ge(n)?mn:Ve.current,S=Mn(t,S));var Z=n.getDerivedStateFromProps;(V=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(j!==B||U!==S)&&Gc(t,d,i,S),Zt=!1,U=t.memoizedState,d.state=U,bi(t,i,d,l);var ne=t.memoizedState;j!==B||U!==ne||Ye.current||Zt?(typeof Z=="function"&&(zl(t,n,Z,i),ne=t.memoizedState),(A=Zt||Kc(t,n,A,i,U,ne,S)||!1)?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,ne,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,ne,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||j===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=ne),d.props=i,d.state=ne,d.context=S,i=A):(typeof d.componentDidUpdate!="function"||j===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),i=!1)}return Fl(e,t,n,i,o,l)}function Fl(e,t,n,i,l,o){lu(e,t);var d=(t.flags&128)!==0;if(!i&&!d)return l&&fc(t,n,!1),Ot(e,t,o);i=t.stateNode,Sp.current=t;var j=d&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&d?(t.child=Vn(t,e.child,null,o),t.child=Vn(t,null,j,o)):Qe(e,t,j,o),t.memoizedState=i.state,l&&fc(t,n,!0),t.child}function ou(e){var t=e.stateNode;t.pendingContext?uc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uc(e,t.context,!1),jl(e,t.containerInfo)}function cu(e,t,n,i,l){return Un(),pl(l),t.flags|=256,Qe(e,t,n,i),t.child}var Ml={dehydrated:null,treeContext:null,retryLane:0};function Ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function uu(e,t,n){var i=t.pendingProps,l=be.current,o=!1,d=(t.flags&128)!==0,j;if((j=d)||(j=e!==null&&e.memoizedState===null?!1:(l&2)!==0),j?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Se(be,l&1),e===null)return fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=i.children,e=i.fallback,o?(i=t.mode,o=t.child,d={mode:"hidden",children:d},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=d):o=Yi(d,i,0,null),e=kn(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ol(n),t.memoizedState=Ml,e):$l(t,d));if(l=e.memoizedState,l!==null&&(j=l.dehydrated,j!==null))return Cp(e,t,d,i,j,l,n);if(o){o=i.fallback,d=t.mode,l=e.child,j=l.sibling;var S={mode:"hidden",children:i.children};return!(d&1)&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=S,t.deletions=null):(i=an(l,S),i.subtreeFlags=l.subtreeFlags&14680064),j!==null?o=an(j,o):(o=kn(o,d,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,d=e.child.memoizedState,d=d===null?Ol(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},o.memoizedState=d,o.childLanes=e.childLanes&~n,t.memoizedState=Ml,i}return o=e.child,e=o.sibling,i=an(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function $l(e,t){return t=Yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ai(e,t,n,i){return i!==null&&pl(i),Vn(t,e.child,null,n),e=$l(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cp(e,t,n,i,l,o,d){if(n)return t.flags&256?(t.flags&=-257,i=Ll(Error(c(422))),Ai(e,t,d,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=i.fallback,l=t.mode,i=Yi({mode:"visible",children:i.children},l,0,null),o=kn(o,l,d,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&Vn(t,e.child,null,d),t.child.memoizedState=Ol(d),t.memoizedState=Ml,o);if(!(t.mode&1))return Ai(e,t,d,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var j=i.dgst;return i=j,o=Error(c(419)),i=Ll(o,i,void 0),Ai(e,t,d,i)}if(j=(d&e.childLanes)!==0,Xe||j){if(i=Me,i!==null){switch(d&-d){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(i.suspendedLanes|d)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Ft(e,l),St(i,e,l,-1))}return na(),i=Ll(Error(c(421))),Ai(e,t,d,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Fp.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,st=Yt(l.nextSibling),it=t,Ee=!0,xt=null,e!==null&&(at[ot++]=Dt,at[ot++]=At,at[ot++]=gn,Dt=e.id,At=e.overflow,gn=t),t=$l(t,i.children),t.flags|=4096,t)}function du(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),vl(e.return,t,n)}function Ul(e,t,n,i,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=l)}function fu(e,t,n){var i=t.pendingProps,l=i.revealOrder,o=i.tail;if(Qe(e,t,i.children,n),i=be.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&du(e,n,t);else if(e.tag===19)du(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Se(be,i),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ti(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ul(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ti(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ul(t,!0,n,null,o);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kp(e,t,n){switch(t.tag){case 3:ou(t),Un();break;case 5:Ec(t);break;case 1:Ge(t.type)&&xi(t);break;case 4:jl(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;Se(ki,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Se(be,be.current&1),t.flags|=128,null):n&t.child.childLanes?uu(e,t,n):(Se(be,be.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);Se(be,be.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return fu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Se(be,be.current),i)break;return null;case 22:case 23:return t.lanes=0,su(e,t,n)}return Ot(e,t,n)}var pu,Vl,hu,mu;pu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Vl=function(){},hu=function(e,t,n,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,xn(bt.current);var o=null;switch(n){case"input":l=vs(e,l),i=vs(e,i),o=[];break;case"select":l=ee({},l,{value:void 0}),i=ee({},i,{value:void 0}),o=[];break;case"textarea":l=js(e,l),i=js(e,i),o=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=gi)}ws(n,i);var d;n=null;for(A in l)if(!i.hasOwnProperty(A)&&l.hasOwnProperty(A)&&l[A]!=null)if(A==="style"){var j=l[A];for(d in j)j.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(f.hasOwnProperty(A)?o||(o=[]):(o=o||[]).push(A,null));for(A in i){var S=i[A];if(j=l!=null?l[A]:void 0,i.hasOwnProperty(A)&&S!==j&&(S!=null||j!=null))if(A==="style")if(j){for(d in j)!j.hasOwnProperty(d)||S&&S.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in S)S.hasOwnProperty(d)&&j[d]!==S[d]&&(n||(n={}),n[d]=S[d])}else n||(o||(o=[]),o.push(A,n)),n=S;else A==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,j=j?j.__html:void 0,S!=null&&j!==S&&(o=o||[]).push(A,S)):A==="children"?typeof S!="string"&&typeof S!="number"||(o=o||[]).push(A,""+S):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(f.hasOwnProperty(A)?(S!=null&&A==="onScroll"&&Ce("scroll",e),o||j===S||(o=[])):(o=o||[]).push(A,S))}n&&(o=o||[]).push("style",n);var A=o;(t.updateQueue=A)&&(t.flags|=4)}},mu=function(e,t,n,i){n!==i&&(t.flags|=4)};function Dr(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ep(e,t,n){var i=t.pendingProps;switch(ul(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return Ge(t.type)&&yi(),He(t),null;case 3:return i=t.stateNode,Wn(),ke(Ye),ke(Ve),Sl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Si(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(Zl(xt),xt=null))),Vl(e,t),He(t),null;case 5:Nl(t);var l=xn(_r.current);if(n=t.type,e!==null&&t.stateNode!=null)hu(e,t,n,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(c(166));return He(t),null}if(e=xn(bt.current),Si(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[Pt]=t,i[kr]=o,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(l=0;l<wr.length;l++)Ce(wr[l],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ka(i,o),Ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",i);break;case"textarea":Xa(i,o),Ce("invalid",i)}ws(n,o),l=null;for(var d in o)if(o.hasOwnProperty(d)){var j=o[d];d==="children"?typeof j=="string"?i.textContent!==j&&(o.suppressHydrationWarning!==!0&&mi(i.textContent,j,e),l=["children",j]):typeof j=="number"&&i.textContent!==""+j&&(o.suppressHydrationWarning!==!0&&mi(i.textContent,j,e),l=["children",""+j]):f.hasOwnProperty(d)&&j!=null&&d==="onScroll"&&Ce("scroll",i)}switch(n){case"input":gt(i),Ga(i,o,!0);break;case"textarea":gt(i),Za(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=gi)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{d=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eo(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=d.createElement(n,{is:i.is}):(e=d.createElement(n),n==="select"&&(d=e,i.multiple?d.multiple=!0:i.size&&(d.size=i.size))):e=d.createElementNS(e,n),e[Pt]=t,e[kr]=i,pu(e,t,!1,!1),t.stateNode=e;e:{switch(d=Ss(n,i),n){case"dialog":Ce("cancel",e),Ce("close",e),l=i;break;case"iframe":case"object":case"embed":Ce("load",e),l=i;break;case"video":case"audio":for(l=0;l<wr.length;l++)Ce(wr[l],e);l=i;break;case"source":Ce("error",e),l=i;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),l=i;break;case"details":Ce("toggle",e),l=i;break;case"input":Ka(e,i),l=vs(e,i),Ce("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=ee({},i,{value:void 0}),Ce("invalid",e);break;case"textarea":Xa(e,i),l=js(e,i),Ce("invalid",e);break;default:l=i}ws(n,l),j=l;for(o in j)if(j.hasOwnProperty(o)){var S=j[o];o==="style"?ro(e,S):o==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&to(e,S)):o==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&rr(e,S):typeof S=="number"&&rr(e,""+S):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(f.hasOwnProperty(o)?S!=null&&o==="onScroll"&&Ce("scroll",e):S!=null&&K(e,o,S,d))}switch(n){case"input":gt(e),Ga(e,i,!1);break;case"textarea":gt(e),Za(e);break;case"option":i.value!=null&&e.setAttribute("value",""+pe(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?En(e,!!i.multiple,o,!1):i.defaultValue!=null&&En(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=gi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)mu(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(c(166));if(n=xn(_r.current),xn(bt.current),Si(t)){if(i=t.stateNode,n=t.memoizedProps,i[Pt]=t,(o=i.nodeValue!==n)&&(e=it,e!==null))switch(e.tag){case 3:mi(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mi(i.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Pt]=t,t.stateNode=i}return He(t),null;case 13:if(ke(be),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&st!==null&&t.mode&1&&!(t.flags&128))yc(),Un(),t.flags|=98560,o=!1;else if(o=Si(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(c(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[Pt]=t}else Un(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),o=!1}else xt!==null&&(Zl(xt),xt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Ae===0&&(Ae=3):na())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Wn(),Vl(e,t),e===null&&Sr(t.stateNode.containerInfo),He(t),null;case 10:return gl(t.type._context),He(t),null;case 17:return Ge(t.type)&&yi(),He(t),null;case 19:if(ke(be),o=t.memoizedState,o===null)return He(t),null;if(i=(t.flags&128)!==0,d=o.rendering,d===null)if(i)Dr(o,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=Ti(e),d!==null){for(t.flags|=128,Dr(o,!1),i=d.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)o=n,e=i,o.flags&=14680066,d=o.alternate,d===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,e=d.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(be,be.current&1|2),t.child}e=e.sibling}o.tail!==null&&Re()>Yn&&(t.flags|=128,i=!0,Dr(o,!1),t.lanes=4194304)}else{if(!i)if(e=Ti(d),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Dr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ee)return He(t),null}else 2*Re()-o.renderingStartTime>Yn&&n!==1073741824&&(t.flags|=128,i=!0,Dr(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(n=o.last,n!==null?n.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Re(),t.sibling=null,n=be.current,Se(be,i?n&1|2:n&1),t):(He(t),null);case 22:case 23:return ta(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?lt&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(c(156,t.tag))}function Pp(e,t){switch(ul(t),t.tag){case 1:return Ge(t.type)&&yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wn(),ke(Ye),ke(Ve),Sl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nl(t),null;case 13:if(ke(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(be),null;case 4:return Wn(),null;case 10:return gl(t.type._context),null;case 22:case 23:return ta(),null;case 24:return null;default:return null}}var Mi=!1,We=!1,bp=typeof WeakSet=="function"?WeakSet:Set,te=null;function Qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){_e(e,t,i)}else n.current=null}function Bl(e,t,n){try{n()}catch(i){_e(e,t,i)}}var gu=!1;function Tp(e,t){if(tl=ii,e=Ko(),Qs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var d=0,j=-1,S=-1,A=0,V=0,B=e,U=null;t:for(;;){for(var Z;B!==n||l!==0&&B.nodeType!==3||(j=d+l),B!==o||i!==0&&B.nodeType!==3||(S=d+i),B.nodeType===3&&(d+=B.nodeValue.length),(Z=B.firstChild)!==null;)U=B,B=Z;for(;;){if(B===e)break t;if(U===n&&++A===l&&(j=d),U===o&&++V===i&&(S=d),(Z=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=Z}n=j===-1||S===-1?null:{start:j,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(nl={focusedElem:e,selectionRange:n},ii=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var ne=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var ie=ne.memoizedProps,ze=ne.memoizedState,I=t.stateNode,P=I.getSnapshotBeforeUpdate(t.elementType===t.type?ie:jt(t.type,ie),ze);I.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var D=t.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(q){_e(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return ne=gu,gu=!1,ne}function Ar(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Bl(t,n,o)}l=l.next}while(l!==i)}}function Oi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Hl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vu(e){var t=e.alternate;t!==null&&(e.alternate=null,vu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[kr],delete t[ll],delete t[dp],delete t[fp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yu(e){return e.tag===5||e.tag===3||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gi));else if(i!==4&&(e=e.child,e!==null))for(Wl(e,t,n),e=e.sibling;e!==null;)Wl(e,t,n),e=e.sibling}function ql(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ql(e,t,n),e=e.sibling;e!==null;)ql(e,t,n),e=e.sibling}var $e=null,Nt=!1;function tn(e,t,n){for(n=n.child;n!==null;)ju(e,t,n),n=n.sibling}function ju(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Jr,n)}catch{}switch(n.tag){case 5:We||Qn(n,t);case 6:var i=$e,l=Nt;$e=null,tn(e,t,n),$e=i,Nt=l,$e!==null&&(Nt?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Nt?(e=$e,n=n.stateNode,e.nodeType===8?sl(e.parentNode,n):e.nodeType===1&&sl(e,n),hr(e)):sl($e,n.stateNode));break;case 4:i=$e,l=Nt,$e=n.stateNode.containerInfo,Nt=!0,tn(e,t,n),$e=i,Nt=l;break;case 0:case 11:case 14:case 15:if(!We&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var o=l,d=o.destroy;o=o.tag,d!==void 0&&(o&2||o&4)&&Bl(n,t,d),l=l.next}while(l!==i)}tn(e,t,n);break;case 1:if(!We&&(Qn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(j){_e(n,t,j)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(We=(i=We)||n.memoizedState!==null,tn(e,t,n),We=i):tn(e,t,n);break;default:tn(e,t,n)}}function Nu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bp),t.forEach(function(i){var l=Mp.bind(null,e,i);n.has(i)||(n.add(i),i.then(l,l))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];try{var o=e,d=t,j=d;e:for(;j!==null;){switch(j.tag){case 5:$e=j.stateNode,Nt=!1;break e;case 3:$e=j.stateNode.containerInfo,Nt=!0;break e;case 4:$e=j.stateNode.containerInfo,Nt=!0;break e}j=j.return}if($e===null)throw Error(c(160));ju(o,d,l),$e=null,Nt=!1;var S=l.alternate;S!==null&&(S.return=null),l.return=null}catch(A){_e(l,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wu(t,e),t=t.sibling}function wu(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),_t(e),i&4){try{Ar(3,e,e.return),Oi(3,e)}catch(ie){_e(e,e.return,ie)}try{Ar(5,e,e.return)}catch(ie){_e(e,e.return,ie)}}break;case 1:wt(t,e),_t(e),i&512&&n!==null&&Qn(n,n.return);break;case 5:if(wt(t,e),_t(e),i&512&&n!==null&&Qn(n,n.return),e.flags&32){var l=e.stateNode;try{rr(l,"")}catch(ie){_e(e,e.return,ie)}}if(i&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,d=n!==null?n.memoizedProps:o,j=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{j==="input"&&o.type==="radio"&&o.name!=null&&Ya(l,o),Ss(j,d);var A=Ss(j,o);for(d=0;d<S.length;d+=2){var V=S[d],B=S[d+1];V==="style"?ro(l,B):V==="dangerouslySetInnerHTML"?to(l,B):V==="children"?rr(l,B):K(l,V,B,A)}switch(j){case"input":ys(l,o);break;case"textarea":Ja(l,o);break;case"select":var U=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var Z=o.value;Z!=null?En(l,!!o.multiple,Z,!1):U!==!!o.multiple&&(o.defaultValue!=null?En(l,!!o.multiple,o.defaultValue,!0):En(l,!!o.multiple,o.multiple?[]:"",!1))}l[kr]=o}catch(ie){_e(e,e.return,ie)}}break;case 6:if(wt(t,e),_t(e),i&4){if(e.stateNode===null)throw Error(c(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(ie){_e(e,e.return,ie)}}break;case 3:if(wt(t,e),_t(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{hr(t.containerInfo)}catch(ie){_e(e,e.return,ie)}break;case 4:wt(t,e),_t(e);break;case 13:wt(t,e),_t(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Yl=Re())),i&4&&Nu(e);break;case 22:if(V=n!==null&&n.memoizedState!==null,e.mode&1?(We=(A=We)||V,wt(t,e),We=A):wt(t,e),_t(e),i&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!V&&e.mode&1)for(te=e,V=e.child;V!==null;){for(B=te=V;te!==null;){switch(U=te,Z=U.child,U.tag){case 0:case 11:case 14:case 15:Ar(4,U,U.return);break;case 1:Qn(U,U.return);var ne=U.stateNode;if(typeof ne.componentWillUnmount=="function"){i=U,n=U.return;try{t=i,ne.props=t.memoizedProps,ne.state=t.memoizedState,ne.componentWillUnmount()}catch(ie){_e(i,n,ie)}}break;case 5:Qn(U,U.return);break;case 22:if(U.memoizedState!==null){ku(B);continue}}Z!==null?(Z.return=U,te=Z):ku(B)}V=V.sibling}e:for(V=null,B=e;;){if(B.tag===5){if(V===null){V=B;try{l=B.stateNode,A?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(j=B.stateNode,S=B.memoizedProps.style,d=S!=null&&S.hasOwnProperty("display")?S.display:null,j.style.display=no("display",d))}catch(ie){_e(e,e.return,ie)}}}else if(B.tag===6){if(V===null)try{B.stateNode.nodeValue=A?"":B.memoizedProps}catch(ie){_e(e,e.return,ie)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===e)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===e)break e;for(;B.sibling===null;){if(B.return===null||B.return===e)break e;V===B&&(V=null),B=B.return}V===B&&(V=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:wt(t,e),_t(e),i&4&&Nu(e);break;case 21:break;default:wt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yu(n)){var i=n;break e}n=n.return}throw Error(c(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(rr(l,""),i.flags&=-33);var o=xu(e);ql(e,o,l);break;case 3:case 4:var d=i.stateNode.containerInfo,j=xu(e);Wl(e,j,d);break;default:throw Error(c(161))}}catch(S){_e(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _p(e,t,n){te=e,Su(e)}function Su(e,t,n){for(var i=(e.mode&1)!==0;te!==null;){var l=te,o=l.child;if(l.tag===22&&i){var d=l.memoizedState!==null||Mi;if(!d){var j=l.alternate,S=j!==null&&j.memoizedState!==null||We;j=Mi;var A=We;if(Mi=d,(We=S)&&!A)for(te=l;te!==null;)d=te,S=d.child,d.tag===22&&d.memoizedState!==null?Eu(l):S!==null?(S.return=d,te=S):Eu(l);for(;o!==null;)te=o,Su(o),o=o.sibling;te=l,Mi=j,We=A}Cu(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,te=o):Cu(e)}}function Cu(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||Oi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!We)if(n===null)i.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);i.componentDidUpdate(l,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&kc(t,o,i);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kc(t,d,n)}break;case 5:var j=t.stateNode;if(n===null&&t.flags&4){n=j;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var V=A.memoizedState;if(V!==null){var B=V.dehydrated;B!==null&&hr(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}We||t.flags&512&&Hl(t)}catch(U){_e(t,t.return,U)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function ku(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function Eu(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Oi(4,t)}catch(S){_e(t,n,S)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(S){_e(t,l,S)}}var o=t.return;try{Hl(t)}catch(S){_e(t,o,S)}break;case 5:var d=t.return;try{Hl(t)}catch(S){_e(t,d,S)}}}catch(S){_e(t,t.return,S)}if(t===e){te=null;break}var j=t.sibling;if(j!==null){j.return=t.return,te=j;break}te=t.return}}var Rp=Math.ceil,$i=Q.ReactCurrentDispatcher,Ql=Q.ReactCurrentOwner,dt=Q.ReactCurrentBatchConfig,je=0,Me=null,Ie=null,Ue=0,lt=0,Kn=Gt(0),Ae=0,Fr=null,Nn=0,Ui=0,Kl=0,Mr=null,Je=null,Yl=0,Yn=1/0,$t=null,Vi=!1,Gl=null,nn=null,Bi=!1,rn=null,Hi=0,Or=0,Xl=null,Wi=-1,qi=0;function Ke(){return je&6?Re():Wi!==-1?Wi:Wi=Re()}function sn(e){return e.mode&1?je&2&&Ue!==0?Ue&-Ue:hp.transition!==null?(qi===0&&(qi=xo()),qi):(e=we,e!==0||(e=window.event,e=e===void 0?16:bo(e.type)),e):1}function St(e,t,n,i){if(50<Or)throw Or=0,Xl=null,Error(c(185));cr(e,n,i),(!(je&2)||e!==Me)&&(e===Me&&(!(je&2)&&(Ui|=n),Ae===4&&ln(e,Ue)),Ze(e,i),n===1&&je===0&&!(t.mode&1)&&(Yn=Re()+500,ji&&Jt()))}function Ze(e,t){var n=e.callbackNode;hf(e,t);var i=ti(e,e===Me?Ue:0);if(i===0)n!==null&&go(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&go(n),t===1)e.tag===0?pp(bu.bind(null,e)):pc(bu.bind(null,e)),cp(function(){!(je&6)&&Jt()}),n=null;else{switch(jo(i)){case 1:n=_s;break;case 4:n=vo;break;case 16:n=Xr;break;case 536870912:n=yo;break;default:n=Xr}n=Au(n,Pu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Pu(e,t){if(Wi=-1,qi=0,je&6)throw Error(c(327));var n=e.callbackNode;if(Gn()&&e.callbackNode!==n)return null;var i=ti(e,e===Me?Ue:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Qi(e,i);else{t=i;var l=je;je|=2;var o=_u();(Me!==e||Ue!==t)&&($t=null,Yn=Re()+500,Sn(e,t));do try{Lp();break}catch(j){Tu(e,j)}while(!0);ml(),$i.current=o,je=l,Ie!==null?t=0:(Me=null,Ue=0,t=Ae)}if(t!==0){if(t===2&&(l=Rs(e),l!==0&&(i=l,t=Jl(e,l))),t===1)throw n=Fr,Sn(e,0),ln(e,i),Ze(e,Re()),n;if(t===6)ln(e,i);else{if(l=e.current.alternate,!(i&30)&&!zp(l)&&(t=Qi(e,i),t===2&&(o=Rs(e),o!==0&&(i=o,t=Jl(e,o))),t===1))throw n=Fr,Sn(e,0),ln(e,i),Ze(e,Re()),n;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(c(345));case 2:Cn(e,Je,$t);break;case 3:if(ln(e,i),(i&130023424)===i&&(t=Yl+500-Re(),10<t)){if(ti(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){Ke(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=il(Cn.bind(null,e,Je,$t),t);break}Cn(e,Je,$t);break;case 4:if(ln(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var d=31-vt(i);o=1<<d,d=t[d],d>l&&(l=d),i&=~o}if(i=l,i=Re()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Rp(i/1960))-i,10<i){e.timeoutHandle=il(Cn.bind(null,e,Je,$t),i);break}Cn(e,Je,$t);break;case 5:Cn(e,Je,$t);break;default:throw Error(c(329))}}}return Ze(e,Re()),e.callbackNode===n?Pu.bind(null,e):null}function Jl(e,t){var n=Mr;return e.current.memoizedState.isDehydrated&&(Sn(e,t).flags|=256),e=Qi(e,t),e!==2&&(t=Je,Je=n,t!==null&&Zl(t)),e}function Zl(e){Je===null?Je=e:Je.push.apply(Je,e)}function zp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var l=n[i],o=l.getSnapshot;l=l.value;try{if(!yt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~Kl,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),i=1<<n;e[n]=-1,t&=~i}}function bu(e){if(je&6)throw Error(c(327));Gn();var t=ti(e,0);if(!(t&1))return Ze(e,Re()),null;var n=Qi(e,t);if(e.tag!==0&&n===2){var i=Rs(e);i!==0&&(t=i,n=Jl(e,i))}if(n===1)throw n=Fr,Sn(e,0),ln(e,t),Ze(e,Re()),n;if(n===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,Je,$t),Ze(e,Re()),null}function ea(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(Yn=Re()+500,ji&&Jt())}}function wn(e){rn!==null&&rn.tag===0&&!(je&6)&&Gn();var t=je;je|=1;var n=dt.transition,i=we;try{if(dt.transition=null,we=1,e)return e()}finally{we=i,dt.transition=n,je=t,!(je&6)&&Jt()}}function ta(){lt=Kn.current,ke(Kn)}function Sn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,op(n)),Ie!==null)for(n=Ie.return;n!==null;){var i=n;switch(ul(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&yi();break;case 3:Wn(),ke(Ye),ke(Ve),Sl();break;case 5:Nl(i);break;case 4:Wn();break;case 13:ke(be);break;case 19:ke(be);break;case 10:gl(i.type._context);break;case 22:case 23:ta()}n=n.return}if(Me=e,Ie=e=an(e.current,null),Ue=lt=t,Ae=0,Fr=null,Kl=Ui=Nn=0,Je=Mr=null,yn!==null){for(t=0;t<yn.length;t++)if(n=yn[t],i=n.interleaved,i!==null){n.interleaved=null;var l=i.next,o=n.pending;if(o!==null){var d=o.next;o.next=l,i.next=d}n.pending=i}yn=null}return e}function Tu(e,t){do{var n=Ie;try{if(ml(),_i.current=Li,Ri){for(var i=Te.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ri=!1}if(jn=0,Fe=De=Te=null,Rr=!1,zr=0,Ql.current=null,n===null||n.return===null){Ae=1,Fr=t,Ie=null;break}e:{var o=e,d=n.return,j=n,S=t;if(t=Ue,j.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var A=S,V=j,B=V.tag;if(!(V.mode&1)&&(B===0||B===11||B===15)){var U=V.alternate;U?(V.updateQueue=U.updateQueue,V.memoizedState=U.memoizedState,V.lanes=U.lanes):(V.updateQueue=null,V.memoizedState=null)}var Z=eu(d);if(Z!==null){Z.flags&=-257,tu(Z,d,j,o,t),Z.mode&1&&Zc(o,A,t),t=Z,S=A;var ne=t.updateQueue;if(ne===null){var ie=new Set;ie.add(S),t.updateQueue=ie}else ne.add(S);break e}else{if(!(t&1)){Zc(o,A,t),na();break e}S=Error(c(426))}}else if(Ee&&j.mode&1){var ze=eu(d);if(ze!==null){!(ze.flags&65536)&&(ze.flags|=256),tu(ze,d,j,o,t),pl(qn(S,j));break e}}o=S=qn(S,j),Ae!==4&&(Ae=2),Mr===null?Mr=[o]:Mr.push(o),o=d;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var I=Xc(o,S,t);Cc(o,I);break e;case 1:j=S;var P=o.type,D=o.stateNode;if(!(o.flags&128)&&(typeof P.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(nn===null||!nn.has(D)))){o.flags|=65536,t&=-t,o.lanes|=t;var q=Jc(o,j,t);Cc(o,q);break e}}o=o.return}while(o!==null)}zu(n)}catch(ae){t=ae,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function _u(){var e=$i.current;return $i.current=Li,e===null?Li:e}function na(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Me===null||!(Nn&268435455)&&!(Ui&268435455)||ln(Me,Ue)}function Qi(e,t){var n=je;je|=2;var i=_u();(Me!==e||Ue!==t)&&($t=null,Sn(e,t));do try{Ip();break}catch(l){Tu(e,l)}while(!0);if(ml(),je=n,$i.current=i,Ie!==null)throw Error(c(261));return Me=null,Ue=0,Ae}function Ip(){for(;Ie!==null;)Ru(Ie)}function Lp(){for(;Ie!==null&&!sf();)Ru(Ie)}function Ru(e){var t=Du(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?zu(e):Ie=t,Ql.current=null}function zu(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Pp(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Ie=null;return}}else if(n=Ep(n,t,lt),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Ae===0&&(Ae=5)}function Cn(e,t,n){var i=we,l=dt.transition;try{dt.transition=null,we=1,Dp(e,t,n,i)}finally{dt.transition=l,we=i}return null}function Dp(e,t,n,i){do Gn();while(rn!==null);if(je&6)throw Error(c(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(mf(e,o),e===Me&&(Ie=Me=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bi||(Bi=!0,Au(Xr,function(){return Gn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=dt.transition,dt.transition=null;var d=we;we=1;var j=je;je|=4,Ql.current=null,Tp(e,n),wu(n,e),tp(nl),ii=!!tl,nl=tl=null,e.current=n,_p(n),lf(),je=j,we=d,dt.transition=o}else e.current=n;if(Bi&&(Bi=!1,rn=e,Hi=l),o=e.pendingLanes,o===0&&(nn=null),cf(n.stateNode),Ze(e,Re()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],i(l.value,{componentStack:l.stack,digest:l.digest});if(Vi)throw Vi=!1,e=Gl,Gl=null,e;return Hi&1&&e.tag!==0&&Gn(),o=e.pendingLanes,o&1?e===Xl?Or++:(Or=0,Xl=e):Or=0,Jt(),null}function Gn(){if(rn!==null){var e=jo(Hi),t=dt.transition,n=we;try{if(dt.transition=null,we=16>e?16:e,rn===null)var i=!1;else{if(e=rn,rn=null,Hi=0,je&6)throw Error(c(331));var l=je;for(je|=4,te=e.current;te!==null;){var o=te,d=o.child;if(te.flags&16){var j=o.deletions;if(j!==null){for(var S=0;S<j.length;S++){var A=j[S];for(te=A;te!==null;){var V=te;switch(V.tag){case 0:case 11:case 15:Ar(8,V,o)}var B=V.child;if(B!==null)B.return=V,te=B;else for(;te!==null;){V=te;var U=V.sibling,Z=V.return;if(vu(V),V===A){te=null;break}if(U!==null){U.return=Z,te=U;break}te=Z}}}var ne=o.alternate;if(ne!==null){var ie=ne.child;if(ie!==null){ne.child=null;do{var ze=ie.sibling;ie.sibling=null,ie=ze}while(ie!==null)}}te=o}}if(o.subtreeFlags&2064&&d!==null)d.return=o,te=d;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ar(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,te=I;break e}te=o.return}}var P=e.current;for(te=P;te!==null;){d=te;var D=d.child;if(d.subtreeFlags&2064&&D!==null)D.return=d,te=D;else e:for(d=P;te!==null;){if(j=te,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Oi(9,j)}}catch(ae){_e(j,j.return,ae)}if(j===d){te=null;break e}var q=j.sibling;if(q!==null){q.return=j.return,te=q;break e}te=j.return}}if(je=l,Jt(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Jr,e)}catch{}i=!0}return i}finally{we=n,dt.transition=t}}return!1}function Iu(e,t,n){t=qn(n,t),t=Xc(e,t,1),e=en(e,t,1),t=Ke(),e!==null&&(cr(e,1,t),Ze(e,t))}function _e(e,t,n){if(e.tag===3)Iu(e,e,n);else for(;t!==null;){if(t.tag===3){Iu(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(nn===null||!nn.has(i))){e=qn(n,e),e=Jc(t,e,1),t=en(t,e,1),e=Ke(),t!==null&&(cr(t,1,e),Ze(t,e));break}}t=t.return}}function Ap(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Ue&n)===n&&(Ae===4||Ae===3&&(Ue&130023424)===Ue&&500>Re()-Yl?Sn(e,0):Kl|=n),Ze(e,t)}function Lu(e,t){t===0&&(e.mode&1?(t=ei,ei<<=1,!(ei&130023424)&&(ei=4194304)):t=1);var n=Ke();e=Ft(e,t),e!==null&&(cr(e,t,n),Ze(e,n))}function Fp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lu(e,n)}function Mp(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(c(314))}i!==null&&i.delete(t),Lu(e,n)}var Du;Du=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,kp(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,Ee&&t.flags&1048576&&hc(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Fi(e,t),e=t.pendingProps;var l=Mn(t,Ve.current);Hn(t,n),l=El(null,t,i,e,l,n);var o=Pl();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(i)?(o=!0,xi(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,xl(t),l.updater=Di,t.stateNode=l,l._reactInternals=t,Il(t,i,e,n),t=Fl(null,t,i,!0,o,n)):(t.tag=0,Ee&&o&&cl(t),Qe(null,t,l,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Fi(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=$p(i),e=jt(i,e),l){case 0:t=Al(null,t,i,e,n);break e;case 1:t=au(null,t,i,e,n);break e;case 11:t=nu(null,t,i,e,n);break e;case 14:t=ru(null,t,i,jt(i.type,e),n);break e}throw Error(c(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:jt(i,l),Al(e,t,i,l,n);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:jt(i,l),au(e,t,i,l,n);case 3:e:{if(ou(t),e===null)throw Error(c(387));i=t.pendingProps,o=t.memoizedState,l=o.element,Sc(e,t),bi(t,i,null,n);var d=t.memoizedState;if(i=d.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=qn(Error(c(423)),t),t=cu(e,t,i,n,l);break e}else if(i!==l){l=qn(Error(c(424)),t),t=cu(e,t,i,n,l);break e}else for(st=Yt(t.stateNode.containerInfo.firstChild),it=t,Ee=!0,xt=null,n=Nc(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Un(),i===l){t=Ot(e,t,n);break e}Qe(e,t,i,n)}t=t.child}return t;case 5:return Ec(t),e===null&&fl(t),i=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,d=l.children,rl(i,l)?d=null:o!==null&&rl(i,o)&&(t.flags|=32),lu(e,t),Qe(e,t,d,n),t.child;case 6:return e===null&&fl(t),null;case 13:return uu(e,t,n);case 4:return jl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Vn(t,null,i,n):Qe(e,t,i,n),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:jt(i,l),nu(e,t,i,l,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,o=t.memoizedProps,d=l.value,Se(ki,i._currentValue),i._currentValue=d,o!==null)if(yt(o.value,d)){if(o.children===l.children&&!Ye.current){t=Ot(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var j=o.dependencies;if(j!==null){d=o.child;for(var S=j.firstContext;S!==null;){if(S.context===i){if(o.tag===1){S=Mt(-1,n&-n),S.tag=2;var A=o.updateQueue;if(A!==null){A=A.shared;var V=A.pending;V===null?S.next=S:(S.next=V.next,V.next=S),A.pending=S}}o.lanes|=n,S=o.alternate,S!==null&&(S.lanes|=n),vl(o.return,n,t),j.lanes|=n;break}S=S.next}}else if(o.tag===10)d=o.type===t.type?null:o.child;else if(o.tag===18){if(d=o.return,d===null)throw Error(c(341));d.lanes|=n,j=d.alternate,j!==null&&(j.lanes|=n),vl(d,n,t),d=o.sibling}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===t){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}Qe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,Hn(t,n),l=ct(l),i=i(l),t.flags|=1,Qe(e,t,i,n),t.child;case 14:return i=t.type,l=jt(i,t.pendingProps),l=jt(i.type,l),ru(e,t,i,l,n);case 15:return iu(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:jt(i,l),Fi(e,t),t.tag=1,Ge(i)?(e=!0,xi(t)):e=!1,Hn(t,n),Yc(t,i,l),Il(t,i,l,n),Fl(null,t,i,!0,e,n);case 19:return fu(e,t,n);case 22:return su(e,t,n)}throw Error(c(156,t.tag))};function Au(e,t){return mo(e,t)}function Op(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,i){return new Op(e,t,n,i)}function ra(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $p(e){if(typeof e=="function")return ra(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J)return 11;if(e===ve)return 14}return 2}function an(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ki(e,t,n,i,l,o){var d=2;if(i=e,typeof e=="function")ra(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case y:return kn(n.children,l,o,t);case L:d=8,l|=8;break;case T:return e=ft(12,n,t,l|2),e.elementType=T,e.lanes=o,e;case X:return e=ft(13,n,t,l),e.elementType=X,e.lanes=o,e;case se:return e=ft(19,n,t,l),e.elementType=se,e.lanes=o,e;case me:return Yi(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:d=10;break e;case Y:d=9;break e;case J:d=11;break e;case ve:d=14;break e;case xe:d=16,i=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return t=ft(d,n,t,l),t.elementType=e,t.type=i,t.lanes=o,t}function kn(e,t,n,i){return e=ft(7,e,i,t),e.lanes=n,e}function Yi(e,t,n,i){return e=ft(22,e,i,t),e.elementType=me,e.lanes=n,e.stateNode={isHidden:!1},e}function ia(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function sa(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Up(e,t,n,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zs(0),this.expirationTimes=zs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zs(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function la(e,t,n,i,l,o,d,j,S){return e=new Up(e,t,n,j,S),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ft(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xl(o),e}function Vp(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Fu(e){if(!e)return Xt;e=e._reactInternals;e:{if(pn(e)!==e||e.tag!==1)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(c(171))}if(e.tag===1){var n=e.type;if(Ge(n))return dc(e,n,t)}return t}function Mu(e,t,n,i,l,o,d,j,S){return e=la(n,i,!0,e,l,o,d,j,S),e.context=Fu(null),n=e.current,i=Ke(),l=sn(n),o=Mt(i,l),o.callback=t??null,en(n,o,l),e.current.lanes=l,cr(e,l,i),Ze(e,i),e}function Gi(e,t,n,i){var l=t.current,o=Ke(),d=sn(l);return n=Fu(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(o,d),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=en(l,t,d),e!==null&&(St(e,l,d,o),Pi(e,l,d)),d}function Xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ou(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function aa(e,t){Ou(e,t),(e=e.alternate)&&Ou(e,t)}var $u=typeof reportError=="function"?reportError:function(e){console.error(e)};function oa(e){this._internalRoot=e}Ji.prototype.render=oa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));Gi(e,t,null,null)},Ji.prototype.unmount=oa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wn(function(){Gi(null,e,null,null)}),t[It]=null}};function Ji(e){this._internalRoot=e}Ji.prototype.unstable_scheduleHydration=function(e){if(e){var t=So();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&t!==0&&t<qt[n].priority;n++);qt.splice(n,0,e),n===0&&Eo(e)}};function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uu(){}function Bp(e,t,n,i,l){if(l){if(typeof i=="function"){var o=i;i=function(){var A=Xi(d);o.call(A)}}var d=Mu(t,i,e,0,null,!1,!1,"",Uu);return e._reactRootContainer=d,e[It]=d.current,Sr(e.nodeType===8?e.parentNode:e),wn(),d}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var j=i;i=function(){var A=Xi(S);j.call(A)}}var S=la(e,0,!1,null,null,!1,!1,"",Uu);return e._reactRootContainer=S,e[It]=S.current,Sr(e.nodeType===8?e.parentNode:e),wn(function(){Gi(t,S,n,i)}),S}function es(e,t,n,i,l){var o=n._reactRootContainer;if(o){var d=o;if(typeof l=="function"){var j=l;l=function(){var S=Xi(d);j.call(S)}}Gi(t,d,e,l)}else d=Bp(n,t,e,l,i);return Xi(d)}No=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=or(t.pendingLanes);n!==0&&(Is(t,n|1),Ze(t,Re()),!(je&6)&&(Yn=Re()+500,Jt()))}break;case 13:wn(function(){var i=Ft(e,1);if(i!==null){var l=Ke();St(i,e,1,l)}}),aa(e,1)}},Ls=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=Ke();St(t,e,134217728,n)}aa(e,134217728)}},wo=function(e){if(e.tag===13){var t=sn(e),n=Ft(e,t);if(n!==null){var i=Ke();St(n,e,t,i)}aa(e,t)}},So=function(){return we},Co=function(e,t){var n=we;try{return we=e,t()}finally{we=n}},Es=function(e,t,n){switch(t){case"input":if(ys(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=vi(i);if(!l)throw Error(c(90));Qa(i),ys(i,l)}}}break;case"textarea":Ja(e,n);break;case"select":t=n.value,t!=null&&En(e,!!n.multiple,t,!1)}},ao=ea,oo=wn;var Hp={usingClientEntryPoint:!1,Events:[Er,An,vi,so,lo,ea]},$r={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wp={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=po(e),e===null?null:e.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ts.isDisabled&&ts.supportsFiber)try{Jr=ts.inject(Wp),Et=ts}catch{}}return et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hp,et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ca(t))throw Error(c(200));return Vp(e,t,null,n)},et.createRoot=function(e,t){if(!ca(e))throw Error(c(299));var n=!1,i="",l=$u;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=la(e,1,!1,null,null,n,!1,i,l),e[It]=t.current,Sr(e.nodeType===8?e.parentNode:e),new oa(t)},et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=po(t),e=e===null?null:e.stateNode,e},et.flushSync=function(e){return wn(e)},et.hydrate=function(e,t,n){if(!Zi(t))throw Error(c(200));return es(null,e,t,!0,n)},et.hydrateRoot=function(e,t,n){if(!ca(e))throw Error(c(405));var i=n!=null&&n.hydratedSources||null,l=!1,o="",d=$u;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=Mu(t,null,e,1,n??null,l,!1,o,d),e[It]=t.current,Sr(e),i)for(e=0;e<i.length;e++)n=i[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ji(t)},et.render=function(e,t,n){if(!Zi(t))throw Error(c(200));return es(null,e,t,!1,n)},et.unmountComponentAtNode=function(e){if(!Zi(e))throw Error(c(40));return e._reactRootContainer?(wn(function(){es(null,null,e,!1,function(){e._reactRootContainer=null,e[It]=null})}),!0):!1},et.unstable_batchedUpdates=ea,et.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zi(n))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return es(e,t,n,!1,i)},et.version="18.3.1-next-f1338f8080-20240426",et}var Yu;function rh(){if(Yu)return fa.exports;Yu=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),fa.exports=nh(),fa.exports}var Gu;function ih(){if(Gu)return rs;Gu=1;var s=rh();return rs.createRoot=s.createRoot,rs.hydrateRoot=s.hydrateRoot,rs}var sh=ih();const lh=fs(sh);var Vr={},Xu;function ah(){if(Xu)return Vr;Xu=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.parse=m,Vr.serialize=h;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,a=/^[\u0021-\u003A\u003C-\u007E]*$/,c=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,u=/^[\u0020-\u003A\u003D-\u007E]*$/,f=Object.prototype.toString,p=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function m(w,E){const C=new p,k=w.length;if(k<2)return C;const R=(E==null?void 0:E.decode)||b;let z=0;do{const F=w.indexOf("=",z);if(F===-1)break;const K=w.indexOf(";",z),Q=K===-1?k:K;if(F>Q){z=w.lastIndexOf(";",F-1)+1;continue}const W=x(w,z,F),H=g(w,F,W),y=w.slice(W,H);if(C[y]===void 0){let L=x(w,F+1,Q),T=g(w,Q,L);const O=R(w.slice(L,T));C[y]=O}z=Q+1}while(z<k);return C}function x(w,E,C){do{const k=w.charCodeAt(E);if(k!==32&&k!==9)return E}while(++E<C);return C}function g(w,E,C){for(;E>C;){const k=w.charCodeAt(--E);if(k!==32&&k!==9)return E+1}return C}function h(w,E,C){const k=(C==null?void 0:C.encode)||encodeURIComponent;if(!s.test(w))throw new TypeError(`argument name is invalid: ${w}`);const R=k(E);if(!a.test(R))throw new TypeError(`argument val is invalid: ${E}`);let z=w+"="+R;if(!C)return z;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);z+="; Max-Age="+C.maxAge}if(C.domain){if(!c.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);z+="; Domain="+C.domain}if(C.path){if(!u.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);z+="; Path="+C.path}if(C.expires){if(!N(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);z+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(z+="; HttpOnly"),C.secure&&(z+="; Secure"),C.partitioned&&(z+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return z}function b(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function N(w){return f.call(w)==="[object Date]"}return Vr}ah();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ju="popstate";function oh(s={}){function a(u,f){let{pathname:p,search:m,hash:x}=u.location;return Ia("",{pathname:p,search:m,hash:x},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function c(u,f){return typeof f=="string"?f:Hr(f)}return uh(a,c,null,s)}function Pe(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Ct(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function ch(){return Math.random().toString(36).substring(2,10)}function Zu(s,a){return{usr:s.state,key:s.key,idx:a}}function Ia(s,a,c=null,u){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof a=="string"?Jn(a):a,state:c,key:a&&a.key||u||ch()}}function Hr({pathname:s="/",search:a="",hash:c=""}){return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),c&&c!=="#"&&(s+=c.charAt(0)==="#"?c:"#"+c),s}function Jn(s){let a={};if(s){let c=s.indexOf("#");c>=0&&(a.hash=s.substring(c),s=s.substring(0,c));let u=s.indexOf("?");u>=0&&(a.search=s.substring(u),s=s.substring(0,u)),s&&(a.pathname=s)}return a}function uh(s,a,c,u={}){let{window:f=document.defaultView,v5Compat:p=!1}=u,m=f.history,x="POP",g=null,h=b();h==null&&(h=0,m.replaceState({...m.state,idx:h},""));function b(){return(m.state||{idx:null}).idx}function N(){x="POP";let R=b(),z=R==null?null:R-h;h=R,g&&g({action:x,location:k.location,delta:z})}function w(R,z){x="PUSH";let F=Ia(k.location,R,z);h=b()+1;let K=Zu(F,h),Q=k.createHref(F);try{m.pushState(K,"",Q)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;f.location.assign(Q)}p&&g&&g({action:x,location:k.location,delta:1})}function E(R,z){x="REPLACE";let F=Ia(k.location,R,z);h=b();let K=Zu(F,h),Q=k.createHref(F);m.replaceState(K,"",Q),p&&g&&g({action:x,location:k.location,delta:0})}function C(R){let z=f.location.origin!=="null"?f.location.origin:f.location.href,F=typeof R=="string"?R:Hr(R);return F=F.replace(/ $/,"%20"),Pe(z,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,z)}let k={get action(){return x},get location(){return s(f,m)},listen(R){if(g)throw new Error("A history only accepts one active listener");return f.addEventListener(Ju,N),g=R,()=>{f.removeEventListener(Ju,N),g=null}},createHref(R){return a(f,R)},createURL:C,encodeLocation(R){let z=C(R);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:E,go(R){return m.go(R)}};return k}function jd(s,a,c="/"){return dh(s,a,c,!1)}function dh(s,a,c,u){let f=typeof a=="string"?Jn(a):a,p=fn(f.pathname||"/",c);if(p==null)return null;let m=Nd(s);fh(m);let x=null;for(let g=0;x==null&&g<m.length;++g){let h=Sh(p);x=Nh(m[g],h,u)}return x}function Nd(s,a=[],c=[],u=""){let f=(p,m,x)=>{let g={relativePath:x===void 0?p.path||"":x,caseSensitive:p.caseSensitive===!0,childrenIndex:m,route:p};g.relativePath.startsWith("/")&&(Pe(g.relativePath.startsWith(u),`Absolute route path "${g.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(u.length));let h=Ut([u,g.relativePath]),b=c.concat(g);p.children&&p.children.length>0&&(Pe(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Nd(p.children,a,b,h)),!(p.path==null&&!p.index)&&a.push({path:h,score:xh(h,p.index),routesMeta:b})};return s.forEach((p,m)=>{var x;if(p.path===""||!((x=p.path)!=null&&x.includes("?")))f(p,m);else for(let g of wd(p.path))f(p,m,g)}),a}function wd(s){let a=s.split("/");if(a.length===0)return[];let[c,...u]=a,f=c.endsWith("?"),p=c.replace(/\?$/,"");if(u.length===0)return f?[p,""]:[p];let m=wd(u.join("/")),x=[];return x.push(...m.map(g=>g===""?p:[p,g].join("/"))),f&&x.push(...m),x.map(g=>s.startsWith("/")&&g===""?"/":g)}function fh(s){s.sort((a,c)=>a.score!==c.score?c.score-a.score:jh(a.routesMeta.map(u=>u.childrenIndex),c.routesMeta.map(u=>u.childrenIndex)))}var ph=/^:[\w-]+$/,hh=3,mh=2,gh=1,vh=10,yh=-2,ed=s=>s==="*";function xh(s,a){let c=s.split("/"),u=c.length;return c.some(ed)&&(u+=yh),a&&(u+=mh),c.filter(f=>!ed(f)).reduce((f,p)=>f+(ph.test(p)?hh:p===""?gh:vh),u)}function jh(s,a){return s.length===a.length&&s.slice(0,-1).every((u,f)=>u===a[f])?s[s.length-1]-a[a.length-1]:0}function Nh(s,a,c=!1){let{routesMeta:u}=s,f={},p="/",m=[];for(let x=0;x<u.length;++x){let g=u[x],h=x===u.length-1,b=p==="/"?a:a.slice(p.length)||"/",N=us({path:g.relativePath,caseSensitive:g.caseSensitive,end:h},b),w=g.route;if(!N&&h&&c&&!u[u.length-1].route.index&&(N=us({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!N)return null;Object.assign(f,N.params),m.push({params:f,pathname:Ut([p,N.pathname]),pathnameBase:Ph(Ut([p,N.pathnameBase])),route:w}),N.pathnameBase!=="/"&&(p=Ut([p,N.pathnameBase]))}return m}function us(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[c,u]=wh(s.path,s.caseSensitive,s.end),f=a.match(c);if(!f)return null;let p=f[0],m=p.replace(/(.)\/+$/,"$1"),x=f.slice(1);return{params:u.reduce((h,{paramName:b,isOptional:N},w)=>{if(b==="*"){let C=x[w]||"";m=p.slice(0,p.length-C.length).replace(/(.)\/+$/,"$1")}const E=x[w];return N&&!E?h[b]=void 0:h[b]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:p,pathnameBase:m,pattern:s}}function wh(s,a=!1,c=!0){Ct(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let u=[],f="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,x,g)=>(u.push({paramName:x,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(u.push({paramName:"*"}),f+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?f+="\\/*$":s!==""&&s!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,a?void 0:"i"),u]}function Sh(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ct(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),s}}function fn(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let c=a.endsWith("/")?a.length-1:a.length,u=s.charAt(c);return u&&u!=="/"?null:s.slice(c)||"/"}function Ch(s,a="/"){let{pathname:c,search:u="",hash:f=""}=typeof s=="string"?Jn(s):s;return{pathname:c?c.startsWith("/")?c:kh(c,a):a,search:bh(u),hash:Th(f)}}function kh(s,a){let c=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(f=>{f===".."?c.length>1&&c.pop():f!=="."&&c.push(f)}),c.length>1?c.join("/"):"/"}function ma(s,a,c,u){return`Cannot include a '${s}' character in a manually specified \`to.${a}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Eh(s){return s.filter((a,c)=>c===0||a.route.path&&a.route.path.length>0)}function Aa(s){let a=Eh(s);return a.map((c,u)=>u===a.length-1?c.pathname:c.pathnameBase)}function Fa(s,a,c,u=!1){let f;typeof s=="string"?f=Jn(s):(f={...s},Pe(!f.pathname||!f.pathname.includes("?"),ma("?","pathname","search",f)),Pe(!f.pathname||!f.pathname.includes("#"),ma("#","pathname","hash",f)),Pe(!f.search||!f.search.includes("#"),ma("#","search","hash",f)));let p=s===""||f.pathname==="",m=p?"/":f.pathname,x;if(m==null)x=c;else{let N=a.length-1;if(!u&&m.startsWith("..")){let w=m.split("/");for(;w[0]==="..";)w.shift(),N-=1;f.pathname=w.join("/")}x=N>=0?a[N]:"/"}let g=Ch(f,x),h=m&&m!=="/"&&m.endsWith("/"),b=(p||m===".")&&c.endsWith("/");return!g.pathname.endsWith("/")&&(h||b)&&(g.pathname+="/"),g}var Ut=s=>s.join("/").replace(/\/\/+/g,"/"),Ph=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),bh=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Th=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function _h(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Sd=["POST","PUT","PATCH","DELETE"];new Set(Sd);var Rh=["GET",...Sd];new Set(Rh);var Zn=v.createContext(null);Zn.displayName="DataRouter";var ps=v.createContext(null);ps.displayName="DataRouterState";var Cd=v.createContext({isTransitioning:!1});Cd.displayName="ViewTransition";var zh=v.createContext(new Map);zh.displayName="Fetchers";var Ih=v.createContext(null);Ih.displayName="Await";var kt=v.createContext(null);kt.displayName="Navigation";var Wr=v.createContext(null);Wr.displayName="Location";var pt=v.createContext({outlet:null,matches:[],isDataRoute:!1});pt.displayName="Route";var Ma=v.createContext(null);Ma.displayName="RouteError";function Lh(s,{relative:a}={}){Pe(er(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:u}=v.useContext(kt),{hash:f,pathname:p,search:m}=qr(s,{relative:a}),x=p;return c!=="/"&&(x=p==="/"?c:Ut([c,p])),u.createHref({pathname:x,search:m,hash:f})}function er(){return v.useContext(Wr)!=null}function Vt(){return Pe(er(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Wr).location}var kd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ed(s){v.useContext(kt).static||v.useLayoutEffect(s)}function ht(){let{isDataRoute:s}=v.useContext(pt);return s?Yh():Dh()}function Dh(){Pe(er(),"useNavigate() may be used only in the context of a <Router> component.");let s=v.useContext(Zn),{basename:a,navigator:c}=v.useContext(kt),{matches:u}=v.useContext(pt),{pathname:f}=Vt(),p=JSON.stringify(Aa(u)),m=v.useRef(!1);return Ed(()=>{m.current=!0}),v.useCallback((g,h={})=>{if(Ct(m.current,kd),!m.current)return;if(typeof g=="number"){c.go(g);return}let b=Fa(g,JSON.parse(p),f,h.relative==="path");s==null&&a!=="/"&&(b.pathname=b.pathname==="/"?a:Ut([a,b.pathname])),(h.replace?c.replace:c.push)(b,h.state,h)},[a,c,p,f,s])}var Ah=v.createContext(null);function Fh(s){let a=v.useContext(pt).outlet;return a&&v.createElement(Ah.Provider,{value:s},a)}function Oa(){let{matches:s}=v.useContext(pt),a=s[s.length-1];return a?a.params:{}}function qr(s,{relative:a}={}){let{matches:c}=v.useContext(pt),{pathname:u}=Vt(),f=JSON.stringify(Aa(c));return v.useMemo(()=>Fa(s,JSON.parse(f),u,a==="path"),[s,f,u,a])}function Mh(s,a){return Pd(s,a)}function Pd(s,a,c,u){var z;Pe(er(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=v.useContext(kt),{matches:p}=v.useContext(pt),m=p[p.length-1],x=m?m.params:{},g=m?m.pathname:"/",h=m?m.pathnameBase:"/",b=m&&m.route;{let F=b&&b.path||"";bd(g,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let N=Vt(),w;if(a){let F=typeof a=="string"?Jn(a):a;Pe(h==="/"||((z=F.pathname)==null?void 0:z.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${F.pathname}" was given in the \`location\` prop.`),w=F}else w=N;let E=w.pathname||"/",C=E;if(h!=="/"){let F=h.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(F.length).join("/")}let k=jd(s,{pathname:C});Ct(b||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ct(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Bh(k&&k.map(F=>Object.assign({},F,{params:Object.assign({},x,F.params),pathname:Ut([h,f.encodeLocation?f.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?h:Ut([h,f.encodeLocation?f.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),p,c,u);return a&&R?v.createElement(Wr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},R):R}function Oh(){let s=Kh(),a=_h(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),c=s instanceof Error?s.stack:null,u="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:u},p={padding:"2px 4px",backgroundColor:u},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:p},"ErrorBoundary")," or"," ",v.createElement("code",{style:p},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},a),c?v.createElement("pre",{style:f},c):null,m)}var $h=v.createElement(Oh,null),Uh=class extends v.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?v.createElement(pt.Provider,{value:this.props.routeContext},v.createElement(Ma.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vh({routeContext:s,match:a,children:c}){let u=v.useContext(Zn);return u&&u.static&&u.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=a.route.id),v.createElement(pt.Provider,{value:s},c)}function Bh(s,a=[],c=null,u=null){if(s==null){if(!c)return null;if(c.errors)s=c.matches;else if(a.length===0&&!c.initialized&&c.matches.length>0)s=c.matches;else return null}let f=s,p=c==null?void 0:c.errors;if(p!=null){let g=f.findIndex(h=>h.route.id&&(p==null?void 0:p[h.route.id])!==void 0);Pe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),f=f.slice(0,Math.min(f.length,g+1))}let m=!1,x=-1;if(c)for(let g=0;g<f.length;g++){let h=f[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(x=g),h.route.id){let{loaderData:b,errors:N}=c,w=h.route.loader&&!b.hasOwnProperty(h.route.id)&&(!N||N[h.route.id]===void 0);if(h.route.lazy||w){m=!0,x>=0?f=f.slice(0,x+1):f=[f[0]];break}}}return f.reduceRight((g,h,b)=>{let N,w=!1,E=null,C=null;c&&(N=p&&h.route.id?p[h.route.id]:void 0,E=h.route.errorElement||$h,m&&(x<0&&b===0?(bd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):x===b&&(w=!0,C=h.route.hydrateFallbackElement||null)));let k=a.concat(f.slice(0,b+1)),R=()=>{let z;return N?z=E:w?z=C:h.route.Component?z=v.createElement(h.route.Component,null):h.route.element?z=h.route.element:z=g,v.createElement(Vh,{match:h,routeContext:{outlet:g,matches:k,isDataRoute:c!=null},children:z})};return c&&(h.route.ErrorBoundary||h.route.errorElement||b===0)?v.createElement(Uh,{location:c.location,revalidation:c.revalidation,component:E,error:N,children:R(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):R()},null)}function $a(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hh(s){let a=v.useContext(Zn);return Pe(a,$a(s)),a}function Wh(s){let a=v.useContext(ps);return Pe(a,$a(s)),a}function qh(s){let a=v.useContext(pt);return Pe(a,$a(s)),a}function Ua(s){let a=qh(s),c=a.matches[a.matches.length-1];return Pe(c.route.id,`${s} can only be used on routes that contain a unique "id"`),c.route.id}function Qh(){return Ua("useRouteId")}function Kh(){var u;let s=v.useContext(Ma),a=Wh("useRouteError"),c=Ua("useRouteError");return s!==void 0?s:(u=a.errors)==null?void 0:u[c]}function Yh(){let{router:s}=Hh("useNavigate"),a=Ua("useNavigate"),c=v.useRef(!1);return Ed(()=>{c.current=!0}),v.useCallback(async(f,p={})=>{Ct(c.current,kd),c.current&&(typeof f=="number"?s.navigate(f):await s.navigate(f,{fromRouteId:a,...p}))},[s,a])}var td={};function bd(s,a,c){!a&&!td[s]&&(td[s]=!0,Ct(!1,c))}v.memo(Gh);function Gh({routes:s,future:a,state:c}){return Pd(s,void 0,c,a)}function Td({to:s,replace:a,state:c,relative:u}){Pe(er(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=v.useContext(kt);Ct(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:p}=v.useContext(pt),{pathname:m}=Vt(),x=ht(),g=Fa(s,Aa(p),m,u==="path"),h=JSON.stringify(g);return v.useEffect(()=>{x(JSON.parse(h),{replace:a,state:c,relative:u})},[x,h,u,a,c]),null}function Xh(s){return Fh(s.context)}function tt(s){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jh({basename:s="/",children:a=null,location:c,navigationType:u="POP",navigator:f,static:p=!1}){Pe(!er(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),x=v.useMemo(()=>({basename:m,navigator:f,static:p,future:{}}),[m,f,p]);typeof c=="string"&&(c=Jn(c));let{pathname:g="/",search:h="",hash:b="",state:N=null,key:w="default"}=c,E=v.useMemo(()=>{let C=fn(g,m);return C==null?null:{location:{pathname:C,search:h,hash:b,state:N,key:w},navigationType:u}},[m,g,h,b,N,w,u]);return Ct(E!=null,`<Router basename="${m}"> is not able to match the URL "${g}${h}${b}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:v.createElement(kt.Provider,{value:x},v.createElement(Wr.Provider,{children:a,value:E}))}function Zh({children:s,location:a}){return Mh(La(s),a)}function La(s,a=[]){let c=[];return v.Children.forEach(s,(u,f)=>{if(!v.isValidElement(u))return;let p=[...a,f];if(u.type===v.Fragment){c.push.apply(c,La(u.props.children,p));return}Pe(u.type===tt,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!u.props.index||!u.props.children,"An index route cannot have child routes.");let m={id:u.props.id||p.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(m.children=La(u.props.children,p)),c.push(m)}),c}var as="get",os="application/x-www-form-urlencoded";function hs(s){return s!=null&&typeof s.tagName=="string"}function em(s){return hs(s)&&s.tagName.toLowerCase()==="button"}function tm(s){return hs(s)&&s.tagName.toLowerCase()==="form"}function nm(s){return hs(s)&&s.tagName.toLowerCase()==="input"}function rm(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function im(s,a){return s.button===0&&(!a||a==="_self")&&!rm(s)}var is=null;function sm(){if(is===null)try{new FormData(document.createElement("form"),0),is=!1}catch{is=!0}return is}var lm=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ga(s){return s!=null&&!lm.has(s)?(Ct(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${os}"`),null):s}function am(s,a){let c,u,f,p,m;if(tm(s)){let x=s.getAttribute("action");u=x?fn(x,a):null,c=s.getAttribute("method")||as,f=ga(s.getAttribute("enctype"))||os,p=new FormData(s)}else if(em(s)||nm(s)&&(s.type==="submit"||s.type==="image")){let x=s.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||x.getAttribute("action");if(u=g?fn(g,a):null,c=s.getAttribute("formmethod")||x.getAttribute("method")||as,f=ga(s.getAttribute("formenctype"))||ga(x.getAttribute("enctype"))||os,p=new FormData(x,s),!sm()){let{name:h,type:b,value:N}=s;if(b==="image"){let w=h?`${h}.`:"";p.append(`${w}x`,"0"),p.append(`${w}y`,"0")}else h&&p.append(h,N)}}else{if(hs(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=as,u=null,f=os,m=s}return p&&f==="text/plain"&&(m=p,p=void 0),{action:u,method:c.toLowerCase(),encType:f,formData:p,body:m}}function Va(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}async function om(s,a){if(s.id in a)return a[s.id];try{let c=await import(s.module);return a[s.id]=c,c}catch(c){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cm(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function um(s,a,c){let u=await Promise.all(s.map(async f=>{let p=a.routes[f.route.id];if(p){let m=await om(p,c);return m.links?m.links():[]}return[]}));return hm(u.flat(1).filter(cm).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function nd(s,a,c,u,f,p){let m=(g,h)=>c[h]?g.route.id!==c[h].route.id:!0,x=(g,h)=>{var b;return c[h].pathname!==g.pathname||((b=c[h].route.path)==null?void 0:b.endsWith("*"))&&c[h].params["*"]!==g.params["*"]};return p==="assets"?a.filter((g,h)=>m(g,h)||x(g,h)):p==="data"?a.filter((g,h)=>{var N;let b=u.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(m(g,h)||x(g,h))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:((N=c[0])==null?void 0:N.params)||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function dm(s,a){return fm(s.map(c=>{let u=a.routes[c.route.id];if(!u)return[];let f=[u.module];return u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function fm(s){return[...new Set(s)]}function pm(s){let a={},c=Object.keys(s).sort();for(let u of c)a[u]=s[u];return a}function hm(s,a){let c=new Set;return new Set(a),s.reduce((u,f)=>{let p=JSON.stringify(pm(f));return c.has(p)||(c.add(p),u.push({key:p,link:f})),u},[])}function mm(s){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname="_root.data":a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function gm(){let s=v.useContext(Zn);return Va(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function vm(){let s=v.useContext(ps);return Va(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Ba=v.createContext(void 0);Ba.displayName="FrameworkContext";function _d(){let s=v.useContext(Ba);return Va(s,"You must render this element inside a <HydratedRouter> element"),s}function ym(s,a){let c=v.useContext(Ba),[u,f]=v.useState(!1),[p,m]=v.useState(!1),{onFocus:x,onBlur:g,onMouseEnter:h,onMouseLeave:b,onTouchStart:N}=a,w=v.useRef(null);v.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let k=z=>{z.forEach(F=>{m(F.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[s]),v.useEffect(()=>{if(u){let k=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(k)}}},[u]);let E=()=>{f(!0)},C=()=>{f(!1),m(!1)};return c?s!=="intent"?[p,w,{}]:[p,w,{onFocus:Br(x,E),onBlur:Br(g,C),onMouseEnter:Br(h,E),onMouseLeave:Br(b,C),onTouchStart:Br(N,E)}]:[!1,w,{}]}function Br(s,a){return c=>{s&&s(c),c.defaultPrevented||a(c)}}function xm({page:s,...a}){let{router:c}=gm(),u=v.useMemo(()=>jd(c.routes,s,c.basename),[c.routes,s,c.basename]);return u?v.createElement(Nm,{page:s,matches:u,...a}):null}function jm(s){let{manifest:a,routeModules:c}=_d(),[u,f]=v.useState([]);return v.useEffect(()=>{let p=!1;return um(s,a,c).then(m=>{p||f(m)}),()=>{p=!0}},[s,a,c]),u}function Nm({page:s,matches:a,...c}){let u=Vt(),{manifest:f,routeModules:p}=_d(),{loaderData:m,matches:x}=vm(),g=v.useMemo(()=>nd(s,a,x,f,u,"data"),[s,a,x,f,u]),h=v.useMemo(()=>nd(s,a,x,f,u,"assets"),[s,a,x,f,u]),b=v.useMemo(()=>{if(s===u.pathname+u.search+u.hash)return[];let E=new Set,C=!1;if(a.forEach(R=>{var F;let z=f.routes[R.route.id];!z||!z.hasLoader||(!g.some(K=>K.route.id===R.route.id)&&R.route.id in m&&((F=p[R.route.id])!=null&&F.shouldRevalidate)||z.hasClientLoader?C=!0:E.add(R.route.id))}),E.size===0)return[];let k=mm(s);return C&&E.size>0&&k.searchParams.set("_routes",a.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[k.pathname+k.search]},[m,u,f,g,a,s,p]),N=v.useMemo(()=>dm(h,f),[h,f]),w=jm(h);return v.createElement(v.Fragment,null,b.map(E=>v.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...c})),N.map(E=>v.createElement("link",{key:E,rel:"modulepreload",href:E,...c})),w.map(({key:E,link:C})=>v.createElement("link",{key:E,...C})))}function wm(...s){return a=>{s.forEach(c=>{typeof c=="function"?c(a):c!=null&&(c.current=a)})}}var Rd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rd&&(window.__reactRouterVersion="7.1.3")}catch{}function Sm({basename:s,children:a,window:c}){let u=v.useRef();u.current==null&&(u.current=oh({window:c,v5Compat:!0}));let f=u.current,[p,m]=v.useState({action:f.action,location:f.location}),x=v.useCallback(g=>{v.startTransition(()=>m(g))},[m]);return v.useLayoutEffect(()=>f.listen(x),[f,x]),v.createElement(Jh,{basename:s,children:a,location:p.location,navigationType:p.action,navigator:f})}var zd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=v.forwardRef(function({onClick:a,discover:c="render",prefetch:u="none",relative:f,reloadDocument:p,replace:m,state:x,target:g,to:h,preventScrollReset:b,viewTransition:N,...w},E){let{basename:C}=v.useContext(kt),k=typeof h=="string"&&zd.test(h),R,z=!1;if(typeof h=="string"&&k&&(R=h,Rd))try{let T=new URL(window.location.href),O=h.startsWith("//")?new URL(T.protocol+h):new URL(h),Y=fn(O.pathname,C);O.origin===T.origin&&Y!=null?h=Y+O.search+O.hash:z=!0}catch{Ct(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=Lh(h,{relative:f}),[K,Q,W]=ym(u,w),H=Em(h,{replace:m,state:x,target:g,preventScrollReset:b,relative:f,viewTransition:N});function y(T){a&&a(T),T.defaultPrevented||H(T)}let L=v.createElement("a",{...w,...W,href:R||F,onClick:z||p?a:y,ref:wm(E,Q),target:g,"data-discover":!k&&c==="render"?"true":void 0});return K&&!k?v.createElement(v.Fragment,null,L,v.createElement(xm,{page:F})):L});qe.displayName="Link";var Id=v.forwardRef(function({"aria-current":a="page",caseSensitive:c=!1,className:u="",end:f=!1,style:p,to:m,viewTransition:x,children:g,...h},b){let N=qr(m,{relative:h.relative}),w=Vt(),E=v.useContext(ps),{navigator:C,basename:k}=v.useContext(kt),R=E!=null&&Rm(N)&&x===!0,z=C.encodeLocation?C.encodeLocation(N).pathname:N.pathname,F=w.pathname,K=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;c||(F=F.toLowerCase(),K=K?K.toLowerCase():null,z=z.toLowerCase()),K&&k&&(K=fn(K,k)||K);const Q=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let W=F===z||!f&&F.startsWith(z)&&F.charAt(Q)==="/",H=K!=null&&(K===z||!f&&K.startsWith(z)&&K.charAt(z.length)==="/"),y={isActive:W,isPending:H,isTransitioning:R},L=W?a:void 0,T;typeof u=="function"?T=u(y):T=[u,W?"active":null,H?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let O=typeof p=="function"?p(y):p;return v.createElement(qe,{...h,"aria-current":L,className:T,ref:b,style:O,to:m,viewTransition:x},typeof g=="function"?g(y):g)});Id.displayName="NavLink";var Cm=v.forwardRef(({discover:s="render",fetcherKey:a,navigate:c,reloadDocument:u,replace:f,state:p,method:m=as,action:x,onSubmit:g,relative:h,preventScrollReset:b,viewTransition:N,...w},E)=>{let C=Tm(),k=_m(x,{relative:h}),R=m.toLowerCase()==="get"?"get":"post",z=typeof x=="string"&&zd.test(x),F=K=>{if(g&&g(K),K.defaultPrevented)return;K.preventDefault();let Q=K.nativeEvent.submitter,W=(Q==null?void 0:Q.getAttribute("formmethod"))||m;C(Q||K.currentTarget,{fetcherKey:a,method:W,navigate:c,replace:f,state:p,relative:h,preventScrollReset:b,viewTransition:N})};return v.createElement("form",{ref:E,method:R,action:k,onSubmit:u?g:F,...w,"data-discover":!z&&s==="render"?"true":void 0})});Cm.displayName="Form";function km(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ld(s){let a=v.useContext(Zn);return Pe(a,km(s)),a}function Em(s,{target:a,replace:c,state:u,preventScrollReset:f,relative:p,viewTransition:m}={}){let x=ht(),g=Vt(),h=qr(s,{relative:p});return v.useCallback(b=>{if(im(b,a)){b.preventDefault();let N=c!==void 0?c:Hr(g)===Hr(h);x(s,{replace:N,state:u,preventScrollReset:f,relative:p,viewTransition:m})}},[g,x,h,c,u,a,s,f,p,m])}var Pm=0,bm=()=>`__${String(++Pm)}__`;function Tm(){let{router:s}=Ld("useSubmit"),{basename:a}=v.useContext(kt),c=Qh();return v.useCallback(async(u,f={})=>{let{action:p,method:m,encType:x,formData:g,body:h}=am(u,a);if(f.navigate===!1){let b=f.fetcherKey||bm();await s.fetch(b,c,f.action||p,{preventScrollReset:f.preventScrollReset,formData:g,body:h,formMethod:f.method||m,formEncType:f.encType||x,flushSync:f.flushSync})}else await s.navigate(f.action||p,{preventScrollReset:f.preventScrollReset,formData:g,body:h,formMethod:f.method||m,formEncType:f.encType||x,replace:f.replace,state:f.state,fromRouteId:c,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,a,c])}function _m(s,{relative:a}={}){let{basename:c}=v.useContext(kt),u=v.useContext(pt);Pe(u,"useFormAction must be used inside a RouteContext");let[f]=u.matches.slice(-1),p={...qr(s||".",{relative:a})},m=Vt();if(s==null){p.search=m.search;let x=new URLSearchParams(p.search),g=x.getAll("index");if(g.some(b=>b==="")){x.delete("index"),g.filter(N=>N).forEach(N=>x.append("index",N));let b=x.toString();p.search=b?`?${b}`:""}}return(!s||s===".")&&f.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(p.pathname=p.pathname==="/"?c:Ut([c,p.pathname])),Hr(p)}function Rm(s,a={}){let c=v.useContext(Cd);Pe(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=Ld("useViewTransitionState"),f=qr(s,{relative:a.relative});if(!c.isTransitioning)return!1;let p=fn(c.currentLocation.pathname,u)||c.currentLocation.pathname,m=fn(c.nextLocation.pathname,u)||c.nextLocation.pathname;return us(f.pathname,m)!=null||us(f.pathname,p)!=null}new TextEncoder;const zm=()=>{const[s,a]=v.useState({users:0,locations:0,reservations:0,revenue:0}),[c,u]=v.useState([]);v.useEffect(()=>{a({users:1234,locations:89,reservations:456,revenue:125430}),u([{id:1,type:"reservation",message:"Nuova prenotazione per Villa Paradiso",time:"5 minuti fa"},{id:2,type:"user",message:"Nuovo utente registrato: Mario Rossi",time:"15 minuti fa"},{id:3,type:"location",message:"Location aggiornata: Casa del Mare",time:"1 ora fa"},{id:4,type:"payment",message:"Pagamento ricevuto: €450",time:"2 ore fa"}])},[]);const f=[{title:"Aggiungi Location",link:"/location/create",icon:"➕",color:"primary"},{title:"Nuova Prenotazione",link:"/reservations",icon:"📅",color:"success"},{title:"Gestisci Utenti",link:"/users",icon:"👥",color:"info"},{title:"Importa Dati",link:"/scraping",icon:"🔄",color:"warning"}],p=m=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(m);return r.jsxs("div",{className:"dashboard-container",children:[r.jsxs("div",{className:"dashboard-header",children:[r.jsx("h1",{className:"dashboard-title",children:"Dashboard"}),r.jsx("p",{className:"dashboard-subtitle",children:"Benvenuto nel pannello di amministrazione LocaTrova"})]}),r.jsxs("div",{className:"stats-grid",children:[r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon users-icon",children:"👥"}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:s.users.toLocaleString("it-IT")}),r.jsx("p",{className:"stat-label",children:"Utenti Totali"})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon locations-icon",children:"📍"}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:s.locations}),r.jsx("p",{className:"stat-label",children:"Location Attive"})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon reservations-icon",children:"📅"}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:s.reservations}),r.jsx("p",{className:"stat-label",children:"Prenotazioni"})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon revenue-icon",children:"💰"}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:p(s.revenue)}),r.jsx("p",{className:"stat-label",children:"Entrate Totali"})]})]})]}),r.jsxs("section",{className:"dashboard-section",children:[r.jsx("h2",{className:"section-title",children:"Azioni Rapide"}),r.jsx("div",{className:"quick-actions-grid",children:f.map(m=>r.jsxs(qe,{to:m.link,className:`quick-action-card ${m.color}`,children:[r.jsx("span",{className:"quick-action-icon","aria-hidden":"true",children:m.icon}),r.jsx("span",{className:"quick-action-title",children:m.title})]},m.title))})]}),r.jsxs("section",{className:"dashboard-section",children:[r.jsx("h2",{className:"section-title",children:"Attività Recente"}),r.jsx("div",{className:"activity-list",children:c.map(m=>r.jsxs("div",{className:"activity-item",children:[r.jsxs("div",{className:`activity-icon ${m.type}`,children:[m.type==="reservation"&&"📅",m.type==="user"&&"👤",m.type==="location"&&"📍",m.type==="payment"&&"💳"]}),r.jsxs("div",{className:"activity-content",children:[r.jsx("p",{className:"activity-message",children:m.message}),r.jsx("p",{className:"activity-time",children:m.time})]})]},m.id))})]}),r.jsxs("section",{className:"dashboard-section",children:[r.jsx("h2",{className:"section-title",children:"Stato del Sistema"}),r.jsxs("div",{className:"system-status",children:[r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-indicator success"}),r.jsx("span",{className:"status-label",children:"Database: Operativo"})]}),r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-indicator success"}),r.jsx("span",{className:"status-label",children:"API: Operativo"})]}),r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-indicator warning"}),r.jsx("span",{className:"status-label",children:"Backup: Ultimo backup 2 ore fa"})]})]})]})]})},va="access_token",ya="refresh_token";class Im{constructor(){Xn(this,"accessToken",null);Xn(this,"refreshToken",null);this.accessToken=localStorage.getItem(va),this.refreshToken=localStorage.getItem(ya)}setTokens(a){this.accessToken=a.accessToken,this.refreshToken=a.refreshToken,localStorage.setItem(va,a.accessToken),localStorage.setItem(ya,a.refreshToken)}getAccessToken(){return this.accessToken}getRefreshToken(){return this.refreshToken}clearTokens(){this.accessToken=null,this.refreshToken=null,localStorage.removeItem(va),localStorage.removeItem(ya)}isAuthenticated(){return!!this.accessToken&&!this.isTokenExpired(this.accessToken)}getCurrentUser(){if(!this.accessToken)return null;try{const a=JSON.parse(atob(this.accessToken.split(".")[1]));return{userId:a.userId,email:a.email,username:a.username}}catch{return null}}isTokenExpired(a){try{return JSON.parse(atob(a.split(".")[1])).exp*1e3<Date.now()}catch{return!0}}}const cn=new Im;var Rt={exports:{}};const Lm={},Dm=Object.freeze(Object.defineProperty({__proto__:null,default:Lm},Symbol.toStringTag,{value:"Module"})),ss=Yp(Dm),Am="dotenv",Fm="16.6.0",Mm="Loads environment variables from .env file",Om="lib/main.js",$m="lib/main.d.ts",Um={".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},Vm={"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},Bm={type:"git",url:"git://github.com/motdotla/dotenv.git"},Hm="https://github.com/motdotla/dotenv#readme",Wm="https://dotenvx.com",qm=["dotenv","env",".env","environment","variables","config","settings"],Qm="README.md",Km="BSD-2-Clause",Ym={"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},Gm={node:">=12"},Xm={fs:!1},Jm={name:Am,version:Fm,description:Mm,main:Om,types:$m,exports:Um,scripts:Vm,repository:Bm,homepage:Hm,funding:Wm,keywords:qm,readmeFilename:Qm,license:Km,devDependencies:Ym,engines:Gm,browser:Xm};var rd;function Zm(){if(rd)return Rt.exports;rd=1;var s={};const a=ss,c=ss,u=ss,f=ss,m=Jm.version,x=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function g(y){const L={};let T=y.toString();T=T.replace(/\r\n?/mg,`
`);let O;for(;(O=x.exec(T))!=null;){const Y=O[1];let J=O[2]||"";J=J.trim();const X=J[0];J=J.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),X==='"'&&(J=J.replace(/\\n/g,`
`),J=J.replace(/\\r/g,"\r")),L[Y]=J}return L}function h(y){const L=k(y);y.path=L;const T=H.configDotenv(y);if(!T.parsed){const X=new Error(`MISSING_DATA: Cannot parse ${L} for an unknown reason`);throw X.code="MISSING_DATA",X}const O=E(y).split(","),Y=O.length;let J;for(let X=0;X<Y;X++)try{const se=O[X].trim(),ve=C(T,se);J=H.decrypt(ve.ciphertext,ve.key);break}catch(se){if(X+1>=Y)throw se}return H.parse(J)}function b(y){console.log(`[dotenv@${m}][WARN] ${y}`)}function N(y){console.log(`[dotenv@${m}][DEBUG] ${y}`)}function w(y){console.log(`[dotenv@${m}] ${y}`)}function E(y){return y&&y.DOTENV_KEY&&y.DOTENV_KEY.length>0?y.DOTENV_KEY:s.DOTENV_KEY&&s.DOTENV_KEY.length>0?s.DOTENV_KEY:""}function C(y,L){let T;try{T=new URL(L)}catch(se){if(se.code==="ERR_INVALID_URL"){const ve=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw ve.code="INVALID_DOTENV_KEY",ve}throw se}const O=T.password;if(!O){const se=new Error("INVALID_DOTENV_KEY: Missing key part");throw se.code="INVALID_DOTENV_KEY",se}const Y=T.searchParams.get("environment");if(!Y){const se=new Error("INVALID_DOTENV_KEY: Missing environment part");throw se.code="INVALID_DOTENV_KEY",se}const J=`DOTENV_VAULT_${Y.toUpperCase()}`,X=y.parsed[J];if(!X){const se=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${J} in your .env.vault file.`);throw se.code="NOT_FOUND_DOTENV_ENVIRONMENT",se}return{ciphertext:X,key:O}}function k(y){let L=null;if(y&&y.path&&y.path.length>0)if(Array.isArray(y.path))for(const T of y.path)a.existsSync(T)&&(L=T.endsWith(".vault")?T:`${T}.vault`);else L=y.path.endsWith(".vault")?y.path:`${y.path}.vault`;else L=c.resolve(process.cwd(),".env.vault");return a.existsSync(L)?L:null}function R(y){return y[0]==="~"?c.join(u.homedir(),y.slice(1)):y}function z(y){const L=!!(y&&y.debug),T=!!(y&&y.quiet);(L||!T)&&w("Loading env from encrypted .env.vault");const O=H._parseVault(y);let Y=s;return y&&y.processEnv!=null&&(Y=y.processEnv),H.populate(Y,O,y),{parsed:O}}function F(y){const L=c.resolve(process.cwd(),".env");let T="utf8";const O=!!(y&&y.debug),Y=!!(y&&y.quiet);y&&y.encoding?T=y.encoding:O&&N("No encoding is specified. UTF-8 is used by default");let J=[L];if(y&&y.path)if(!Array.isArray(y.path))J=[R(y.path)];else{J=[];for(const xe of y.path)J.push(R(xe))}let X;const se={};for(const xe of J)try{const me=H.parse(a.readFileSync(xe,{encoding:T}));H.populate(se,me,y)}catch(me){O&&N(`Failed to load ${xe} ${me.message}`),X=me}let ve=s;if(y&&y.processEnv!=null&&(ve=y.processEnv),H.populate(ve,se,y),O||!Y){const xe=Object.keys(se).length,me=[];for(const G of J)try{const oe=c.relative(process.cwd(),G);me.push(oe)}catch{}w(`injecting env (${xe}) from ${me.join(",")}`)}return X?{parsed:se,error:X}:{parsed:se}}function K(y){if(E(y).length===0)return H.configDotenv(y);const L=k(y);return L?H._configVault(y):(b(`You set DOTENV_KEY but you are missing a .env.vault file at ${L}. Did you forget to build it?`),H.configDotenv(y))}function Q(y,L){const T=Buffer.from(L.slice(-64),"hex");let O=Buffer.from(y,"base64");const Y=O.subarray(0,12),J=O.subarray(-16);O=O.subarray(12,-16);try{const X=f.createDecipheriv("aes-256-gcm",T,Y);return X.setAuthTag(J),`${X.update(O)}${X.final()}`}catch(X){const se=X instanceof RangeError,ve=X.message==="Invalid key length",xe=X.message==="Unsupported state or unable to authenticate data";if(se||ve){const me=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw me.code="INVALID_DOTENV_KEY",me}else if(xe){const me=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw me.code="DECRYPTION_FAILED",me}else throw X}}function W(y,L,T={}){const O=!!(T&&T.debug),Y=!!(T&&T.override);if(typeof L!="object"){const J=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw J.code="OBJECT_REQUIRED",J}for(const J of Object.keys(L))Object.prototype.hasOwnProperty.call(y,J)?(Y===!0&&(y[J]=L[J]),O&&N(Y===!0?`"${J}" is already defined and WAS overwritten`:`"${J}" is already defined and was NOT overwritten`)):y[J]=L[J]}const H={configDotenv:F,_configVault:z,_parseVault:h,config:K,decrypt:Q,parse:g,populate:W};return Rt.exports.configDotenv=H.configDotenv,Rt.exports._configVault=H._configVault,Rt.exports._parseVault=H._parseVault,Rt.exports.config=H.config,Rt.exports.decrypt=H.decrypt,Rt.exports.parse=H.parse,Rt.exports.populate=H.populate,Rt.exports=H,Rt.exports}var eg=Zm();const tg=fs(eg);var ng={};tg.config();const cs=`${ng.VITE_API_URL}api`;if(!cs)throw new Error("VITE_API_URL is not defined");class rg{async request(a,c="GET",u,f={requiresAuth:!0}){const p={"Content-Type":"application/json",...f.customHeaders};if(u instanceof FormData&&delete p["Content-Type"],f.requiresAuth){const g=cn.getAccessToken();if(!g)throw new Error("No access token available");p.Authorization=`Bearer ${g}`}const m={method:c,headers:p,body:u instanceof FormData?u:u?JSON.stringify(u):void 0},x=await fetch(`${cs}${a}`,m);if(x.status===401&&!a.includes("/login")){if(f.requiresAuth&&await this.refreshToken()){p.Authorization=`Bearer ${cn.getAccessToken()}`;const h=await fetch(`${cs}${a}`,{...m,headers:p});return this.handleResponse(h)}throw cn.clearTokens(),window.dispatchEvent(new CustomEvent("auth",{detail:{event:"unauthenticated"}})),new Error("Session expired")}return this.handleResponse(x)}async handleResponse(a){const c=await a.json();if(!a.ok)throw new Error(c.error||"API request failed");return c}async refreshToken(){const a=cn.getRefreshToken();if(!a)return!1;try{const c=await fetch(`${cs}/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:a})});if(!c.ok)return!1;const u=await c.json();return u.success&&u.data.accessToken?(cn.setTokens({accessToken:u.data.accessToken,refreshToken:cn.getRefreshToken()}),!0):!1}catch{return!1}}async login(a,c){const u=await this.request("/auth/login","POST",{email:a,password:c},{requiresAuth:!1});return u.success&&u.data.tokens&&(cn.setTokens(u.data.tokens),window.dispatchEvent(new CustomEvent("auth",{detail:{event:"login"}}))),u}async logout(){await this.request("/auth/logout","POST"),cn.clearTokens(),window.dispatchEvent(new CustomEvent("auth",{detail:{event:"logout"}}))}}const ms=new rg;class zt extends Error{constructor(c,u,f,p){super(c);Xn(this,"code");Xn(this,"statusCode");Xn(this,"details");this.name="ApiError",this.code=u,this.statusCode=f,this.details=p}}class dn extends zt{constructor(a,c){super(a,"VALIDATION_ERROR",400,c),this.name="ValidationError"}}class ig extends zt{constructor(a="Network error occurred"){super(a,"NETWORK_ERROR",0),this.name="NetworkError"}}class sg extends zt{constructor(a="Authentication failed"){super(a,"AUTHENTICATION_ERROR",401),this.name="AuthenticationError"}}class lg extends zt{constructor(a="Access denied"){super(a,"AUTHORIZATION_ERROR",403),this.name="AuthorizationError"}}class ag extends zt{constructor(a="Resource not found"){super(a,"NOT_FOUND_ERROR",404),this.name="NotFoundError"}}class og extends zt{constructor(a="Internal server error"){super(a,"SERVER_ERROR",500),this.name="ServerError"}}class Dd extends zt{constructor(a="Request timeout"){super(a,"TIMEOUT_ERROR",408),this.name="TimeoutError"}}function cg(s,a="An error occurred"){if(s instanceof zt)return s;if(s instanceof Error){const c=s.message.toLowerCase();return c.includes("network")||c.includes("fetch")?new ig("Network connection error. Please check your internet connection."):c.includes("401")||c.includes("unauthorized")?new sg("Session expired. Please log in again."):c.includes("403")||c.includes("forbidden")?new lg("You do not have permission to perform this action."):c.includes("404")||c.includes("not found")?new ag("The requested resource was not found."):c.includes("400")||c.includes("bad request")?new dn("Invalid request. Please check your input."):c.includes("500")||c.includes("internal server")?new og("Server error. Please try again later."):c.includes("timeout")?new Dd("Request timed out. Please try again."):new zt(s.message,"UNKNOWN_ERROR")}return new zt(a,"UNKNOWN_ERROR")}function Ad(s,a="API call"){const c=cg(s,`${a} failed`);throw console.error(`[${a}] ${c.name}:`,{message:c.message,code:c.code,statusCode:c.statusCode,details:c.details}),c}function ds(s){const{field:a,value:c,required:u,minLength:f,maxLength:p,min:m,max:x,pattern:g,custom:h,message:b}=s;if(u&&(c==null||c===""))throw new dn(b||`${a} is required`);if(!(!u&&(c==null||c===""))){if(typeof c=="string"){if(f!==void 0&&c.length<f)throw new dn(b||`${a} must be at least ${f} characters long`);if(p!==void 0&&c.length>p)throw new dn(b||`${a} must be no more than ${p} characters long`);if(g&&!g.test(c))throw new dn(b||`${a} format is invalid`)}if(typeof c=="number"){if(m!==void 0&&c<m)throw new dn(b||`${a} must be at least ${m}`);if(x!==void 0&&c>x)throw new dn(b||`${a} must be no more than ${x}`)}if(h&&!h(c))throw new dn(b||`${a} is invalid`)}}function mt(s,a="ID"){return ds({field:a,value:s,required:!0,minLength:1,pattern:/^[a-fA-F0-9]{24}$/,message:`${a} must be a valid MongoDB ObjectId`}),s.trim()}function ug(s){return ds({field:"Email",value:s,required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Email format is invalid"}),s.trim().toLowerCase()}function Ha(s,a){const c=s||1,u=a||10;return ds({field:"Page",value:c,min:1,message:"Page must be a positive number"}),ds({field:"Limit",value:u,min:1,max:100,message:"Limit must be between 1 and 100"}),{page:c,limit:u}}function dg(s){return s.trim().replace(/[<>]/g,"").replace(/\s+/g," ")}function fg(s){const a={};return Object.entries(s).forEach(([c,u])=>{u!=null&&u!==""&&(typeof u=="string"&&u.trim()?a[c]=dg(u):(typeof u=="number"||typeof u=="boolean")&&(a[c]=u.toString()))}),a}function Fd(s){const a=fg(s);return new URLSearchParams(a).toString()}const pg=async(s,a)=>{const c=ug(s);if(!a||a.trim().length===0)throw new Error("Password is required");return ms.login(c,a.trim())},hg=async()=>{await ms.logout()},Wa=async()=>(await ms.request("/auth/check-auth","GET")).data,mg=async()=>{try{const s=await Wa();return s&&s.isAuthenticated&&s.user?s.user:null}catch(s){return console.error("Failed to authenticate user:",s),null}},gg=()=>{const[s,a]=v.useState({email:"",password:""}),[c,u]=v.useState(null),[f,p]=v.useState(!0),[m,x]=v.useState(!1),[g,h]=v.useState(!1),b=ht();v.useEffect(()=>{(async()=>{try{(await Wa()).isAuthenticated&&b("/",{replace:!0})}catch(C){console.error("Auth check error:",C)}finally{p(!1)}})()},[b]);const N=v.useCallback(async E=>{E.preventDefault(),u(null),x(!0);try{await pg(s.email.trim(),s.password),b("/",{replace:!0})}catch(C){console.error("Login Error: ",C),u("Email o password errati")}finally{x(!1)}},[s.email,s.password,b]),w=v.useCallback(E=>{const{name:C,value:k}=E.target;a(R=>({...R,[C]:k})),c&&u(null)},[c]);return f?r.jsx("div",{className:"login-container",children:r.jsxs("div",{className:"loading-spinner",role:"status","aria-label":"Verifica autenticazione",children:[r.jsx("span",{className:"spinner"}),r.jsx("span",{className:"sr-only",children:"Caricamento..."})]})}):r.jsx("div",{className:"login-container",children:r.jsxs("div",{className:"login-card",children:[r.jsxs("div",{className:"login-header",children:[r.jsx("h1",{className:"login-title",children:"LocaTrova Admin"}),r.jsx("p",{className:"login-subtitle",children:"Accedi al portale di amministrazione"})]}),r.jsxs("form",{onSubmit:N,className:"login-form",noValidate:!0,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),r.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:w,className:"form-input",placeholder:"nome@esempio.com","aria-label":"Indirizzo email","aria-describedby":c?"login-error":void 0,disabled:m,required:!0,autoComplete:"email",autoFocus:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),r.jsxs("div",{className:"password-input-wrapper",children:[r.jsx("input",{type:g?"text":"password",id:"password",name:"password",value:s.password,onChange:w,className:"form-input password-input",placeholder:"Inserisci password","aria-label":"Password","aria-describedby":c?"login-error":void 0,disabled:m,required:!0,autoComplete:"current-password"}),r.jsx("button",{type:"button",className:"password-toggle",onClick:()=>h(E=>!E),"aria-label":g?"Nascondi password":"Mostra password",disabled:m,children:g?r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),r.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c&&r.jsxs("div",{className:"error-message",id:"login-error",role:"alert","aria-live":"polite",children:[r.jsxs("svg",{className:"error-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]}),c]}),r.jsx("button",{type:"submit",className:"login-button",disabled:m||!s.email.trim()||!s.password,"aria-busy":m,children:m?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),r.jsx("span",{children:"Accesso in corso..."})]}):"Accedi"})]})]})})},vg={timeout:1e4,retries:3,retryDelay:1e3};async function yg(s,a=3,c=1e3){let u=new Error("Unknown error");for(let f=1;f<=a;f++)try{return await s()}catch(p){if(u=p,p instanceof Error&&/4\d\d/.test(p.message))throw p;if(f===a)break;const m=c*Math.pow(2,f-1)+Math.random()*1e3;await new Promise(x=>setTimeout(x,m))}throw Ad(u,`Operation failed after ${a} attempts`)}async function xg(s,a=1e4){const c=new Promise((u,f)=>{setTimeout(()=>{f(new Dd(`Operation timed out after ${a}ms`))},a)});return Promise.race([s(),c])}async function gs(s,a="GET",c,u={}){const f={...vg,...u};try{return await xg(()=>yg(async()=>(await ms.request(s,a,c)).data,f.retries,f.retryDelay),f.timeout)}catch(p){throw Ad(p,`${a} ${s}`)}}const nt=(s,a)=>gs(s,"GET",void 0,a),tr=(s,a,c)=>gs(s,"POST",a,c),Md=(s,a)=>gs(s,"DELETE",void 0,a);async function qa(s,a={},c){const u=new URLSearchParams(Object.entries(a).reduce((p,[m,x])=>(x!=null&&x!==""&&(p[m]=String(x)),p),{})).toString(),f=u?`${s}?${u}`:s;return nt(f,c)}async function jg(s,a,c){const u={timeout:6e4,retries:1,...c};return gs(s,"POST",a,u)}const Ng=async s=>{const a=mt(s,"User ID"),c=Fd({userId:a});return nt(`/users/user?${c}`)},wg=async s=>(mt(s.id,"User ID"),tr("/users/update",s)),Od=async s=>{const{page:a,limit:c}=Ha(s.page,s.limit),u={...s,page:a,limit:c};return qa("/users/filteredUsers",u)},Sg=async s=>{const a=Array.from(s);return a.forEach(c=>mt(c,"User ID")),tr("/users/saveChanges",{usersId:a})},Cg=async s=>{const a=mt(s,"User ID");return Md(`/users/delete/${a}`)};async function kg(s){const a=Fd({search:s});return nt(`/users/searchUsers?${a}`)}const Eg=()=>{const[s,a]=v.useState([]),[c,u]=v.useState(0),[f,p]=v.useState(!1),[m,x]=v.useState(new Set),[g,h]=v.useState(new Map),[b,N]=v.useState(!1),w=ht(),[E,C]=v.useState({username:"",email:"",phone:"",active:"",page:1,limit:10}),k=v.useMemo(()=>({username:E.username,email:E.email,phone:E.phone,active:E.active,page:E.page,limit:E.limit}),[E.username,E.email,E.phone,E.active,E.page,E.limit]),R=v.useCallback(async()=>{p(!0);try{const y=await Od(k);a(y.users||[]),u(y.total||0)}catch(y){console.error("Error fetching users:",y),a([]),u(0),alert("Errore nel caricamento degli utenti")}finally{p(!1)}},[k]);v.useEffect(()=>{R()},[R]),v.useEffect(()=>{const y=new Map;if(s.length!==0)for(const L of s)y.set(L._id,L.active);h(y)},[s]);const z=async()=>{N(!0);try{await Sg(m),x(new Set),R();const y=document.createElement("div");y.className="toast success",y.textContent="Modifiche salvate con successo!",document.body.appendChild(y),setTimeout(()=>y.remove(),3e3)}catch(y){console.error("Error saving changes:",y),alert("Errore nel salvare le modifiche. Riprova.")}finally{N(!1)}},F=y=>{C(L=>({...L,page:y}))},K=y=>{const L=new Map(g),T=new Set(m);L.set(y,!L.get(y)),T.has(y)?T.delete(y):T.add(y),x(T),h(L)},Q=async(y,L)=>{if(window.confirm(`Sei sicuro di voler eliminare l'utente ${L}?`)){p(!0);try{if((await Cg(y)).success){R();const O=document.createElement("div");O.className="toast success",O.textContent="Utente eliminato con successo!",document.body.appendChild(O),setTimeout(()=>O.remove(),3e3)}}catch(T){console.error("Error deleting user:",T),alert("Errore nell'eliminazione dell'utente")}finally{p(!1)}}},W=()=>{C({username:"",email:"",phone:"",active:"",page:1,limit:10})},H=Math.ceil(c/(E.limit||10));return r.jsxs("div",{className:"users-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"page-title",children:"Gestione Utenti"}),r.jsx("p",{className:"page-subtitle",children:"Visualizza e gestisci gli utenti della piattaforma"})]}),r.jsxs("button",{className:"button button-primary",onClick:()=>w("/user/create"),"aria-label":"Crea nuovo utente",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})}),"Nuovo Utente"]})]}),r.jsxs("div",{className:"filters-card",children:[r.jsxs("div",{className:"filters-header",children:[r.jsx("h2",{className:"filters-title",children:"Filtri di ricerca"}),r.jsx("button",{className:"clear-filters-btn",onClick:W,"aria-label":"Pulisci filtri",children:"Pulisci filtri"})]}),r.jsxs("div",{className:"search-filters",children:[r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"username-filter",className:"filter-label",children:"Nome utente"}),r.jsx("input",{id:"username-filter",className:"filter-input",type:"text",placeholder:"Cerca per nome...",value:E.username,onChange:y=>C({...E,username:y.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"email-filter",className:"filter-label",children:"Email"}),r.jsx("input",{id:"email-filter",className:"filter-input",type:"text",placeholder:"Cerca per email...",value:E.email,onChange:y=>C({...E,email:y.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"phone-filter",className:"filter-label",children:"Telefono"}),r.jsx("input",{id:"phone-filter",className:"filter-input",type:"text",placeholder:"Cerca per telefono...",value:E.phone,onChange:y=>C({...E,phone:y.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"status-filter",className:"filter-label",children:"Stato"}),r.jsxs("select",{id:"status-filter",className:"filter-select",value:E.active,onChange:y=>C({...E,active:y.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutti gli stati"}),r.jsx("option",{value:"true",children:"Attivi"}),r.jsx("option",{value:"false",children:"Inattivi"})]})]})]})]}),f?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento utenti..."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"table-card",children:[r.jsxs("div",{className:"table-header",children:[r.jsxs("p",{className:"results-count",children:[c," utenti trovati",m.size>0&&r.jsxs("span",{className:"changes-count",children:[" • ",m.size," modifiche non salvate"]})]}),r.jsx("div",{className:"table-actions",children:r.jsxs("select",{className:"limit-select",value:E.limit,onChange:y=>C({...E,limit:Number(y.target.value),page:1}),"aria-label":"Risultati per pagina",children:[r.jsx("option",{value:"10",children:"10 per pagina"}),r.jsx("option",{value:"25",children:"25 per pagina"}),r.jsx("option",{value:"50",children:"50 per pagina"})]})})]}),s.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsxs("svg",{className:"empty-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),r.jsx("h3",{className:"empty-title",children:"Nessun utente trovato"}),r.jsx("p",{className:"empty-text",children:"Prova a modificare i filtri di ricerca"})]}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"users-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"th-actions",children:"Azioni"}),r.jsx("th",{children:"Nome e Cognome"}),r.jsx("th",{children:"Email"}),r.jsx("th",{children:"Telefono"}),r.jsx("th",{className:"th-status",children:"Stato"})]})}),r.jsx("tbody",{children:s.map(y=>r.jsxs("tr",{className:m.has(y._id)?"row-modified":"",children:[r.jsx("td",{className:"td-actions",children:r.jsx("button",{onClick:()=>Q(y._id,`${y.name} ${y.surname}`),className:"action-button delete-button","aria-label":`Elimina ${y.name} ${y.surname}`,title:"Elimina utente",children:r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),r.jsx("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})}),r.jsx("td",{onClick:()=>w(`/users/${y._id}`),className:"clickable-cell",children:r.jsxs("div",{className:"user-name-cell",children:[r.jsx("span",{className:"user-avatar",children:y.name.charAt(0).toUpperCase()}),r.jsxs("span",{className:"user-name",children:[y.name," ",y.surname]})]})}),r.jsx("td",{className:"email-cell",children:y.email}),r.jsx("td",{children:y.phone||"-"}),r.jsx("td",{children:r.jsxs("label",{className:"status-toggle",children:[r.jsx("input",{type:"checkbox",checked:g.get(y._id),onChange:()=>K(y._id),"aria-label":`Stato attivo per ${y.name} ${y.surname}`}),r.jsx("span",{className:"status-slider"}),r.jsx("span",{className:"status-label",children:g.get(y._id)?"Attivo":"Inattivo"})]})})]},y._id))})]})})]}),m.size>0&&r.jsxs("div",{className:"changes-panel",children:[r.jsxs("div",{className:"changes-header",children:[r.jsx("h3",{className:"changes-title",children:"Modifiche non salvate"}),r.jsx("button",{className:"close-button",onClick:()=>x(new Set),"aria-label":"Annulla modifiche",children:"×"})]}),r.jsx("div",{className:"changed-users",children:Array.from(m).map(y=>{const L=s.find(T=>T._id===y);return r.jsxs("div",{className:"changed-user-item",children:[r.jsxs("span",{className:"changed-user-name",children:[L==null?void 0:L.name," ",L==null?void 0:L.surname]}),r.jsxs("span",{className:"changed-user-status",children:["→ ",g.get(y)?"Attivo":"Inattivo"]})]},y)})}),r.jsxs("div",{className:"changes-actions",children:[r.jsx("button",{className:"button button-secondary",onClick:()=>{x(new Set),R()},children:"Annulla"}),r.jsx("button",{className:"button button-primary",onClick:z,disabled:b,children:b?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]}),H>1&&r.jsxs("div",{className:"pagination",children:[r.jsxs("button",{className:"pagination-button",disabled:E.page===1,onClick:()=>F((E.page||1)-1),"aria-label":"Pagina precedente",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Precedente"]}),r.jsxs("div",{className:"pagination-info",children:[r.jsxs("span",{className:"page-numbers",children:["Pagina ",E.page," di ",H]}),r.jsx("div",{className:"page-dots",children:[...Array(Math.min(H,5))].map((y,L)=>{let T;return H<=5||E.page<=3?T=L+1:E.page>=H-2?T=H-4+L:T=E.page-2+L,r.jsx("button",{className:`page-dot ${T===E.page?"active":""}`,onClick:()=>F(T),"aria-label":`Vai a pagina ${T}`,children:T},L)})})]}),r.jsxs("button",{className:"pagination-button",disabled:(E.page||1)>=H,onClick:()=>F((E.page||1)+1),"aria-label":"Pagina successiva",children:["Successiva",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})})]})]})]})]})},Pg=()=>{const{userId:s}=Oa(),[a,c]=v.useState(null),[u,f]=v.useState(null),[p,m]=v.useState(!0),[x,g]=v.useState(!1),h=ht();v.useEffect(()=>{(async()=>{if(!s){h("/users");return}try{const z=await Ng(s);if(!z){h("/users");return}const F={...z};c(F),f(F)}catch(z){console.error("Error fetching user details:",z),h("/users")}finally{m(!1)}})()},[s,h]);const b=v.useMemo(()=>!a||!u?!1:["name","surname","email","phone","active","verified"].some(z=>a[z]!==u[z]),[a,u]),N=(R,z)=>{u&&f({...u,[R]:z})},w=async R=>{if(R.preventDefault(),!(!u||!b)){g(!0);try{await wg({...u,id:s}),c(u);const z=document.createElement("div");z.className="toast success",z.textContent="Utente aggiornato con successo!",document.body.appendChild(z),setTimeout(()=>z.remove(),3e3)}catch(z){console.error("Error updating user:",z);const F=document.createElement("div");F.className="toast error",F.textContent="Errore durante l'aggiornamento",document.body.appendChild(F),setTimeout(()=>F.remove(),3e3)}finally{g(!1)}}},E=()=>{a&&f(a)},C=R=>new Date(R).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),k=(R,z)=>`${R.charAt(0)}${z.charAt(0)}`.toUpperCase();return p?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento dettagli utente..."})]}):u?r.jsxs("div",{className:"user-detail-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsxs("nav",{className:"breadcrumb",children:[r.jsx(qe,{to:"/",children:"Home"}),r.jsx("span",{className:"breadcrumb-separator",children:"/"}),r.jsx(qe,{to:"/users",children:"Utenti"}),r.jsx("span",{className:"breadcrumb-separator",children:"/"}),r.jsxs("span",{children:[u.name," ",u.surname]})]}),r.jsx("h1",{className:"page-title",children:"Dettagli Utente"}),r.jsxs("p",{className:"page-subtitle",children:["ID: ",s]})]}),r.jsx("div",{className:"header-actions",children:r.jsxs("button",{className:"button button-secondary",onClick:()=>h("/users"),children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Indietro"]})})]}),r.jsxs("form",{onSubmit:w,className:"user-form",children:[r.jsx("div",{className:"profile-section",children:r.jsxs("div",{className:"profile-header",children:[r.jsx("div",{className:"profile-avatar",children:k(u.name,u.surname)}),r.jsxs("div",{className:"profile-info",children:[r.jsxs("h2",{className:"profile-name",children:[u.name," ",u.surname]}),r.jsx("p",{className:"profile-email",children:u.email}),r.jsxs("div",{className:"profile-badges",children:[r.jsx("span",{className:`badge ${u.active?"badge-success":"badge-error"}`,children:u.active?"Attivo":"Inattivo"}),u.verified&&r.jsxs("span",{className:"badge badge-info",children:[r.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M7 0a7 7 0 110 14A7 7 0 017 0zM10.28 5.28a.75.75 0 00-1.06-1.06L6.25 7.19 4.78 5.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l3.5-3.5z"})}),"Verificato"]})]})]})]})}),r.jsxs("div",{className:"form-grid",children:[r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"})}),"Informazioni Personali"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",children:"Nome"}),r.jsx("input",{id:"name",type:"text",value:u.name,onChange:R=>N("name",R.target.value),placeholder:"Nome",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"surname",children:"Cognome"}),r.jsx("input",{id:"surname",type:"text",value:u.surname,onChange:R=>N("surname",R.target.value),placeholder:"Cognome",required:!0})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"email",children:"Email"}),r.jsx("input",{id:"email",type:"email",value:u.email,onChange:R=>N("email",R.target.value),placeholder:"email@esempio.com",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:"Telefono"}),r.jsx("input",{id:"phone",type:"tel",value:u.phone||"",onChange:R=>N("phone",R.target.value),placeholder:"+39 123 456 7890"})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z"})}),"Stato Account"]}),r.jsxs("div",{className:"status-section",children:[r.jsxs("div",{className:"status-item",children:[r.jsxs("div",{className:"status-info",children:[r.jsx("label",{htmlFor:"active-toggle",children:"Stato Attivo"}),r.jsx("span",{className:"status-description",children:"L'utente può accedere al sistema"})]}),r.jsxs("label",{className:"status-toggle",children:[r.jsx("input",{id:"active-toggle",type:"checkbox",checked:u.active,onChange:R=>N("active",R.target.checked)}),r.jsx("span",{className:"status-slider"})]})]}),r.jsxs("div",{className:"status-item",children:[r.jsxs("div",{className:"status-info",children:[r.jsx("label",{htmlFor:"verified-toggle",children:"Email Verificata"}),r.jsx("span",{className:"status-description",children:"L'email dell'utente è stata confermata"})]}),r.jsxs("label",{className:"status-toggle",children:[r.jsx("input",{id:"verified-toggle",type:"checkbox",checked:u.verified||!1,onChange:R=>N("verified",R.target.checked)}),r.jsx("span",{className:"status-slider"})]})]})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"})}),"Informazioni Sistema"]}),r.jsxs("div",{className:"info-grid",children:[r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"ID Utente"}),r.jsx("span",{className:"info-value",children:u._id})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Data Creazione"}),r.jsx("span",{className:"info-value",children:u.createdAt?C(u.createdAt):"N/A"})]}),u.lastLogin&&r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Ultimo Accesso"}),r.jsx("span",{className:"info-value",children:C(u.lastLogin)})]})]})]})]}),b&&r.jsxs("div",{className:"form-actions-sticky",children:[r.jsxs("div",{className:"changes-indicator",children:[r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]}),"Hai modifiche non salvate"]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"button button-secondary",onClick:E,children:"Annulla modifiche"}),r.jsx("button",{type:"submit",className:"button button-primary",disabled:x,children:x?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]})]})]}):r.jsxs("div",{className:"error-container",children:[r.jsxs("svg",{className:"error-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),r.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),r.jsx("h2",{className:"error-title",children:"Utente non trovato"}),r.jsx(qe,{to:"/users",className:"button button-primary",children:"Torna agli utenti"})]})},bg=async s=>{const{page:a,limit:c}=Ha(s.page,s.limit),u={...s,page:a,limit:c};return qa("/locations/filteredLocations",u)},Tg=async s=>{if(!Array.isArray(s)||s.length===0)throw new Error("No changes to save");return s.forEach(a=>{if(!a.id)throw new Error("Missing ID in change object");mt(a.id,"Location ID")}),tr("/locations/saveChanges",s)},_g=async s=>{const a=mt(s,"Location ID");return Md(`/locations/delete/${a}`)},Rg=async s=>{const a=mt(s,"Location ID");return nt(`/locations/location?locationId=${a}`)},zg=async s=>(mt(s.id,"Location ID"),tr("/locations/update",s));async function Ig(s,a){if(!s)throw new Error("Dati location mancanti");return(a||(()=>{}))(10),s instanceof FormData?jg("/locations/create",s,{timeout:6e4,retries:1}):tr("/locations/create",s)}async function Lg(s){if(!s||s.trim().length<2)throw new Error("Search term must be at least 2 characters");return nt(`/locations/searchLocations?search=${encodeURIComponent(s.trim())}`)}const Dg=()=>{const s=ht();return r.jsxs("div",{className:"error-container",children:[r.jsx("h1",{children:"Errore"}),r.jsx("p",{children:"Si è verificato un errore nel caricamento delle locations."}),r.jsxs("div",{className:"error-actions",children:[r.jsx("button",{onClick:()=>s("/"),children:"Torna alla Home"}),r.jsx("button",{onClick:()=>window.location.reload(),children:"Riprova"})]})]})},Ag=()=>{const[s,a]=v.useState([]),[c,u]=v.useState(0),[f,p]=v.useState(!1),[m,x]=v.useState(new Set),[g,h]=v.useState([]),[b,N]=v.useState(!1),w=ht(),[E,C]=v.useState(!1),[k,R]=v.useState({name:"",owner:"",city:"",active:"",stripeId:"",fee:"",special:"",verified:"",page:1,limit:10}),z=v.useMemo(()=>({name:k.name,owner:k.owner,city:k.city,active:k.active,stripeId:k.stripeId,fee:k.fee,special:k.special,verified:k.verified,page:k.page,limit:k.limit}),[k.name,k.owner,k.city,k.active,k.stripeId,k.fee,k.special,k.verified,k.page,k.limit]),F=v.useCallback(async()=>{p(!0),x(new Set),h([]);try{const T=await bg(z);a(T.locations||[]),u(T.total||0),C(!1)}catch(T){console.error("Error fetching locations:",T),a([]),u(0),C(!0)}finally{p(!1)}},[z]);v.useEffect(()=>{F()},[F]),v.useEffect(()=>{s&&Array.isArray(s)&&(h([...s]),x(new Set))},[s]);const K=async()=>{N(!0);try{const T=g.filter(Y=>m.has(Y._id)).map(({ownerId:Y,ownerName:J,ownerSurname:X,_id:se,...ve})=>({...ve,id:se}));await Tg(T),x(new Set),F();const O=document.createElement("div");O.className="toast success",O.textContent="Modifiche salvate con successo!",document.body.appendChild(O),setTimeout(()=>O.remove(),3e3)}catch(T){console.error("Error saving changes:",T),alert("Errore nel salvare le modifiche. Riprova.")}finally{N(!1)}},Q=T=>{R(O=>({...O,page:T}))},W=(T,O,Y)=>{h(X=>X.map(se=>se._id===T?{...se,[O]:Y}:se));const J=s.find(X=>X._id===T);if(J){const X={...J,[O]:Y},se=J.special!==X.special||J.fee!==X.fee||J.active!==X.active;x(ve=>{const xe=new Set(ve);return se?xe.add(T):xe.delete(T),xe})}},H=async(T,O)=>{if(window.confirm(`Sei sicuro di voler eliminare la location ${O}?`)){p(!0);try{await _g(T),F();const Y=document.createElement("div");Y.className="toast success",Y.textContent="Location eliminata con successo!",document.body.appendChild(Y),setTimeout(()=>Y.remove(),3e3)}catch(Y){console.error("Error deleting location:",Y),alert("Errore nell'eliminazione della location")}finally{p(!1)}}},y=()=>{R({name:"",owner:"",city:"",active:"",stripeId:"",fee:"",special:"",verified:"",page:1,limit:10})},L=Math.ceil(c/(k.limit||10));return r.jsxs("div",{className:"locations-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"page-title",children:"Gestione Location"}),r.jsx("p",{className:"page-subtitle",children:"Visualizza e gestisci le location della piattaforma"})]}),r.jsxs("button",{className:"button button-primary",onClick:()=>w("/location/create"),"aria-label":"Crea nuova location",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})}),"Nuova Location"]})]}),r.jsxs("div",{className:"filters-card",children:[r.jsxs("div",{className:"filters-header",children:[r.jsx("h2",{className:"filters-title",children:"Filtri di ricerca"}),r.jsx("button",{className:"clear-filters-btn",onClick:y,"aria-label":"Pulisci filtri",children:"Pulisci filtri"})]}),r.jsxs("div",{className:"search-filters",children:[r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"name-filter",className:"filter-label",children:"Nome location"}),r.jsx("input",{id:"name-filter",className:"filter-input",type:"text",placeholder:"Cerca per nome...",value:k.name,onChange:T=>R({...k,name:T.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"owner-filter",className:"filter-label",children:"Proprietario"}),r.jsx("input",{id:"owner-filter",className:"filter-input",type:"text",placeholder:"Nome proprietario...",value:k.owner,onChange:T=>R({...k,owner:T.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"city-filter",className:"filter-label",children:"Città"}),r.jsx("input",{id:"city-filter",className:"filter-input",type:"text",placeholder:"Cerca città...",value:k.city,onChange:T=>R({...k,city:T.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"stripe-filter",className:"filter-label",children:"Stripe ID"}),r.jsx("input",{id:"stripe-filter",className:"filter-input",type:"text",placeholder:"ID Stripe...",value:k.stripeId,onChange:T=>R({...k,stripeId:T.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"fee-filter",className:"filter-label",children:"Commissione"}),r.jsxs("select",{id:"fee-filter",className:"filter-select",value:k.fee,onChange:T=>R({...k,fee:T.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutte"}),r.jsx("option",{value:"10",children:"10%"}),r.jsx("option",{value:"15",children:"15%"}),r.jsx("option",{value:"20",children:"20%"}),r.jsx("option",{value:"25",children:"25%"}),r.jsx("option",{value:"30",children:"30%"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"type-filter",className:"filter-label",children:"Tipo"}),r.jsxs("select",{id:"type-filter",className:"filter-select",value:k.special,onChange:T=>R({...k,special:T.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutti i tipi"}),r.jsx("option",{value:"true",children:"Speciali"}),r.jsx("option",{value:"false",children:"Normali"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"active-filter",className:"filter-label",children:"Stato"}),r.jsxs("select",{id:"active-filter",className:"filter-select",value:k.active,onChange:T=>R({...k,active:T.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutti"}),r.jsx("option",{value:"true",children:"Attive"}),r.jsx("option",{value:"false",children:"Inattive"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"verified-filter",className:"filter-label",children:"Verifica"}),r.jsxs("select",{id:"verified-filter",className:"filter-select",value:k.verified,onChange:T=>R({...k,verified:T.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutte"}),r.jsx("option",{value:"true",children:"Verificate"}),r.jsx("option",{value:"false",children:"Non Verificate"})]})]})]})]}),f?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento location..."})]}):E?r.jsx(Dg,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"table-card",children:[r.jsxs("div",{className:"table-header",children:[r.jsxs("p",{className:"results-count",children:[c," location trovate",m.size>0&&r.jsxs("span",{className:"changes-count",children:[" • ",m.size," modifiche non salvate"]})]}),r.jsx("div",{className:"table-actions",children:r.jsxs("select",{className:"limit-select",value:k.limit,onChange:T=>R({...k,limit:Number(T.target.value),page:1}),"aria-label":"Risultati per pagina",children:[r.jsx("option",{value:"10",children:"10 per pagina"}),r.jsx("option",{value:"25",children:"25 per pagina"}),r.jsx("option",{value:"50",children:"50 per pagina"})]})})]}),g.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsxs("svg",{className:"empty-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),r.jsx("h3",{className:"empty-title",children:"Nessuna location trovata"}),r.jsx("p",{className:"empty-text",children:"Prova a modificare i filtri di ricerca"})]}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"locations-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"th-actions",children:"Azioni"}),r.jsx("th",{children:"Nome"}),r.jsx("th",{children:"Proprietario"}),r.jsx("th",{children:"Città"}),r.jsx("th",{children:"Stripe ID"}),r.jsx("th",{className:"th-checkbox",children:"Speciale"}),r.jsx("th",{className:"th-fee",children:"Commissione"}),r.jsx("th",{className:"th-checkbox",children:"Attiva"})]})}),r.jsx("tbody",{children:g.map(T=>r.jsxs("tr",{className:m.has(T._id)?"row-modified":"",children:[r.jsx("td",{className:"td-actions",children:r.jsx("button",{onClick:()=>H(T._id,T.name),className:"action-button delete-button","aria-label":`Elimina ${T.name}`,title:"Elimina location",children:r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),r.jsx("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})}),r.jsx("td",{className:"clickable-cell location-name",onClick:()=>w(`/locations/${T._id}`),children:r.jsxs("div",{className:"location-name-wrapper",children:[r.jsx("svg",{className:"location-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})}),T.name]})}),r.jsxs("td",{className:"clickable-cell owner-name",onClick:()=>w(`/users/${T.ownerId}`),children:[T.ownerName," ",T.ownerSurname]}),r.jsx("td",{children:T.city}),r.jsx("td",{className:"stripe-id",children:T.stripeId||"-"}),r.jsx("td",{className:"td-checkbox",children:r.jsxs("label",{className:"checkbox-wrapper",children:[r.jsx("input",{type:"checkbox",checked:T.special,onChange:O=>W(T._id,"special",O.target.checked),"aria-label":`Location speciale per ${T.name}`}),r.jsx("span",{className:"checkbox-custom"})]})}),r.jsx("td",{className:"td-fee",children:r.jsxs("div",{className:"fee-input-wrapper",children:[r.jsx("input",{type:"number",min:"10",max:"30",value:T.fee,step:"5",className:"fee-input",onChange:O=>W(T._id,"fee",parseInt(O.target.value)||10),"aria-label":`Commissione per ${T.name}`}),r.jsx("span",{className:"fee-suffix",children:"%"})]})}),r.jsx("td",{className:"td-checkbox",children:r.jsxs("label",{className:"status-toggle",children:[r.jsx("input",{type:"checkbox",checked:T.active,onChange:O=>W(T._id,"active",O.target.checked),"aria-label":`Stato attivo per ${T.name}`}),r.jsx("span",{className:"status-slider"})]})})]},T._id))})]})})]}),m.size>0&&r.jsxs("div",{className:"changes-panel",children:[r.jsxs("div",{className:"changes-header",children:[r.jsx("h3",{className:"changes-title",children:"Modifiche non salvate"}),r.jsx("button",{className:"close-button",onClick:()=>{x(new Set),h([...s])},"aria-label":"Annulla modifiche",children:"×"})]}),r.jsx("div",{className:"changed-locations",children:Array.from(m).map(T=>{const O=g.find(J=>J._id===T),Y=s.find(J=>J._id===T);return r.jsxs("div",{className:"changed-location-item",children:[r.jsx("span",{className:"changed-location-name",children:O==null?void 0:O.name}),r.jsx("div",{className:"changed-details",children:Y&&O&&r.jsxs(r.Fragment,{children:[Y.special!==O.special&&r.jsxs("span",{className:"change-badge",children:["Speciale: ",O.special?"Sì":"No"]}),Y.fee!==O.fee&&r.jsxs("span",{className:"change-badge",children:["Commissione: ",O.fee,"%"]}),Y.active!==O.active&&r.jsx("span",{className:"change-badge",children:O.active?"Attiva":"Inattiva"})]})})]},T)})}),r.jsxs("div",{className:"changes-actions",children:[r.jsx("button",{className:"button button-secondary",onClick:()=>{x(new Set),h([...s])},children:"Annulla"}),r.jsx("button",{className:"button button-primary",onClick:K,disabled:b,children:b?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]}),L>1&&r.jsxs("div",{className:"pagination",children:[r.jsxs("button",{className:"pagination-button",disabled:k.page===1,onClick:()=>Q((k.page||1)-1),"aria-label":"Pagina precedente",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Precedente"]}),r.jsxs("div",{className:"pagination-info",children:[r.jsxs("span",{className:"page-numbers",children:["Pagina ",k.page," di ",L]}),r.jsx("div",{className:"page-dots",children:[...Array(Math.min(L,5))].map((T,O)=>{let Y;return L<=5||k.page<=3?Y=O+1:k.page>=L-2?Y=L-4+O:Y=k.page-2+O,r.jsx("button",{className:`page-dot ${Y===k.page?"active":""}`,onClick:()=>Q(Y),"aria-label":`Vai a pagina ${Y}`,children:Y},O)})})]}),r.jsxs("button",{className:"pagination-button",disabled:(k.page||1)>=L,onClick:()=>Q((k.page||1)+1),"aria-label":"Pagina successiva",children:["Successiva",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})})]})]})]})]})},Fg=()=>{const{locationId:s}=Oa(),[a,c]=v.useState(null),[u,f]=v.useState(null),[p,m]=v.useState(null),x=ht();v.useEffect(()=>{(async()=>{if(!s){x("/locations");return}try{const w=await Rg(s);if(!w){x("/locations");return}c(w),f(w)}catch(w){console.error("Error fetching location details:",w),x("/locations")}})()},[s,x]);const g=(N,w)=>{f(E=>{if(!E)return null;const C={...E};let k=C;for(let R=0;R<N.length-1;R++)k=k[N[R]];return k[N[N.length-1]]=w,C})},h=async N=>{if(N.preventDefault(),!u||!a)return;const w=Object.keys(u).reduce((E,C)=>(u[C]!==a[C]&&(E[C]=u[C]),E),{});try{const E=await zg({id:s,...w});m(!!E)}catch(E){console.error("Error updating location: ",E),m(!1)}},b=(N,w,E=[])=>{const C=[...E,N],k=["stripeId","location","ownerId"].includes(N),R={id:N,name:N,disabled:k};return Array.isArray(w)?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[N,":"]}),r.jsx("div",{className:"nested-group",children:w.map((z,F)=>r.jsx("div",{className:N==="images"?"image-group":"",children:N==="images"?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:z,alt:`Image ${F}`,className:"image-preview"}),r.jsx("input",{...R,className:"image-input",type:"text",value:z,onChange:K=>g([...C,F.toString()],K.target.value)})]}):b(`${N}[${F}]`,z,C)},F))})]},N):typeof w=="object"&&w!==null?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[N,":"]}),r.jsx("div",{className:"nested-group",children:Object.entries(w).map(([z,F])=>b(z,F,C))})]},N):typeof w=="boolean"?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:N,children:[N,":"]}),r.jsx("input",{...R,type:"checkbox",checked:w,onChange:z=>g(C,z.target.checked)})]},N):typeof w=="number"?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:N,children:[N,":"]}),r.jsx("input",{...R,type:"number",value:w,onChange:z=>g(C,parseFloat(z.target.value))})]},N):N==="description"||N==="rules"?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:N,children:[N,":"]}),r.jsx("textarea",{...R,value:String(w||""),onChange:z=>g(C,z.target.value)})]},N):r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:N,children:[N,":"]}),r.jsx("input",{...R,type:"text",value:String(w||""),onChange:z=>g(C,z.target.value)})]},N)};return!u||!Object.keys(u).length?r.jsx("div",{className:"loading",children:"Loading..."}):r.jsxs("div",{className:"location-container",children:[r.jsx("h1",{className:"location-title",children:"Modifica della Location"}),r.jsxs("p",{style:{color:"black"},children:["Link Utili: ",r.jsx(qe,{to:"/",children:"[Home]"})," - ",r.jsx(qe,{to:"/locations",children:"[Lista Location]"})]}),r.jsxs("form",{onSubmit:h,className:"location-form",children:[r.jsx("input",{type:"text",value:s,className:"location-id",disabled:!0}),Object.entries(u).map(([N,w])=>b(N,w)),p!==null&&r.jsx("div",{className:p?"success-message":"error-message",children:p?"Salvataggio avvenuto con successo":"Errore durante il salvataggio"}),r.jsx("button",{type:"submit",className:"submit-button",children:"Salva"})]})]})};function $d(s){var c,u,f;const a={};return(c=s.name)!=null&&c.trim()?s.name.length<3&&(a.name="Il nome deve essere di almeno 3 caratteri"):a.name="Il nome della location è obbligatorio",(u=s.address)!=null&&u.trim()?s.addressSelected||(a.address="Seleziona un indirizzo dalla lista dei suggerimenti"):a.address="L'indirizzo è obbligatorio",(f=s.city)!=null&&f.trim()||(a.city="La città è obbligatoria"),s.cap&&!/^\d{5}$/.test(s.cap)&&(a.cap="Il CAP deve essere di 5 cifre"),{isValid:Object.keys(a).length===0,errors:a}}function Ud(s){const a={};return!s.special&&!s.ownerId&&(a.ownerId="Seleziona un proprietario o marca la location come speciale"),{isValid:Object.keys(a).length===0,errors:a}}function Vd(s){var c;const a={};return s.durationType||(a.durationType="Seleziona il tipo di durata"),s.durationType&&!s.duration?a.duration="Inserisci la durata":s.duration&&s.duration<1&&(a.duration="La durata deve essere almeno 1 ora"),s.fee?(s.fee<10||s.fee>30)&&(a.fee="La commissione deve essere tra 10% e 30%"):a.fee="La commissione è obbligatoria",!s.special&&!((c=s.stripeId)!=null&&c.trim())&&(a.stripeId="Lo Stripe ID è obbligatorio per location non speciali"),s.refundPolicyId||(a.refundPolicyId="Seleziona una politica di rimborso"),{isValid:Object.keys(a).length===0,errors:a}}function Bd(s){const a={};return(!s.type||s.type.length===0)&&(a.type="Seleziona almeno un tipo di attività"),{isValid:Object.keys(a).length===0,errors:a}}function Mg(s){const a={};return s.length===0?(a.rooms="Aggiungi almeno una sala/spazio",{isValid:!1,errors:a}):(s.forEach((c,u)=>{var f;(f=c.name)!=null&&f.trim()||(a[`room_${u}_name`]=`Nome sala ${u+1} obbligatorio`),(!c.maxPeople||c.maxPeople<1)&&(a[`room_${u}_maxPeople`]=`Numero massimo persone per sala ${u+1} deve essere almeno 1`),(!c.pricePerHour||c.pricePerHour<1)&&(a[`room_${u}_pricePerHour`]=`Prezzo orario per sala ${u+1} deve essere almeno €1`),(!c.squareMeters||c.squareMeters<1)&&(a[`room_${u}_squareMeters`]=`Metri quadri per sala ${u+1} deve essere almeno 1`)}),{isValid:Object.keys(a).length===0,errors:a})}function Hd(s){const a={};return s.some(u=>u.length>0)?(s.forEach((u,f)=>{u.forEach((p,m)=>{!p.start||!p.end?a[`availability_${f}_${m}`]="Orario di inizio e fine obbligatori":p.start>=p.end&&(a[`availability_${f}_${m}`]="L'orario di fine deve essere dopo quello di inizio")})}),{isValid:Object.keys(a).length===0,errors:a}):(a.availability="Imposta almeno un orario di disponibilità",{isValid:!1,errors:a})}function Og(s){const a={},u=["image/jpeg","image/jpg","image/png","image/webp"];return s.forEach((f,p)=>{f.size>15728640&&(a[`image_${p}`]=`Immagine ${p+1}: dimensione massima 15MB`),u.includes(f.type)||(a[`image_${p}`]=`Immagine ${p+1}: formato non supportato (usa JPG, PNG o WebP)`)}),{isValid:Object.keys(a).length===0,errors:a}}function $g(s){const a=$d(s),c=Ud(s),u=Vd(s),f=Bd(s),p=Mg(s.capacityPricing),m=Hd(s.availability),x=Og(s.images),g={...a.errors,...c.errors,...u.errors,...f.errors,...p.errors,...m.errors,...x.errors};return{isValid:Object.keys(g).length===0,errors:g}}const Ug=async s=>{if(!s||s.trim().length<3)throw new Error("Query must be at least 3 characters long");const a=encodeURIComponent(s.trim());return nt(`/utils/geocode?address=${a}`)},Vg=({data:s,updateData:a,errors:c,onNext:u})=>{const[f,p]=v.useState({suggestions:[],isLoading:!1,error:null,showSuggestions:!1}),[m,x]=v.useState({}),g=v.useRef(null),h=v.useRef(null),b=v.useRef([]),[N,w]=v.useState(-1);v.useEffect(()=>()=>{g.current&&g.current.abort(),h.current&&clearTimeout(h.current)},[]);const E=y=>y.trim().replace(/[<>]/g,""),C=v.useCallback((y,L)=>{const T=L;switch(y){case"name":return!T||!T.trim()?"Il nome della location è obbligatorio":T.length<3?"Il nome deve essere di almeno 3 caratteri":T.length>100?"Il nome non può superare i 100 caratteri":/^[a-zA-ZÀ-ÿ0-9\s\-_.,'()]+$/.test(T)?null:"Il nome contiene caratteri non validi";case"address":return!T||!T.trim()?"L'indirizzo è obbligatorio":s.addressSelected?null:"Seleziona un indirizzo dalla lista dei suggerimenti";case"city":return!T||!T.trim()?"La città è obbligatoria":T.length>50?"Il nome della città è troppo lungo":/^[a-zA-ZÀ-ÿ\s\-']+$/.test(T)?null:"Il nome della città contiene caratteri non validi";case"cap":return T&&!/^\d{5}$/.test(T)?"Il CAP deve essere di 5 cifre":null;case"description":return T&&T.length>1e3?"La descrizione non può superare i 1000 caratteri":null;case"rules":return T&&T.length>500?"Le regole non possono superare i 500 caratteri":null;default:return null}},[s.addressSelected]),k=v.useCallback(async y=>{g.current&&g.current.abort(),h.current&&clearTimeout(h.current);const L=E(y);if(L.length<3){p(O=>({...O,suggestions:[],showSuggestions:!1,error:null}));return}g.current=new AbortController;const{signal:T}=g.current;p(O=>({...O,isLoading:!0,error:null,showSuggestions:!0}));try{if(await new Promise(Y=>{h.current=setTimeout(Y,300)}),T.aborted)return;const O=await Ug(L);if(T.aborted)return;O&&Array.isArray(O)?p(Y=>({...Y,suggestions:O.slice(0,5),isLoading:!1,error:null})):p(Y=>({...Y,suggestions:[],isLoading:!1,error:"Nessun indirizzo trovato"}))}catch(O){if(T.aborted)return;console.error("Address search error:",O),p(Y=>({...Y,suggestions:[],isLoading:!1,error:"Errore durante la ricerca degli indirizzi. Riprova."}))}},[]),R=v.useCallback(y=>{const L=E(y);a({address:L,addressSelected:!1,coordinates:[0,0]}),m.address&&x(T=>({...T,address:""})),w(-1),k(L)},[a,m.address,k]),z=v.useCallback(y=>{let L=s.city||"",T=s.cap||"";const O=y.formattedAddress.split(",");O.length>1&&!L&&(L=O[1].trim()),a({address:y.formattedAddress,city:L,cap:T,coordinates:[y.lng,y.lat],addressSelected:!0}),p(Y=>({...Y,suggestions:[],showSuggestions:!1,error:null})),w(-1),x(Y=>({...Y,address:"",city:L?"":Y.city,cap:T?"":Y.cap}))},[s.city,s.cap,a]),F=v.useCallback((y,L)=>{const T=E(L);a({[y]:T});const O=C(y,T);x(Y=>({...Y,[y]:O||""}))},[a,C]),K=v.useCallback(y=>{if(!(!f.showSuggestions||f.suggestions.length===0))switch(y.key){case"ArrowDown":y.preventDefault(),w(L=>L<f.suggestions.length-1?L+1:0);break;case"ArrowUp":y.preventDefault(),w(L=>L>0?L-1:f.suggestions.length-1);break;case"Enter":y.preventDefault(),N>=0&&z(f.suggestions[N]);break;case"Escape":y.preventDefault(),p(L=>({...L,showSuggestions:!1})),w(-1);break}},[f.showSuggestions,f.suggestions,N,z]),Q=v.useCallback(()=>{const y=$d(s),L={},T=C("name",s.name);T&&(L.name=T);const O=C("address",s.address);O&&(L.address=O);const Y=C("city",s.city);Y&&(L.city=Y);const J=C("cap",s.cap);J&&(L.cap=J);const X=C("description",s.description);X&&(L.description=X);const se=C("rules",s.rules);se&&(L.rules=se);const ve={...y.errors,...L};if(Object.keys(ve).length===0)u();else{x(ve);const xe=Object.keys(ve)[0],me=document.getElementById(xe);me&&(me.focus(),me.scrollIntoView({behavior:"smooth",block:"center"}))}},[s,C,u]),W=(y,L)=>{if(m[y]||c[y])return"error";switch(y){case"address":return s.address&&s.addressSelected?"success":"";case"cap":return L&&typeof L=="string"&&/^\d{5}$/.test(L)?"success":"";default:return L&&typeof L=="string"&&L.trim()?"success":""}},H=s.name.trim()&&s.address&&s.addressSelected&&s.city.trim()&&Object.keys(m).every(y=>!m[y]);return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Informazioni di Base"}),r.jsx("p",{className:"form-section-description",children:"Inserisci le informazioni principali della location. Tutti i campi contrassegnati con * sono obbligatori."}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",className:"form-label required",children:"Nome Location"}),r.jsx("input",{id:"name",type:"text",className:`form-input ${W("name",s.name)}`,placeholder:"es. Villa Sunset, Sala Conferenze Aurora...",value:s.name,onChange:y=>F("name",y.target.value),autoComplete:"off",maxLength:100,"aria-describedby":"name-error name-help","aria-invalid":!!(m.name||c.name)}),(m.name||c.name)&&r.jsxs("div",{id:"name-error",className:"form-error",role:"alert",children:[r.jsx("span",{children:"⚠️"}),m.name||c.name]}),!m.name&&!c.name&&s.name.trim()&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"Nome valido"]}),r.jsx("div",{id:"name-help",className:"form-help",children:"Il nome deve essere unico e descrittivo (3-100 caratteri)"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"address",className:"form-label required",children:"Indirizzo"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("input",{id:"address",type:"text",className:`form-input ${W("address",s.address)}`,placeholder:"Inizia a digitare l'indirizzo...",value:s.address,onChange:y=>R(y.target.value),onKeyDown:K,onFocus:()=>{f.suggestions.length>0&&p(y=>({...y,showSuggestions:!0}))},onBlur:()=>{setTimeout(()=>{p(y=>({...y,showSuggestions:!1})),w(-1)},200)},autoComplete:"off","aria-describedby":"address-error address-help","aria-invalid":!!(m.address||c.address),"aria-expanded":f.showSuggestions,"aria-haspopup":"listbox",role:"combobox"}),f.isLoading&&r.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:r.jsx("div",{className:"loading-spinner","aria-label":"Ricerca indirizzi..."})}),f.showSuggestions&&r.jsx("div",{className:"address-suggestions",role:"listbox","aria-label":"Suggerimenti indirizzi",children:f.suggestions.length>0?f.suggestions.map((y,L)=>r.jsx("div",{ref:T=>b.current[L]=T,className:`address-suggestion ${L===N?"active":""}`,onClick:()=>z(y),onMouseEnter:()=>w(L),role:"option","aria-selected":L===N,tabIndex:-1,children:y.formattedAddress},L)):f.error?r.jsx("div",{className:"address-suggestion error",role:"alert",children:f.error}):r.jsx("div",{className:"address-suggestion",role:"status",children:"Nessun risultato trovato"})})]}),(m.address||c.address)&&r.jsxs("div",{id:"address-error",className:"form-error",role:"alert",children:[r.jsx("span",{children:"⚠️"}),m.address||c.address]}),!m.address&&!c.address&&s.address&&!s.addressSelected&&r.jsx("div",{className:"form-help",children:"Seleziona un indirizzo dalla lista dei suggerimenti"}),!m.address&&!c.address&&s.address&&s.addressSelected&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"Indirizzo confermato"]}),r.jsx("div",{id:"address-help",className:"form-help",children:"Usa le frecce ↑↓ per navigare, Invio per selezionare, Esc per chiudere"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"city",className:"form-label required",children:"Città"}),r.jsx("input",{id:"city",type:"text",className:`form-input ${W("city",s.city)}`,placeholder:"es. Roma, Milano, Napoli...",value:s.city,onChange:y=>F("city",y.target.value),autoComplete:"address-level2",maxLength:50,"aria-describedby":"city-error city-help","aria-invalid":!!(m.city||c.city)}),(m.city||c.city)&&r.jsxs("div",{id:"city-error",className:"form-error",role:"alert",children:[r.jsx("span",{children:"⚠️"}),m.city||c.city]}),!m.city&&!c.city&&s.city.trim()&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"Città valida"]}),r.jsx("div",{id:"city-help",className:"form-help",children:"La città viene spesso compilata automaticamente dall'indirizzo"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"cap",className:"form-label",children:"CAP"}),r.jsx("input",{id:"cap",type:"text",className:`form-input ${W("cap",s.cap)}`,placeholder:"es. 00100",value:s.cap||"",onChange:y=>{const L=y.target.value.replace(/\D/g,"");F("cap",L)},maxLength:5,autoComplete:"postal-code",pattern:"\\d{5}","aria-describedby":"cap-error cap-help","aria-invalid":!!(m.cap||c.cap)}),(m.cap||c.cap)&&r.jsxs("div",{id:"cap-error",className:"form-error",role:"alert",children:[r.jsx("span",{children:"⚠️"}),m.cap||c.cap]}),!m.cap&&!c.cap&&s.cap&&/^\d{5}$/.test(s.cap)&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"CAP valido"]}),r.jsx("div",{id:"cap-help",className:"form-help",children:"Il CAP viene spesso compilato automaticamente dall'indirizzo"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"description",className:"form-label",children:"Descrizione"}),r.jsx("textarea",{id:"description",className:`form-textarea ${W("description",s.description)}`,placeholder:"Descrivi la location, i suoi punti di forza, le caratteristiche uniche...",value:s.description||"",onChange:y=>F("description",y.target.value),rows:4,maxLength:1e3,"aria-describedby":"description-help description-count",style:{resize:"vertical"}}),r.jsxs("div",{className:"form-help",children:[r.jsx("span",{id:"description-help",children:"Una buona descrizione aiuta i clienti a capire meglio la location"}),r.jsxs("span",{id:"description-count",style:{float:"right",fontSize:"0.8rem",color:"#6b7280"},children:[(s.description||"").length,"/1000"]})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"rules",className:"form-label",children:"Regole e Restrizioni"}),r.jsx("textarea",{id:"rules",className:`form-textarea ${W("rules",s.rules)}`,placeholder:"es. Vietato fumare, Silenzio dopo le 22:00, Massimo 100 persone...",value:s.rules||"",onChange:y=>F("rules",y.target.value),rows:3,maxLength:500,"aria-describedby":"rules-help rules-count",style:{resize:"vertical"}}),r.jsxs("div",{className:"form-help",children:[r.jsx("span",{id:"rules-help",children:"Specifica eventuali regole o restrizioni per l'uso della location"}),r.jsxs("span",{id:"rules-count",style:{float:"right",fontSize:"0.8rem",color:"#6b7280"},children:[(s.rules||"").length,"/500"]})]})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 1 di 6 - Informazioni di Base"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:Q,disabled:!H,"aria-describedby":"form-status",children:"Continua →"})]}),r.jsx("div",{id:"form-status",style:{marginTop:"8px",fontSize:"0.8rem"},children:H?r.jsx("span",{style:{color:"#10b981"},children:"✓ Tutti i campi obbligatori completati"}):r.jsx("span",{style:{color:"#ef4444"},children:"Completa i campi obbligatori per continuare"})})]})]})},Bg=({data:s,updateData:a,errors:c,onNext:u,onPrevious:f})=>{const[p,m]=v.useState(""),[x,g]=v.useState([]),[h,b]=v.useState(null),[N,w]=v.useState(!1),[E,C]=v.useState(!1);v.useEffect(()=>{if(s.ownerId&&!h){const W=x.find(H=>H._id===s.ownerId);W&&b(W)}},[s.ownerId,h,x]);const k=v.useCallback(async W=>{if(!W.trim()){g([]);return}C(!0);try{const H=await Od({username:W});g(H.users||[])}catch(H){console.error("Failed to fetch users:",H),g([])}finally{C(!1)}},[]);v.useEffect(()=>{const W=setTimeout(()=>{p&&!h&&k(p)},300);return()=>clearTimeout(W)},[p,h,k]);const R=W=>{a({special:W,ownerId:W?"":s.ownerId}),W&&(b(null),m(""),w(!1))},z=W=>{b(W),a({ownerId:W._id}),m(""),w(!1)},F=W=>{m(W),b(null),a({ownerId:""}),w(!0)},K=()=>{Ud(s).isValid&&u()},Q=s.special||s.ownerId&&h;return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Selezione Proprietario"}),r.jsx("p",{className:"form-section-description",children:"Seleziona il proprietario della location o marcala come location speciale/storica."}),r.jsxs("div",{className:"special-location-card",children:[r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{id:"special",type:"checkbox",className:"checkbox-input",checked:s.special,onChange:W=>R(W.target.checked)}),r.jsx("label",{htmlFor:"special",className:"checkbox-label",children:r.jsx("strong",{children:"Location Speciale/Storica"})})]}),r.jsx("p",{children:"Le location speciali sono luoghi storici o di particolare interesse che non richiedono un proprietario specifico e possono avere configurazioni particolari."}),s.special&&r.jsxs("div",{className:"alert alert-info",children:[r.jsx("span",{children:"ℹ️"}),"Hai selezionato una location speciale. Non è necessario selezionare un proprietario."]})]}),!s.special&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"owner-search",className:"form-label required",children:"Cerca Proprietario"}),r.jsxs("div",{className:"user-search-container",children:[r.jsx("input",{id:"owner-search",type:"text",className:`form-input ${c.ownerId?"error":h?"success":""}`,placeholder:"Inizia a digitare nome, cognome o email...",value:h?`${h.name} ${h.surname}`:p,onChange:W=>F(W.target.value),onFocus:()=>!h&&w(!0),onBlur:()=>setTimeout(()=>w(!1),200),autoComplete:"off"}),E&&r.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:r.jsx("div",{className:"loading-spinner"})}),N&&(p||x.length>0)&&!h&&r.jsx("div",{className:"user-search-results",children:x.length>0?x.map(W=>r.jsx("div",{className:"user-search-item",onClick:()=>z(W),children:r.jsxs("div",{children:[r.jsxs("strong",{children:[W.name," ",W.surname]}),W.email&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:W.email})]})},W._id)):p?r.jsxs("div",{className:"user-search-no-results",children:['Nessun utente trovato per "',p,'"']}):r.jsx("div",{className:"user-search-no-results",children:"Inizia a digitare per cercare un utente"})})]}),c.ownerId&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.ownerId]}),!c.ownerId&&h&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"Proprietario selezionato: ",h.name," ",h.surname]}),r.jsxs("div",{className:"form-help",children:["Cerca per nome, cognome o email. Se non trovi l'utente,",r.jsx("a",{href:"/users",target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",textDecoration:"none",marginLeft:"4px"},children:"crealo prima dalla gestione utenti"}),"."]})]}),h&&!s.special&&r.jsxs("div",{style:{background:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"8px",padding:"16px",margin:"16px 0"},children:[r.jsx("h4",{style:{margin:"0 0 8px 0",color:"#0c4a6e"},children:"Proprietario Selezionato"}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{children:[r.jsxs("div",{style:{fontWeight:"600"},children:[h.name," ",h.surname]}),h.email&&r.jsx("div",{style:{fontSize:"0.9rem",color:"#64748b"},children:h.email}),r.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:["ID: ",h._id]})]}),r.jsx("button",{type:"button",className:"btn btn-outline",style:{padding:"8px 16px",fontSize:"0.9rem"},onClick:()=>{b(null),a({ownerId:""}),m("")},children:"Cambia"})]})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"← Indietro"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 2 di 6 - Proprietario"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:K,disabled:!Q,children:"Continua →"})]}),!Q&&r.jsx("div",{style:{marginTop:"8px",color:"#ef4444",fontSize:"0.8rem",textAlign:"center"},children:s.special?"Location speciale configurata":"Seleziona un proprietario per continuare"})]})]})},id=[{id:1,name:"Feste Private",description:"Compleanni, anniversari, celebrazioni private"},{id:2,name:"Eventi Aziendali",description:"Riunioni, conferenze, team building"},{id:3,name:"Matrimoni",description:"Cerimonie e ricevimenti matrimoniali"},{id:4,name:"Formazione",description:"Corsi, workshop, seminari"},{id:5,name:"Fotografia",description:"Set fotografici e videografici"},{id:6,name:"Sport",description:"Attività sportive e fitness"},{id:7,name:"Arte e Cultura",description:"Mostre, spettacoli, eventi culturali"},{id:8,name:"Gastronomia",description:"Cene, degustazioni, eventi enogastronomici"}],Hg=({data:s,updateData:a,errors:c,onNext:u,onPrevious:f})=>{const p=g=>{const h=s.type||[],b=h.includes(g)?h.filter(N=>N!==g):[...h,g];a({type:b})},m=()=>{Bd(s).isValid&&u()},x=s.type&&s.type.length>0;return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Tipologie di Attività"}),r.jsx("p",{className:"form-section-description",children:"Seleziona i tipi di attività che possono essere svolte in questa location. Puoi selezionare più tipologie."}),c.type&&r.jsxs("div",{className:"alert alert-error",children:[r.jsx("span",{children:"⚠️"}),c.type]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px",marginBottom:"24px"},children:id.map(g=>{var h,b,N,w;return r.jsxs("div",{className:`capacity-pricing-item ${(h=s.type)!=null&&h.includes(g.id)?"selected":""}`,style:{cursor:"pointer",transition:"all 0.2s",border:(b=s.type)!=null&&b.includes(g.id)?"2px solid #3b82f6":"1px solid #e2e8f0",background:(N=s.type)!=null&&N.includes(g.id)?"#f0f4ff":"#f8fafc"},onClick:()=>p(g.id),children:[r.jsxs("div",{className:"checkbox-group",style:{marginBottom:"8px"},children:[r.jsx("input",{type:"checkbox",className:"checkbox-input",checked:((w=s.type)==null?void 0:w.includes(g.id))||!1,onChange:()=>p(g.id),onClick:E=>E.stopPropagation()}),r.jsx("label",{className:"checkbox-label",children:r.jsx("strong",{children:g.name})})]}),r.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#64748b",paddingLeft:"26px"},children:g.description})]},g.id)})}),s.type&&s.type.length>0&&r.jsxs("div",{className:"alert alert-success",children:[r.jsx("span",{children:"✓"}),s.type.length," tipologie selezionate: ",id.filter(g=>{var h;return(h=s.type)==null?void 0:h.includes(g.id)}).map(g=>g.name).join(", ")]}),r.jsxs("div",{className:"form-help",children:[r.jsx("strong",{children:"Suggerimento:"})," Seleziona tutte le tipologie pertinenti per aumentare la visibilità della location nei risultati di ricerca."]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"← Indietro"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 3 di 6 - Tipologie Attività"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:m,disabled:!x,children:"Continua →"})]}),!x&&r.jsx("div",{style:{marginTop:"8px",color:"#ef4444",fontSize:"0.8rem",textAlign:"center"},children:"Seleziona almeno una tipologia di attività per continuare"})]})]})},Wg=({data:s,updateData:a,errors:c,onNext:u,onPrevious:f})=>{const p=()=>{Vd(s).isValid&&u()},m=s.durationType&&s.duration&&s.fee&&(s.special||s.stripeId);return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Prezzi e Durata"}),r.jsx("p",{className:"form-section-description",children:"Configura le impostazioni di prezzo, durata e pagamento per la location."}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Tipo di Durata"}),r.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"8px"},children:[r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{type:"radio",id:"duration-fixed",name:"durationType",value:"FIXED",checked:s.durationType==="FIXED",onChange:x=>a({durationType:x.target.value})}),r.jsx("label",{htmlFor:"duration-fixed",className:"checkbox-label",children:"Durata Fissa"})]}),r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{type:"radio",id:"duration-min",name:"durationType",value:"MIN",checked:s.durationType==="MIN",onChange:x=>a({durationType:x.target.value})}),r.jsx("label",{htmlFor:"duration-min",className:"checkbox-label",children:"Durata Minima"})]})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"duration",className:"form-label required",children:s.durationType==="FIXED"?"Durata Fissa (ore)":"Durata Minima (ore)"}),r.jsx("input",{id:"duration",type:"number",className:`form-input ${c.duration?"error":s.duration?"success":""}`,placeholder:"es. 2",value:s.duration||"",onChange:x=>a({duration:parseInt(x.target.value)||0}),min:"1",max:"24"}),c.duration&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.duration]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fee",className:"form-label required",children:"Commissione LocaTrova (%)"}),r.jsx("input",{id:"fee",type:"number",className:`form-input ${c.fee?"error":s.fee?"success":""}`,placeholder:"20",value:s.fee||"",onChange:x=>a({fee:parseInt(x.target.value)||0}),min:"10",max:"30",step:"5"}),c.fee&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.fee]}),r.jsx("div",{className:"form-help",children:"Commissione standard: 20%. Range consentito: 10%-30%"})]}),!s.special&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stripeId",className:"form-label required",children:"Stripe Account ID"}),r.jsx("input",{id:"stripeId",type:"text",className:`form-input ${c.stripeId?"error":s.stripeId?"success":""}`,placeholder:"acct_...",value:s.stripeId||"",onChange:x=>a({stripeId:x.target.value})}),c.stripeId&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.stripeId]}),r.jsx("div",{className:"form-help",children:"ID del conto Stripe Connect del proprietario per ricevere i pagamenti"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"refundPolicy",className:"form-label required",children:"Politica di Rimborso"}),r.jsxs("select",{id:"refundPolicy",className:`form-select ${c.refundPolicyId?"error":s.refundPolicyId?"success":""}`,value:s.refundPolicyId||"",onChange:x=>a({refundPolicyId:x.target.value}),children:[r.jsx("option",{value:"",children:"Seleziona una politica..."}),r.jsx("option",{value:"standard",children:"Standard (rimborso fino a 24h prima)"}),r.jsx("option",{value:"flexible",children:"Flessibile (rimborso fino a 2h prima)"}),r.jsx("option",{value:"strict",children:"Rigorosa (nessun rimborso)"})]}),c.refundPolicyId&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.refundPolicyId]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Stato della Location"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"8px"},children:[r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{id:"active",type:"checkbox",className:"checkbox-input",checked:s.active,onChange:x=>a({active:x.target.checked})}),r.jsx("label",{htmlFor:"active",className:"checkbox-label",children:"Location Attiva"})]}),r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{id:"verified",type:"checkbox",className:"checkbox-input",checked:s.verified,onChange:x=>a({verified:x.target.checked})}),r.jsx("label",{htmlFor:"verified",className:"checkbox-label",children:"Location Verificata"})]})]}),r.jsx("div",{className:"form-help",children:"Le location attive sono visibili agli utenti. La verifica indica che sono state controllate dal team."})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"← Indietro"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 4 di 6 - Prezzi e Durata"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:p,disabled:!m,children:"Continua →"})]}),!m&&r.jsx("div",{style:{marginTop:"8px",color:"#ef4444",fontSize:"0.8rem",textAlign:"center"},children:"Completa tutti i campi obbligatori per continuare"})]})]})},qg=["Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],Qg=({data:s,updateData:a,errors:c,onNext:u,onPrevious:f})=>{const p=N=>{const w=[...s.availability];w[N]=[...w[N],{start:"09:00",end:"18:00"}],a({availability:w})},m=(N,w)=>{const E=[...s.availability];E[N].splice(w,1),a({availability:E})},x=(N,w,E,C)=>{const k=[...s.availability];k[N][w][E]=C,a({availability:k})},g=N=>{const w=s.availability[N],E=s.availability.map((C,k)=>k===N?C:[...w]);a({availability:E})},h=s.availability.some(N=>N.length>0),b=()=>{Hd(s.availability).isValid&&u()};return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Disponibilità Settimanale"}),r.jsx("p",{className:"form-section-description",children:"Configura gli orari di disponibilità per ogni giorno della settimana. Puoi aggiungere più fasce orarie per giorno."}),c.availability&&r.jsxs("div",{className:"alert alert-error",children:[r.jsx("span",{children:"⚠️"}),c.availability]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:qg.map((N,w)=>r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsxs("div",{className:"capacity-pricing-header",children:[r.jsx("h4",{className:"capacity-pricing-title",children:N}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.availability[w].length>0&&r.jsx("button",{type:"button",className:"btn btn-outline",style:{padding:"6px 12px",fontSize:"0.8rem"},onClick:()=>g(w),title:"Copia orari a tutti i giorni",children:"Copia a tutti"}),r.jsx("button",{type:"button",className:"btn btn-primary",style:{padding:"6px 12px",fontSize:"0.8rem"},onClick:()=>p(w),children:"+ Orario"})]})]}),s.availability[w].length===0?r.jsxs("div",{style:{textAlign:"center",color:"#6b7280",fontStyle:"italic",padding:"16px"},children:["Nessun orario impostato per ",N.toLowerCase()]}):r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:s.availability[w].map((E,C)=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"white",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1},children:[r.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b"},children:"Da:"}),r.jsx("input",{type:"time",className:"form-input",style:{width:"120px"},value:E.start,onChange:k=>x(w,C,"start",k.target.value)}),r.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b"},children:"A:"}),r.jsx("input",{type:"time",className:"form-input",style:{width:"120px"},value:E.end,onChange:k=>x(w,C,"end",k.target.value)})]}),r.jsx("button",{type:"button",className:"capacity-pricing-remove",style:{width:"32px",height:"32px"},onClick:()=>m(w,C),title:"Rimuovi orario",children:"×"})]},C))})]},w))}),h&&r.jsxs("div",{className:"alert alert-success",children:[r.jsx("span",{children:"✓"}),"Disponibilità configurata per ",s.availability.filter(N=>N.length>0).length," giorni"]}),r.jsxs("div",{className:"form-help",children:[r.jsx("strong",{children:"Suggerimenti:"}),r.jsxs("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:[r.jsx("li",{children:"Aggiungi più fasce orarie se ci sono pause durante il giorno"}),r.jsx("li",{children:'Usa "Copia a tutti" per applicare gli stessi orari a tutti i giorni'}),r.jsx("li",{children:"Assicurati che l'orario di fine sia dopo quello di inizio"})]})]}),r.jsxs("div",{style:{marginTop:"32px"},children:[r.jsx("h3",{style:{marginBottom:"16px"},children:"Sale/Spazi della Location"}),r.jsx("p",{style:{marginBottom:"16px",color:"#64748b"},children:"Aggiungi le sale o spazi disponibili con prezzi e capacità specifici."}),s.capacityPricing.map((N,w)=>r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsxs("div",{className:"capacity-pricing-header",children:[r.jsxs("h4",{children:["Sala ",w+1]}),r.jsx("button",{type:"button",className:"capacity-pricing-remove",onClick:()=>{const E=s.capacityPricing.filter((C,k)=>k!==w);a({capacityPricing:E})},children:"×"})]}),r.jsxs("div",{className:"capacity-pricing-grid",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Nome Sala"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"es. Sala Conferenze A",value:N.name,onChange:E=>{const C=[...s.capacityPricing];C[w].name=E.target.value,a({capacityPricing:C})}})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Persone Max"}),r.jsx("input",{type:"number",className:"form-input",placeholder:"50",value:N.maxPeople,onChange:E=>{const C=[...s.capacityPricing];C[w].maxPeople=parseInt(E.target.value)||0,a({capacityPricing:C})}})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Prezzo/Ora (€)"}),r.jsx("input",{type:"number",className:"form-input",placeholder:"100",value:N.pricePerHour,onChange:E=>{const C=[...s.capacityPricing];C[w].pricePerHour=parseInt(E.target.value)||0,a({capacityPricing:C})}})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Metri Quadri"}),r.jsx("input",{type:"number",className:"form-input",placeholder:"80",value:N.squareMeters,onChange:E=>{const C=[...s.capacityPricing];C[w].squareMeters=parseInt(E.target.value)||0,a({capacityPricing:C})}})]})]})]},w)),r.jsx("button",{type:"button",className:"add-item-btn",onClick:()=>{const N={name:"",maxPeople:0,pricePerHour:0,squareMeters:0,images:[]};a({capacityPricing:[...s.capacityPricing,N]})},children:"+ Aggiungi Sala/Spazio"})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"← Indietro"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 5 di 6 - Disponibilità"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:b,disabled:!h||s.capacityPricing.length===0,children:"Continua →"})]}),(!h||s.capacityPricing.length===0)&&r.jsx("div",{style:{marginTop:"8px",color:"#ef4444",fontSize:"0.8rem",textAlign:"center"},children:"Configura disponibilità e aggiungi almeno una sala per continuare"})]})]})},Kg=[{id:1,name:"Feste Private"},{id:2,name:"Eventi Aziendali"},{id:3,name:"Matrimoni"},{id:4,name:"Formazione"},{id:5,name:"Fotografia"},{id:6,name:"Sport"},{id:7,name:"Arte e Cultura"},{id:8,name:"Gastronomia"}],Yg=["Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],Gg=({data:s,onPrevious:a})=>{const c=Kg.filter(f=>{var p;return(p=s.type)==null?void 0:p.includes(f.id)}),u=s.availability.filter(f=>f.length>0).length;return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Revisione Finale"}),r.jsx("p",{className:"form-section-description",children:"Controlla tutti i dati inseriti prima di creare la location. Puoi tornare indietro per modificare qualsiasi informazione."}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"📍 Informazioni di Base"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Nome:"})," ",s.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Città:"})," ",s.city]}),r.jsxs("div",{style:{gridColumn:"1 / -1"},children:[r.jsx("strong",{children:"Indirizzo:"})," ",s.address]}),s.cap&&r.jsxs("div",{children:[r.jsx("strong",{children:"CAP:"})," ",s.cap]}),s.description&&r.jsxs("div",{style:{gridColumn:"1 / -1"},children:[r.jsx("strong",{children:"Descrizione:"})," ",s.description]})]})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"👤 Proprietario"}),s.special?r.jsxs("div",{className:"alert alert-warning",children:[r.jsx("span",{children:"🏛️"}),"Location Speciale/Storica - Nessun proprietario specifico"]}):r.jsxs("div",{children:[r.jsx("strong",{children:"ID Proprietario:"})," ",s.ownerId||"Non selezionato"]})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"🎯 Tipologie di Attività"}),c.length>0?r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:c.map(f=>r.jsx("span",{style:{background:"#e0f2fe",color:"#0c4a6e",padding:"4px 12px",borderRadius:"16px",fontSize:"0.9rem",border:"1px solid #7dd3fc"},children:f.name},f.id))}):r.jsx("div",{style:{color:"#ef4444"},children:"Nessuna tipologia selezionata"})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"💰 Prezzi e Durata"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Tipo Durata:"})," ",s.durationType==="FIXED"?"Fissa":"Minima"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Durata:"})," ",s.duration," ore"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Commissione:"})," ",s.fee,"%"]}),!s.special&&r.jsxs("div",{children:[r.jsx("strong",{children:"Stripe ID:"})," ",s.stripeId||"Non impostato"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Politica Rimborso:"})," ",s.refundPolicyId||"Non selezionata"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Stato:"})," ",r.jsx("span",{style:{color:s.active?"#10b981":"#ef4444"},children:s.active?"Attiva":"Inattiva"}),s.verified&&r.jsx("span",{style:{color:"#10b981",marginLeft:"8px"},children:"• Verificata"})]})]})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"⏰ Disponibilità"}),u>0?r.jsxs("div",{children:[r.jsxs("p",{style:{margin:"0 0 12px 0"},children:["Configurata per ",r.jsx("strong",{children:u})," giorni della settimana"]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:s.availability.map((f,p)=>f.length>0&&r.jsxs("div",{style:{fontSize:"0.9rem"},children:[r.jsxs("strong",{children:[Yg[p],":"]})," ",f.map(m=>`${m.start}-${m.end}`).join(", ")]},p))})]}):r.jsx("div",{style:{color:"#ef4444"},children:"Nessuna disponibilità configurata"})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"🏢 Sale/Spazi"}),s.capacityPricing.length>0?r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:s.capacityPricing.map((f,p)=>r.jsxs("div",{style:{background:"#f8fafc",padding:"12px",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[r.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:f.name}),r.jsxs("div",{style:{fontSize:"0.9rem",color:"#64748b"},children:[f.maxPeople," persone • €",f.pricePerHour,"/ora • ",f.squareMeters," m²"]})]},p))}):r.jsx("div",{style:{color:"#ef4444"},children:"Nessuna sala configurata"})]}),r.jsxs("div",{className:"alert alert-info",children:[r.jsx("span",{children:"ℹ️"}),r.jsxs("div",{children:[r.jsx("strong",{children:"Prima di procedere, verifica che:"}),r.jsxs("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:[r.jsx("li",{children:"Tutte le informazioni siano corrette"}),r.jsx("li",{children:"I prezzi e gli orari siano accurati"}),r.jsx("li",{children:"Le sale/spazi siano configurati correttamente"}),!s.special&&r.jsx("li",{children:"Lo Stripe ID sia valido e attivo"})]})]})]}),r.jsx("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"← Modifica"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 6 di 6 - Revisione Finale"}),r.jsx("div",{style:{color:"#10b981",fontWeight:"600"},children:"✓ Pronto per la creazione"})]})})]})},un=[{id:"basic",title:"Informazioni Base",component:Vg},{id:"owner",title:"Proprietario",component:Bg},{id:"activities",title:"Tipologie Attività",component:Hg},{id:"pricing",title:"Prezzi e Durata",component:Wg},{id:"availability",title:"Disponibilità",component:Qg},{id:"review",title:"Revisione",component:Gg}],Xg=()=>{const s=ht(),[a,c]=v.useState(0),[u,f]=v.useState(!1),[p,m]=v.useState(0),[x,g]=v.useState({name:"",address:"",city:"",cap:"",description:"",rules:"",ownerId:"",special:!1,coordinates:[0,0],addressSelected:!1,durationType:"FIXED",duration:1,fee:20,stripeId:"",refundPolicyId:"",active:!0,verified:!1,type:[],services:[],images:[],capacityPricing:[],availability:[[],[],[],[],[],[],[]]}),[h,b]=v.useState({}),N=K=>{g(W=>({...W,...K}));const Q={...h};Object.keys(K).forEach(W=>{delete Q[W]}),b(Q)},w=()=>{a<un.length-1&&c(K=>K+1)},E=()=>{a>0&&c(K=>K-1)},C=K=>{K<=a&&c(K)},k=async()=>{const K=$g(x);if(!K.isValid){b(K.errors);for(let Q=0;Q<un.length;Q++)if(Object.keys(K.errors).filter(H=>H.includes(un[Q].id)||Q===0&&["name","address","city"].includes(H)).length>0){c(Q);break}return}f(!0),m(0);try{const Q=new FormData,W={ownerId:x.special?void 0:x.ownerId,name:x.name,city:x.city,cap:x.cap,address:x.address,description:x.description,rules:x.rules,durationType:x.durationType,duration:x.duration,stripeId:x.special?void 0:x.stripeId,fee:x.fee,refundPolicyId:x.refundPolicyId,special:x.special,active:x.active,verified:x.verified,type:x.type,services:x.services,availability:x.availability,location:{type:"Point",coordinates:x.coordinates}};Q.append("data",JSON.stringify(W)),x.images.forEach(y=>{Q.append("images",y)});const H=x.capacityPricing.map((y,L)=>({roomId:L,name:y.name,maxPeople:y.maxPeople,pricePerHour:y.pricePerHour,squareMeters:y.squareMeters}));Q.append("capacityPricing",JSON.stringify(H)),x.capacityPricing.forEach((y,L)=>{y.images.forEach(T=>{Q.append(`capacityPricing[${L}].images`,T)})}),await Ig(Q,m),setTimeout(()=>{s("/locations",{state:{message:"Location creata con successo!",type:"success"}})},1e3)}catch(Q){f(!1),m(0);const W=Q instanceof Error?Q.message:"Errore sconosciuto durante la creazione della location";b({submit:W})}},z=un[a].component,F=(a+1)/un.length*100;return r.jsxs("div",{className:"location-create-container",children:[r.jsxs("div",{className:"location-create-header",children:[r.jsx("h1",{className:"location-create-title",children:"Crea Nuova Location"}),r.jsx("p",{className:"location-create-subtitle",children:"Segui i passaggi per creare una nuova location sulla piattaforma"}),r.jsxs("nav",{className:"breadcrumb-nav",children:[r.jsx(qe,{to:"/",children:"Home"}),r.jsx("span",{children:"→"}),r.jsx(qe,{to:"/locations",children:"Location"}),r.jsx("span",{children:"→"}),r.jsx("span",{children:"Nuova Location"})]})]}),r.jsx("div",{className:"progress-bar",children:r.jsx("div",{className:"progress-fill",style:{width:`${F}%`}})}),r.jsxs("div",{className:"form-wizard",children:[r.jsx("div",{className:"wizard-steps",children:un.map((K,Q)=>r.jsxs("button",{type:"button",className:`wizard-step ${Q===a?"active":Q<a?"completed":"disabled"}`,onClick:()=>C(Q),disabled:Q>a,children:[r.jsx("div",{className:"wizard-step-number",children:Q+1}),r.jsx("div",{className:"wizard-step-title",children:K.title})]},K.id))}),r.jsxs("div",{className:"form-content",children:[h.submit&&r.jsxs("div",{className:"alert alert-error",children:[r.jsx("span",{children:"⚠️"}),h.submit]}),r.jsx(z,{data:x,updateData:N,errors:h,onNext:w,onPrevious:E,isFirst:a===0,isLast:a===un.length-1})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("div",{className:"form-actions-left",children:a>0&&r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:E,disabled:u,children:"← Indietro"})}),r.jsx("div",{className:"form-actions-right",children:a<un.length-1?r.jsx("button",{type:"button",className:"btn btn-primary",onClick:w,disabled:u,children:"Avanti →"}):r.jsx("button",{type:"button",className:"btn btn-success",onClick:k,disabled:u,children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"loading-spinner"}),"Creazione... ",p,"%"]}):"✓ Crea Location"})})]})]})]})},Jg=()=>r.jsx(Xg,{}),Zg=async s=>{const{page:a,limit:c}=Ha(s.page,s.limit),u={...s,page:a,limit:c};return qa("/reservations/reservations",u)},ev=async s=>{const a=mt(s,"Reservation ID");return nt(`/reservations/reservation?reservationId=${a}`)},Wd=async s=>(mt(s.reservationId,"Reservation ID"),console.log("In reservation update, reservation request received: ",{reservationId:s.reservationId}),tr("/reservations/update",s)),sd=({placeholder:s,value:a,onChange:c,onSearch:u,options:f,isLoading:p,onClear:m})=>{const[x,g]=v.useState(!1),[h,b]=v.useState(""),N=v.useRef(null),w=v.useRef(null);v.useEffect(()=>{const k=R=>{N.current&&!N.current.contains(R.target)&&g(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const E=k=>{const R=k.target.value;b(R),u(R)},C=f.find(k=>k.value===a);return r.jsxs("div",{className:"searchable-select",ref:N,children:[r.jsxs("div",{className:"select-header",onClick:()=>{g(!x),x||setTimeout(()=>{var k;return(k=w.current)==null?void 0:k.focus()},0)},children:[a&&C?r.jsxs("div",{className:"selected-value-container",children:[r.jsx("span",{className:"selected-value",children:C.label}),r.jsx("button",{className:"clear-button",onClick:k=>{k.stopPropagation(),m(),g(!1)},children:"×"})]}):r.jsx("span",{className:"placeholder",children:s}),r.jsx("span",{className:"arrow",children:"▼"})]}),x&&r.jsxs("div",{className:"select-dropdown",children:[r.jsx("input",{ref:w,type:"text",value:h,onChange:E,className:"search-input",placeholder:"Type to search...",onClick:k=>k.stopPropagation()}),r.jsx("div",{className:"options-list",children:p?r.jsx("div",{className:"loading",children:"Loading..."}):f.length>0?f.map(k=>r.jsx("div",{className:`option ${a===k.value?"selected":""}`,onClick:()=>{c(k.value),g(!1),b("")},children:k.label},k.value)):r.jsx("div",{className:"no-results",children:"No results found"})})]})]})};var xa,ld;function qd(){if(ld)return xa;ld=1;function s(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}return xa=s,xa}var ja,ad;function tv(){if(ad)return ja;ad=1;var s=typeof ns=="object"&&ns&&ns.Object===Object&&ns;return ja=s,ja}var Na,od;function Qd(){if(od)return Na;od=1;var s=tv(),a=typeof self=="object"&&self&&self.Object===Object&&self,c=s||a||Function("return this")();return Na=c,Na}var wa,cd;function nv(){if(cd)return wa;cd=1;var s=Qd(),a=function(){return s.Date.now()};return wa=a,wa}var Sa,ud;function rv(){if(ud)return Sa;ud=1;var s=/\s/;function a(c){for(var u=c.length;u--&&s.test(c.charAt(u)););return u}return Sa=a,Sa}var Ca,dd;function iv(){if(dd)return Ca;dd=1;var s=rv(),a=/^\s+/;function c(u){return u&&u.slice(0,s(u)+1).replace(a,"")}return Ca=c,Ca}var ka,fd;function Kd(){if(fd)return ka;fd=1;var s=Qd(),a=s.Symbol;return ka=a,ka}var Ea,pd;function sv(){if(pd)return Ea;pd=1;var s=Kd(),a=Object.prototype,c=a.hasOwnProperty,u=a.toString,f=s?s.toStringTag:void 0;function p(m){var x=c.call(m,f),g=m[f];try{m[f]=void 0;var h=!0}catch{}var b=u.call(m);return h&&(x?m[f]=g:delete m[f]),b}return Ea=p,Ea}var Pa,hd;function lv(){if(hd)return Pa;hd=1;var s=Object.prototype,a=s.toString;function c(u){return a.call(u)}return Pa=c,Pa}var ba,md;function av(){if(md)return ba;md=1;var s=Kd(),a=sv(),c=lv(),u="[object Null]",f="[object Undefined]",p=s?s.toStringTag:void 0;function m(x){return x==null?x===void 0?f:u:p&&p in Object(x)?a(x):c(x)}return ba=m,ba}var Ta,gd;function ov(){if(gd)return Ta;gd=1;function s(a){return a!=null&&typeof a=="object"}return Ta=s,Ta}var _a,vd;function cv(){if(vd)return _a;vd=1;var s=av(),a=ov(),c="[object Symbol]";function u(f){return typeof f=="symbol"||a(f)&&s(f)==c}return _a=u,_a}var Ra,yd;function uv(){if(yd)return Ra;yd=1;var s=iv(),a=qd(),c=cv(),u=NaN,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,x=parseInt;function g(h){if(typeof h=="number")return h;if(c(h))return u;if(a(h)){var b=typeof h.valueOf=="function"?h.valueOf():h;h=a(b)?b+"":b}if(typeof h!="string")return h===0?h:+h;h=s(h);var N=p.test(h);return N||m.test(h)?x(h.slice(2),N?2:8):f.test(h)?u:+h}return Ra=g,Ra}var za,xd;function dv(){if(xd)return za;xd=1;var s=qd(),a=nv(),c=uv(),u="Expected a function",f=Math.max,p=Math.min;function m(x,g,h){var b,N,w,E,C,k,R=0,z=!1,F=!1,K=!0;if(typeof x!="function")throw new TypeError(u);g=c(g)||0,s(h)&&(z=!!h.leading,F="maxWait"in h,w=F?f(c(h.maxWait)||0,g):w,K="trailing"in h?!!h.trailing:K);function Q(X){var se=b,ve=N;return b=N=void 0,R=X,E=x.apply(ve,se),E}function W(X){return R=X,C=setTimeout(L,g),z?Q(X):E}function H(X){var se=X-k,ve=X-R,xe=g-se;return F?p(xe,w-ve):xe}function y(X){var se=X-k,ve=X-R;return k===void 0||se>=g||se<0||F&&ve>=w}function L(){var X=a();if(y(X))return T(X);C=setTimeout(L,H(X))}function T(X){return C=void 0,K&&b?Q(X):(b=N=void 0,E)}function O(){C!==void 0&&clearTimeout(C),R=0,b=k=N=C=void 0}function Y(){return C===void 0?E:T(a())}function J(){var X=a(),se=y(X);if(b=arguments,N=this,k=X,se){if(C===void 0)return W(k);if(F)return clearTimeout(C),C=setTimeout(L,g),Q(k)}return C===void 0&&(C=setTimeout(L,g)),E}return J.cancel=O,J.flush=Y,J}return za=m,za}var fv=dv();const ls=fs(fv),pv=()=>{const[s,a]=v.useState([]),[c,u]=v.useState(0),[f,p]=v.useState(!1),[m,x]=v.useState(new Set),[g,h]=v.useState([]),[b,N]=v.useState([]),[w,E]=v.useState([]),[C,k]=v.useState(!1),[R,z]=v.useState(!1),[,F]=v.useState(""),[,K]=v.useState(""),[Q,W]=v.useState(!1),H=ht(),[y,L]=v.useState({locationId:"",userId:"",startDate:"",endDate:"",payment:"",capacity:"",amount:"",page:1,limit:10}),T=v.useMemo(()=>({locationId:y.locationId,userId:y.userId,startDate:y.startDate,endDate:y.endDate,payment:y.payment,capacity:y.capacity,amount:y.amount,page:y.page,limit:y.limit}),[y.locationId,y.userId,y.startDate,y.endDate,y.payment,y.capacity,y.amount,y.page,y.limit]),O=v.useCallback(async()=>{p(!0);try{const M=await Zg(T);a(M.reservations||[]),u(M.total||0)}catch(M){console.error("Error fetching reservations:",M),a([]),u(0)}finally{p(!1)}},[T]);v.useEffect(()=>{O()},[O]),v.useEffect(()=>{h([...s])},[s]);const Y=async()=>{W(!0);try{for(const re of m){const de=g.find(le=>le._id===re);de&&await Wd({reservationId:re,...de})}x(new Set),O();const M=document.createElement("div");M.className="toast success",M.textContent="Modifiche salvate con successo!",document.body.appendChild(M),setTimeout(()=>M.remove(),3e3)}catch(M){console.error("Error saving changes:",M),alert("Errore nel salvare le modifiche. Riprova.")}finally{W(!1)}},J=M=>{L(re=>({...re,page:M}))},X=(M,re,de)=>{h(le=>le.map(pe=>pe._id===M?{...pe,[re]:de}:pe)),x(le=>new Set(le).add(M))},se=v.useCallback(async M=>{k(!0);try{const re=await kg(M);N(re.users)}catch(re){console.error("Error fetching users:",re)}finally{k(!1)}},[]),ve=v.useCallback(async M=>{z(!0);try{const re=await Lg(M);E(re.locations)}catch(re){console.error("Error fetching locations:",re)}finally{z(!1)}},[]),xe=v.useRef(ls(M=>{se(M)},300)),me=v.useRef(ls(M=>{ve(M)},300));v.useEffect(()=>{xe.current=ls(M=>{se(M)},300)},[se]),v.useEffect(()=>{me.current=ls(M=>{ve(M)},300)},[ve]);const G=v.useCallback(M=>{xe.current(M)},[]),oe=v.useCallback(M=>{me.current(M)},[]),ee=()=>{L({locationId:"",userId:"",startDate:"",endDate:"",payment:"",capacity:"",amount:"",page:1,limit:10})},_=M=>new Date(M).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric"}),$=M=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(M),fe=Math.ceil(c/(y.limit||10));return r.jsxs("div",{className:"reservations-container",children:[r.jsx("div",{className:"page-header",children:r.jsxs("div",{children:[r.jsx("h1",{className:"page-title",children:"Gestione Prenotazioni"}),r.jsx("p",{className:"page-subtitle",children:"Visualizza e gestisci le prenotazioni della piattaforma"})]})}),r.jsxs("div",{className:"filters-card",children:[r.jsxs("div",{className:"filters-header",children:[r.jsx("h2",{className:"filters-title",children:"Filtri di ricerca"}),r.jsx("button",{className:"clear-filters-btn",onClick:ee,"aria-label":"Pulisci filtri",children:"Pulisci filtri"})]}),r.jsxs("div",{className:"search-filters",children:[r.jsxs("div",{className:"filter-group filter-group-wide",children:[r.jsx("label",{className:"filter-label",children:"Utente"}),r.jsx(sd,{placeholder:"Cerca utente...",value:y.userId||"",onChange:M=>L({...y,userId:M,page:1}),onSearch:M=>{F(M),G(M)},onClear:()=>L({...y,userId:"",page:1}),isLoading:C,options:b.map(M=>({value:M._id,label:`${M.name} ${M.surname}`}))})]}),r.jsxs("div",{className:"filter-group filter-group-wide",children:[r.jsx("label",{className:"filter-label",children:"Location"}),r.jsx(sd,{placeholder:"Cerca location...",value:y.locationId||"",onChange:M=>L({...y,locationId:M,page:1}),onSearch:M=>{K(M),oe(M)},onClear:()=>L({...y,locationId:"",page:1}),isLoading:R,options:w.map(M=>({value:M._id,label:M.name}))})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"start-date",className:"filter-label",children:"Data inizio"}),r.jsx("input",{id:"start-date",type:"date",value:y.startDate,onChange:M=>L({...y,startDate:M.target.value,page:1}),className:"filter-input"})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"end-date",className:"filter-label",children:"Data fine"}),r.jsx("input",{id:"end-date",type:"date",value:y.endDate,onChange:M=>L({...y,endDate:M.target.value,page:1}),className:"filter-input"})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"payment-filter",className:"filter-label",children:"Stato pagamento"}),r.jsxs("select",{id:"payment-filter",value:y.payment,onChange:M=>L({...y,payment:M.target.value,page:1}),className:"filter-select",children:[r.jsx("option",{value:"",children:"Tutti"}),r.jsx("option",{value:"SUCCESS",children:"Completato"}),r.jsx("option",{value:"REFUNDED",children:"Rimborsato"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"capacity-filter",className:"filter-label",children:"Capacità"}),r.jsx("input",{id:"capacity-filter",type:"number",placeholder:"Capacità...",value:y.capacity,onChange:M=>L({...y,capacity:M.target.value,page:1}),className:"filter-input",min:"1"})]})]})]}),f?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento prenotazioni..."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"table-card",children:[r.jsxs("div",{className:"table-header",children:[r.jsxs("p",{className:"results-count",children:[c," prenotazioni trovate",m.size>0&&r.jsxs("span",{className:"changes-count",children:[" • ",m.size," modifiche non salvate"]})]}),r.jsx("div",{className:"table-actions",children:r.jsxs("select",{className:"limit-select",value:y.limit,onChange:M=>L({...y,limit:Number(M.target.value),page:1}),"aria-label":"Risultati per pagina",children:[r.jsx("option",{value:"10",children:"10 per pagina"}),r.jsx("option",{value:"25",children:"25 per pagina"}),r.jsx("option",{value:"50",children:"50 per pagina"})]})})]}),g.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsxs("svg",{className:"empty-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M8 2v4M16 2v4M3 10h18M5 4h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2z"}),r.jsx("path",{d:"M10 16l2 2 4-4"})]}),r.jsx("h3",{className:"empty-title",children:"Nessuna prenotazione trovata"}),r.jsx("p",{className:"empty-text",children:"Prova a modificare i filtri di ricerca"})]}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"reservations-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"ID Prenotazione"}),r.jsx("th",{children:"Location"}),r.jsx("th",{children:"Utente"}),r.jsx("th",{children:"Data"}),r.jsx("th",{children:"Orario"}),r.jsx("th",{children:"Capacità"}),r.jsx("th",{children:"Importo"}),r.jsx("th",{children:"Pagamento"}),r.jsx("th",{children:"Stripe ID"})]})}),r.jsx("tbody",{children:g.map(M=>r.jsxs("tr",{className:m.has(M._id)?"row-modified":"",children:[r.jsx("td",{children:r.jsxs(qe,{to:`/reservations/${M._id}`,className:"reservation-link",children:[r.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",children:r.jsx("path",{d:"M1.146 1.146a.5.5 0 01.708 0L7 6.293l5.146-5.147a.5.5 0 01.708.708L7.707 7l5.147 5.146a.5.5 0 01-.708.708L7 7.707l-5.146 5.147a.5.5 0 01-.708-.708L6.293 7 1.146 1.854a.5.5 0 010-.708z"})}),M._id.slice(-8)]})}),r.jsx("td",{className:"clickable-cell location-name",onClick:()=>H(`/locations/${M.locationId}`),children:r.jsxs("div",{className:"location-info",children:[r.jsx("svg",{className:"location-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})}),M.locationName||M.locationId]})}),r.jsx("td",{className:"clickable-cell user-name",onClick:()=>H(`/users/${M.userId}`),children:r.jsxs("div",{className:"user-info",children:[r.jsx("span",{className:"user-avatar",children:M.userName?M.userName.charAt(0).toUpperCase():"U"}),M.userName||M.userId]})}),r.jsxs("td",{className:"date-cell",children:[r.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",className:"date-icon",children:r.jsx("path",{d:"M3.5 0a.5.5 0 01.5.5V1h6V.5a.5.5 0 011 0V1h1a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V3a2 2 0 012-2h1V.5a.5.5 0 01.5-.5zM1 4v9a1 1 0 001 1h10a1 1 0 001-1V4H1z"})}),_(M.startDate)]}),r.jsxs("td",{className:"time-cell",children:[r.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",className:"time-icon",children:r.jsx("path",{d:"M7 0a7 7 0 110 14A7 7 0 017 0zM7 1a6 6 0 100 12A6 6 0 007 1zm.5 2.5v4.293l2.646 2.647a.5.5 0 01-.707.707l-3-3A.5.5 0 016.5 8V3.5a.5.5 0 011 0z"})}),M.timeSlot.start," - ",M.timeSlot.end]}),r.jsx("td",{className:"capacity-cell",children:r.jsxs("span",{className:"capacity-badge",children:[M.capacity," persone"]})}),r.jsx("td",{className:"amount-cell",children:$(M.amount)}),r.jsx("td",{children:r.jsxs("select",{value:M.payment,onChange:re=>X(M._id,"payment",re.target.value),className:`payment-select ${M.payment==="SUCCESS"?"success":"refunded"}`,children:[r.jsx("option",{value:"SUCCESS",children:"Completato"}),r.jsx("option",{value:"REFUNDED",children:"Rimborsato"})]})}),r.jsx("td",{className:"stripe-id",children:M.stripeId||"-"})]},M._id))})]})})]}),m.size>0&&r.jsxs("div",{className:"changes-panel",children:[r.jsxs("div",{className:"changes-header",children:[r.jsx("h3",{className:"changes-title",children:"Modifiche non salvate"}),r.jsx("button",{className:"close-button",onClick:()=>{x(new Set),h([...s])},"aria-label":"Annulla modifiche",children:"×"})]}),r.jsx("div",{className:"changed-reservations",children:Array.from(m).map(M=>{const re=g.find(le=>le._id===M),de=s.find(le=>le._id===M);return r.jsxs("div",{className:"changed-reservation-item",children:[r.jsxs("span",{className:"changed-reservation-id",children:["Prenotazione #",M.slice(-8)]}),de&&re&&de.payment!==re.payment&&r.jsxs("span",{className:"change-badge",children:["Pagamento: ",re.payment==="SUCCESS"?"Completato":"Rimborsato"]})]},M)})}),r.jsxs("div",{className:"changes-actions",children:[r.jsx("button",{className:"button button-secondary",onClick:()=>{x(new Set),h([...s])},children:"Annulla"}),r.jsx("button",{className:"button button-primary",onClick:Y,disabled:Q,children:Q?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]}),fe>1&&r.jsxs("div",{className:"pagination",children:[r.jsxs("button",{className:"pagination-button",disabled:y.page===1,onClick:()=>J((y.page||1)-1),"aria-label":"Pagina precedente",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Precedente"]}),r.jsxs("div",{className:"pagination-info",children:[r.jsxs("span",{className:"page-numbers",children:["Pagina ",y.page," di ",fe]}),r.jsx("div",{className:"page-dots",children:[...Array(Math.min(fe,5))].map((M,re)=>{let de;return fe<=5||y.page<=3?de=re+1:y.page>=fe-2?de=fe-4+re:de=y.page-2+re,r.jsx("button",{className:`page-dot ${de===y.page?"active":""}`,onClick:()=>J(de),"aria-label":`Vai a pagina ${de}`,children:de},re)})})]}),r.jsxs("button",{className:"pagination-button",disabled:(y.page||1)>=fe,onClick:()=>J((y.page||1)+1),"aria-label":"Pagina successiva",children:["Successiva",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})})]})]})]})]})},hv=()=>{const{reservationId:s}=Oa(),[a,c]=v.useState(null),[u,f]=v.useState(null),[p,m]=v.useState(!0),[x,g]=v.useState(!1),h=ht();v.useEffect(()=>{(async()=>{if(!s){h("/reservations");return}try{const F=await ev(s);if(!F){h("/reservations");return}c(F),f(F)}catch(F){console.error("Error fetching reservation details:",F),h("/reservations")}finally{m(!1)}})()},[s,h]);const b=v.useMemo(()=>!a||!u?!1:["payment","capacity","amount"].some(F=>a[F]!==u[F]),[a,u]),N=(z,F)=>{u&&f({...u,[z]:F})},w=(z,F)=>{u&&f({...u,timeSlot:{...u.timeSlot,[z]:F}})},E=async z=>{if(z.preventDefault(),!(!u||!b)){g(!0);try{await Wd({reservationId:s,...u}),c(u);const F=document.createElement("div");F.className="toast success",F.textContent="Prenotazione aggiornata con successo!",document.body.appendChild(F),setTimeout(()=>F.remove(),3e3)}catch(F){console.error("Error updating reservation:",F);const K=document.createElement("div");K.className="toast error",K.textContent="Errore durante l'aggiornamento",document.body.appendChild(K),setTimeout(()=>K.remove(),3e3)}finally{g(!1)}}},C=()=>{a&&f(a)},k=z=>new Date(z).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),R=z=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(z);return p?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento dettagli prenotazione..."})]}):u?r.jsxs("div",{className:"reservation-detail-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsxs("nav",{className:"breadcrumb",children:[r.jsx(qe,{to:"/",children:"Home"}),r.jsx("span",{className:"breadcrumb-separator",children:"/"}),r.jsx(qe,{to:"/reservations",children:"Prenotazioni"}),r.jsx("span",{className:"breadcrumb-separator",children:"/"}),r.jsx("span",{children:s})]}),r.jsx("h1",{className:"page-title",children:"Dettagli Prenotazione"}),r.jsxs("p",{className:"page-subtitle",children:["ID: ",s]})]}),r.jsx("div",{className:"header-actions",children:r.jsxs("button",{className:"button button-secondary",onClick:()=>h("/reservations"),children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Indietro"]})})]}),r.jsxs("form",{onSubmit:E,className:"reservation-form",children:[r.jsxs("div",{className:"form-grid",children:[r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:[r.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),r.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 1 1 0 000 2H4v10h12V5h-2a1 1 0 100-2 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5z"})]}),"Informazioni Base"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"ID Prenotazione"}),r.jsx("input",{type:"text",value:u._id,disabled:!0,className:"input-disabled"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Data Creazione"}),r.jsx("input",{type:"text",value:k(u.createdAt||""),disabled:!0,className:"input-disabled"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stripe-id",children:"Stripe ID"}),r.jsx("input",{id:"stripe-id",type:"text",value:u.stripeId||"",onChange:z=>N("stripeId",z.target.value),placeholder:"ID transazione Stripe"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"payment-status",children:"Stato Pagamento"}),r.jsxs("select",{id:"payment-status",value:u.payment,onChange:z=>N("payment",z.target.value),className:`payment-select ${u.payment==="SUCCESS"?"success":"refunded"}`,children:[r.jsx("option",{value:"SUCCESS",children:"Completato"}),r.jsx("option",{value:"REFUNDED",children:"Rimborsato"})]})]})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"})}),"Location e Utente"]}),r.jsxs("div",{className:"info-section",children:[r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Location"}),r.jsxs(qe,{to:`/locations/${u.locationId}`,className:"info-link",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})}),u.locationName||u.locationId]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Utente"}),r.jsxs(qe,{to:`/users/${u.userId}`,className:"info-link",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4z"})}),u.userName||u.userId]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"ID Stanza"}),r.jsx("span",{className:"info-value",children:u.roomId})]})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zM4 8h12v8H4V8z"})}),"Date e Orari"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"start-date",children:"Data Inizio"}),r.jsx("input",{id:"start-date",type:"date",value:u.startDate,onChange:z=>N("startDate",z.target.value)})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"end-date",children:"Data Fine"}),r.jsx("input",{id:"end-date",type:"date",value:u.endDate,onChange:z=>N("endDate",z.target.value)})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"time-start",children:"Orario Inizio"}),r.jsx("input",{id:"time-start",type:"time",value:u.timeSlot.start,onChange:z=>w("start",z.target.value)})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"time-end",children:"Orario Fine"}),r.jsx("input",{id:"time-end",type:"time",value:u.timeSlot.end,onChange:z=>w("end",z.target.value)})]})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:[r.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.003 8 7.71c0-.293.07-.543.433-.632zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.57.433.632 0 .293-.07.632-.433.842a2.305 2.305 0 01-.567.267z"}),r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.766 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.766-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z"})]}),"Capacità e Importo"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"capacity",children:"Capacità (persone)"}),r.jsx("input",{id:"capacity",type:"number",value:u.capacity,onChange:z=>N("capacity",parseInt(z.target.value)||0),min:"1"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"amount",children:"Importo"}),r.jsxs("div",{className:"input-with-prefix",children:[r.jsx("span",{className:"input-prefix",children:"€"}),r.jsx("input",{id:"amount",type:"number",value:u.amount,onChange:z=>N("amount",parseFloat(z.target.value)||0),min:"0",step:"0.01"})]})]})]}),r.jsx("div",{className:"summary-box",children:r.jsxs("div",{className:"summary-item",children:[r.jsx("span",{className:"summary-label",children:"Totale prenotazione"}),r.jsx("span",{className:"summary-value",children:R(u.amount)})]})})]})]}),b&&r.jsxs("div",{className:"form-actions-sticky",children:[r.jsxs("div",{className:"changes-indicator",children:[r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]}),"Hai modifiche non salvate"]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"button button-secondary",onClick:C,children:"Annulla modifiche"}),r.jsx("button",{type:"submit",className:"button button-primary",disabled:x,children:x?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]})]})]}):r.jsxs("div",{className:"error-container",children:[r.jsxs("svg",{className:"error-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),r.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),r.jsx("h2",{className:"error-title",children:"Prenotazione non trovata"}),r.jsx(qe,{to:"/reservations",className:"button button-primary",children:"Torna alle prenotazioni"})]})},mv=async s=>{if(!s||s.trim().length===0)throw new Error("Search text is required");const a=encodeURIComponent(s.trim()),c=await nt(`/scraping/services?text=${a}`);return Array.isArray(c)?c:[]},gv=async()=>nt("/scraping/cities"),Yd=async()=>nt("/scraping/event-types"),Gd=async()=>nt("/scraping/venue-types"),vv=async s=>(mt(s,"Room ID"),nt(`/scraping/location?roomId=${s}`)),yv=async(s,a=1)=>{var f,p;const c={city:s.city||"",capacity:((f=s.capacity)==null?void 0:f.toString())||"0",requiresParking:((p=s.requiresParking)==null?void 0:p.toString())||"false",serviceIds:Array.isArray(s.serviceIds)?s.serviceIds.join(","):"",eventType:s.eventType||"",venueType:s.venueType||"",page:Math.max(1,a).toString()},u=new URLSearchParams(c).toString();return nt(`/scraping/search-rooms?${u}`)},xv=async s=>{mt(s,"Room ID");try{const a=await nt(`/scraping/contacts?roomId=${s}`);return Array.isArray(a)?a:[a]}catch(a){return console.error("Error fetching contacts:",a),[]}},jv=({selectedCity:s,onChange:a})=>{const[c,u]=v.useState([]),[f,p]=v.useState(!0),[m,x]=v.useState(null);return v.useEffect(()=>{(async()=>{try{const h=await gv();u(h)}catch(h){console.error("Failed to fetch cities:",h),x("Failed to load cities")}finally{p(!1)}})()},[]),f?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"City"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Loading..."})})]}):m?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"City"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Error loading cities"})})]}):r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"City"}),r.jsxs("select",{className:"filter-select",value:s,onChange:g=>a(g.target.value),children:[r.jsx("option",{value:"",children:"All Cities"}),c.map((g,h)=>r.jsx("option",{value:g,children:g.charAt(0).toUpperCase()+g.slice(1)},h))]})]})},Nv=({capacity:s,onChange:a})=>r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Minimum Capacity"}),r.jsx("input",{type:"number",className:"filter-input",value:s,onChange:c=>a(c.target.value?parseInt(c.target.value):""),min:"0"})]}),wv=({requiresParking:s,onChange:a})=>r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Parking Required"}),r.jsxs("div",{className:"filter-checkbox-container",children:[r.jsx("input",{type:"checkbox",className:"filter-checkbox",checked:s,onChange:c=>a(c.target.checked)}),r.jsx("span",{children:"Yes"})]})]}),Sv=({selectedEventType:s,onChange:a})=>{const[c,u]=v.useState([]),[f,p]=v.useState(!0),[m,x]=v.useState(null);return v.useEffect(()=>{(async()=>{try{const h=await Yd();if(Array.isArray(h)){const b=h.map((N,w)=>({_id:`event-type-${w}`,name:N}));u(b)}}catch(h){console.error("Failed to fetch event types:",h),x("Failed to load event types")}finally{p(!1)}})()},[]),f?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Event Type"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Loading..."})})]}):m?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Event Type"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Error loading event types"})})]}):r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Event Type"}),r.jsxs("select",{className:"filter-select",value:s,onChange:g=>{const h=g.target.value;a(h)},children:[r.jsx("option",{value:"",children:"All Event Types"}),c.map(g=>r.jsx("option",{value:g._id,children:g.name},g._id))]})]})},Cv=({selectedVenueType:s,onChange:a})=>{const[c,u]=v.useState([]),[f,p]=v.useState(!0),[m,x]=v.useState(null);return v.useEffect(()=>{(async()=>{try{const h=await Gd();if(Array.isArray(h)){const b=h.map((N,w)=>({_id:`venue-type-${w}`,name:N}));u(b)}}catch(h){console.error("Failed to fetch venue types:",h),x("Failed to load venue types")}finally{p(!1)}})()},[]),f?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Venue Type"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Loading..."})})]}):m?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Venue Type"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Error loading venue types"})})]}):r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Venue Type"}),r.jsxs("select",{className:"filter-select",value:s,onChange:g=>a(g.target.value),children:[r.jsx("option",{value:"",children:"All Venue Types"}),c.map(g=>r.jsx("option",{value:g._id,children:g.name},g._id))]})]})},kv=({serviceSearch:s,selectedServices:a,onSearchChange:c,onAddService:u,onRemoveService:f})=>{const[p,m]=v.useState([]),[x,g]=v.useState(!1),[h,b]=v.useState(null);return v.useEffect(()=>{(async()=>{if(!s.trim()){m([]);return}g(!0),b(null);try{const w=await mv(s);console.log("services: ",w),m(w)}catch(w){b("Failed to fetch services"),console.error(w)}finally{g(!1)}})()},[s]),r.jsxs("div",{className:"services-section",children:[r.jsx("label",{className:"filter-label",children:"Services"}),r.jsx("div",{className:"services-tags",children:a.map(N=>r.jsxs("div",{className:"service-tag",children:[N.name,r.jsx("button",{className:"tag-remove-btn",onClick:()=>f(N._id),children:"×"})]},N._id))}),r.jsxs("div",{className:"services-input-container",children:[r.jsx("input",{type:"text",className:"services-input",value:s,onChange:N=>c(N.target.value),placeholder:"Search for services..."}),x&&r.jsx("div",{className:"services-loading",children:"Loading..."}),h&&r.jsx("div",{className:"services-error",children:h}),!x&&p.length>0&&r.jsx("div",{className:"services-dropdown",children:p.map(N=>r.jsx("div",{className:"service-option",onClick:()=>{u(N)},children:N.name},N._id))})]})]})},Ev=({selectedCity:s,capacity:a,requiresParking:c,serviceSearch:u,selectedServices:f,selectedEventType:p,selectedVenueType:m,onCityChange:x,onCapacityChange:g,onParkingChange:h,onServiceSearchChange:b,onAddService:N,onRemoveService:w,onEventTypeChange:E,onVenueTypeChange:C,onSearch:k})=>{const[R,z]=v.useState([]),[F,K]=v.useState([]);v.useEffect(()=>{const H=async()=>{try{const L=await Yd();if(Array.isArray(L)){const T=L.map((O,Y)=>({_id:`event-type-${Y}`,name:O}));z(T)}}catch(L){console.error("Failed to fetch event types:",L)}},y=async()=>{try{const L=await Gd();if(Array.isArray(L)){const T=L.map((O,Y)=>({_id:`venue-type-${Y}`,name:O}));K(T)}}catch(L){console.error("Failed to fetch venue types:",L)}};H(),y()},[]);const Q=H=>H&&R.find(y=>y._id===H)||null,W=H=>H&&F.find(y=>y._id===H)||null;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"filters-grid",children:[r.jsx(jv,{selectedCity:s,onChange:x}),r.jsx(Nv,{capacity:a,onChange:g}),r.jsx(wv,{requiresParking:c,onChange:h}),r.jsx(Sv,{selectedEventType:p,onChange:H=>{const y=Q(H);E(y)}}),r.jsx(Cv,{selectedVenueType:m,onChange:H=>{const y=W(H);C(y)}})]}),r.jsx(kv,{serviceSearch:u,selectedServices:f,onSearchChange:b,onAddService:N,onRemoveService:w}),r.jsx("div",{className:"search-button-container",children:r.jsx("button",{className:"search-button",onClick:k,children:"Search Rooms"})})]})},Pv=({room:s,onShowLocation:a,onShowContacts:c})=>{var h,b,N,w;const[u,f]=v.useState(!1),[p,m]=v.useState(!1),[x,g]=v.useState(!1);return r.jsx("div",{className:"room-card",children:r.jsxs("div",{className:"room-card-body",children:[r.jsx("h3",{className:"room-title",children:s.name}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Location:"})," ",((h=s.location)==null?void 0:h.name)||"Unknown"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"City:"})," ",(b=s.location)!=null&&b.city?s.location.city.charAt(0).toUpperCase()+s.location.city.slice(1):"Unknown"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Capacity:"})," ",s.maxCapacity," people"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Area:"})," ",s.mt2," m²"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Venue Type:"})," ",((N=s.venueType)==null?void 0:N.name)||"Unknown"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Parking:"})," ",(w=s.location)!=null&&w.parkingInfo?"Yes":"No"]}),s.services&&s.services.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"room-services-title",children:"Room Services:"}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`room-services-list ${u?"expanded":"collapsed"}`,children:s.services.map(E=>r.jsx("span",{className:"room-service-tag",children:E.name},E._id))}),!u&&s.services.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.services.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>f(!u),children:u?"Show less":"Show more"})]})]}),s.locationServices&&s.locationServices.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"room-services-title",children:"Location Services:"}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`room-services-list ${p?"expanded":"collapsed"}`,children:s.locationServices.map(E=>r.jsx("span",{className:"room-service-tag",children:E.name},E._id))}),!p&&s.locationServices.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.locationServices.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>m(!p),children:p?"Show less":"Show more"})]})]}),s.eventTypes&&s.eventTypes.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"room-services-title",children:"Event Types:"}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`room-services-list ${x?"expanded":"collapsed"}`,children:s.eventTypes.map((E,C)=>r.jsx("span",{className:"room-service-tag",children:E.name},C))}),!x&&s.eventTypes.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.eventTypes.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>g(!x),children:x?"Show less":"Show more"})]})]}),r.jsxs("div",{className:"room-action-buttons",children:[r.jsx("button",{className:"action-button location-button",onClick:()=>a(s._id),children:"Show Location"}),r.jsx("button",{className:"action-button contacts-button",onClick:()=>c(s._id),children:"Show Contacts"})]})]})})},bv=({rooms:s,onShowLocation:a,onShowContacts:c})=>r.jsxs("div",{children:[r.jsxs("h2",{className:"results-title",children:["Results ",r.jsx("span",{className:"results-count",children:s.length})]}),r.jsxs("div",{className:"rooms-grid",children:[s.map(u=>r.jsx(Pv,{room:u,onShowLocation:a,onShowContacts:c},u._id)),s.length===0&&r.jsx("p",{className:"no-results",children:"No rooms found matching your criteria."})]})]}),Tv=({location:s})=>{const[a,c]=v.useState(!1),[u,f]=v.useState(!1),[p,m]=v.useState(!1),[x,g]=v.useState(!1);return r.jsxs("div",{className:"modal-location",children:[r.jsx("h2",{children:s.name}),r.jsxs("div",{className:"modal-info-grid",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"ID:"})," ",s._id]}),r.jsxs("p",{children:[r.jsx("strong",{children:"City:"})," ",s.city.charAt(0).toUpperCase()+s.city.slice(1)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Address:"})," ",s.address||"No address provided"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Parking Info:"})," ",s.parkingInfo||"No parking available"]}),s.venueType&&r.jsxs("p",{children:[r.jsx("strong",{children:"Venue Type:"})," ",s.venueType.name]}),s.eventTypes&&s.eventTypes.length>0&&r.jsxs("div",{className:"modal-event-types",children:[r.jsx("p",{children:r.jsx("strong",{children:"Event Types:"})}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`modal-services-list ${a?"expanded":"collapsed"}`,children:s.eventTypes.map((h,b)=>r.jsx("span",{className:"modal-service-tag",children:h.name},b))}),!a&&s.eventTypes.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.eventTypes.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>c(!a),children:a?"Show less":"Show more"})]})]}),s.rooms&&s.rooms.length>0&&r.jsxs("div",{className:"modal-rooms",children:[r.jsx("p",{children:r.jsx("strong",{children:"Rooms:"})}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`modal-services-list ${u?"expanded":"collapsed"}`,children:s.rooms.map((h,b)=>r.jsxs("div",{className:"modal-room-item",children:[r.jsxs("p",{children:[r.jsx("strong",{children:h.name})," - ",h.maxCapacity," capacity, ",h.mt2," m²"]}),h.serviceDetails&&h.serviceDetails.length>0&&r.jsx("div",{className:"room-service-details",children:r.jsxs("small",{children:["Services: ",h.serviceDetails.map(N=>N.name).join(", ")]})})]},b))}),!u&&s.rooms.length>2&&r.jsx("div",{className:"list-fade-gradient"}),s.rooms.length>2&&r.jsx("button",{className:"toggle-list-button",onClick:()=>f(!u),children:u?"Show less":"Show more"})]})]}),s.services&&s.services.length>0&&r.jsxs("div",{className:"modal-services",children:[r.jsx("p",{children:r.jsx("strong",{children:"Services:"})}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`modal-services-list ${p?"expanded":"collapsed"}`,children:s.services.map((h,b)=>r.jsx("span",{className:"modal-service-tag",children:h.name},b))}),!p&&s.services.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.services.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>m(!p),children:p?"Show less":"Show more"})]})]}),s.contacts&&s.contacts.length>0&&r.jsxs("div",{className:"modal-contacts",children:[r.jsx("p",{children:r.jsx("strong",{children:"Contacts:"})}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`modal-services-list ${x?"expanded":"collapsed"}`,children:s.contacts.map((h,b)=>r.jsx("span",{className:"modal-service-tag",children:h.name||`Contact ${b+1}`},b))}),!x&&s.contacts.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.contacts.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>g(!x),children:x?"Show less":"Show more"})]})]})]})]})},_v=({location:s,contacts:a})=>{const c=typeof s=="object"&&s!==null?s.name||"Unknown Location":s||"Unknown Location";console.log("Contacts in modal:",a),console.log("Location in modal:",s);const u=Array.isArray(a)&&a.length>0;return r.jsxs("div",{className:"modal-contacts",children:[r.jsxs("h2",{children:["Contacts for ",c]}),u?r.jsx("div",{className:"contacts-list",children:a.map((f,p)=>r.jsxs("div",{className:"contact-card",children:[r.jsx("h3",{children:f.name||"Unnamed Contact"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Role:"})," ",f.role||"N/A"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," ",f.tel||"N/A"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",f.email||"N/A"]})]},f._id||`contact-${p}`))}):r.jsx("p",{className:"no-contacts",children:"No contacts available for this location."})]})},Rv=({isOpen:s,modalType:a,roomId:c,onClose:u})=>{const[f,p]=v.useState([]),[m,x]=v.useState(null),[g,h]=v.useState(!1),[b,N]=v.useState(null);if(v.useEffect(()=>{(async()=>{if(!(!s||!c)){h(!0),N(null);try{if(a==="location"){const C=await vv(c);console.log("Location data:",C),x(C)}if(a==="contacts"){const C=await xv(c);if(console.log("Contacts data:",C),Array.isArray(C)&&C.length>0){const k=C.map(R=>({_id:R._id||`contact-${Math.random()}`,name:R.name||"Unknown",role:R.role||"Unknown",tel:R.tel||R.phone||"",email:R.email||""}));p(k)}else console.warn("No contacts data found or invalid format:",C),p([])}}catch(C){console.error("Error fetching modal data:",C),N("Failed to load data")}finally{h(!1)}}})()},[s,a,c]),!s||!c)return null;if(g)return r.jsx("div",{className:"modal-overlay",onClick:u,children:r.jsxs("div",{className:"modal-content",onClick:E=>E.stopPropagation(),children:[r.jsx("button",{className:"modal-close-button",onClick:u,children:"×"}),r.jsx("div",{className:"loading-container",children:"Loading..."})]})});if(b)return r.jsx("div",{className:"modal-overlay",onClick:u,children:r.jsxs("div",{className:"modal-content",onClick:E=>E.stopPropagation(),children:[r.jsx("button",{className:"modal-close-button",onClick:u,children:"×"}),r.jsx("div",{className:"error-container",children:b})]})});const w=()=>{switch(a){case"location":return m?r.jsx(Tv,{location:m}):r.jsx("div",{className:"error-container",children:"Location data not available"});case"contacts":return r.jsx(_v,{location:m||{name:"Unknown Location"},contacts:f});default:return r.jsx("div",{className:"error-container",children:"Unknown modal type"})}};return r.jsx("div",{className:"modal-overlay",onClick:u,children:r.jsxs("div",{className:"modal-content",onClick:E=>E.stopPropagation(),children:[r.jsx("button",{className:"modal-close-button",onClick:u,children:"×"}),w()]})})},zv=()=>{const[s,a]=v.useState(""),[c,u]=v.useState(""),[f,p]=v.useState(!1),[m,x]=v.useState(""),[g,h]=v.useState([]),[b,N]=v.useState(null),[w,E]=v.useState(null),[C,k]=v.useState([]),[R,z]=v.useState(!1),[F,K]=v.useState(null),[Q,W]=v.useState(1),[H,y]=v.useState(1),[L,T]=v.useState(0),[O,Y]=v.useState(!1),[J,X]=v.useState(null),[se,ve]=v.useState(null),[xe,me]=v.useState({city:"",capacity:"",requiresParking:!1,serviceIds:[],eventType:"",venueType:""}),G=le=>{const pe={_id:le._id,name:le.name};g.some(ge=>ge._id===pe._id)||h([...g,pe]),x("")},oe=le=>{h(g.filter(pe=>pe._id!==le))},ee=()=>{const le=g.map(ge=>ge._id).filter(ge=>ge),pe={city:s,capacity:c===""?"":c.toString(),requiresParking:f,serviceIds:le,eventType:b?b._id:"",venueType:w?w._id:""};me(pe),W(1),re(pe,1)},_=le=>{W(le),re(xe,le)},$=le=>{X("location"),ve(le),Y(!0)},fe=le=>{X("contacts"),ve(le),Y(!0)},M=()=>{Y(!1),ve(null)},re=async(le,pe)=>{z(!0),K(null);try{const ge=await yv(le,pe);k(ge.rooms),W(ge.pagination.currentPage),y(ge.pagination.totalPages),T(ge.pagination.totalCount)}catch(ge){console.error("Failed to fetch rooms:",ge),K("Failed to fetch rooms"),k([])}finally{z(!1)}},de=()=>{if(H<=1)return null;const le=[],pe=5;let ge=Math.max(1,Q-Math.floor(pe/2));const Le=Math.min(H,ge+pe-1);Le-ge+1<pe&&(ge=Math.max(1,Le-pe+1)),le.push(r.jsx("button",{onClick:()=>_(Math.max(1,Q-1)),disabled:Q===1,className:"pagination-button",children:"«"},"prev")),ge>1&&(le.push(r.jsx("button",{onClick:()=>_(1),className:"pagination-button",children:"1"},1)),ge>2&&le.push(r.jsx("span",{className:"pagination-ellipsis",children:"..."},"ellipsis1")));for(let gt=ge;gt<=Le;gt++)le.push(r.jsx("button",{onClick:()=>_(gt),className:`pagination-button ${Q===gt?"active":""}`,children:gt},gt));return Le<H&&(Le<H-1&&le.push(r.jsx("span",{className:"pagination-ellipsis",children:"..."},"ellipsis2")),le.push(r.jsx("button",{onClick:()=>_(H),className:"pagination-button",children:H},H))),le.push(r.jsx("button",{onClick:()=>_(Math.min(H,Q+1)),disabled:Q===H,className:"pagination-button",children:"»"},"next")),r.jsxs("div",{className:"pagination-container",children:[le,r.jsxs("div",{className:"pagination-info",children:["Showing ",C.length," of ",L," results"]})]})};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"room-search-container fade-in",children:[r.jsx("h1",{className:"page-title",children:"Room Search"}),r.jsx(Ev,{selectedCity:s,capacity:c,requiresParking:f,serviceSearch:m,selectedServices:g,selectedEventType:b?b._id:"",selectedVenueType:w?w._id:"",onCityChange:a,onCapacityChange:u,onParkingChange:p,onServiceSearchChange:x,onAddService:G,onRemoveService:oe,onEventTypeChange:N,onVenueTypeChange:E,onSearch:ee}),R?r.jsx("div",{className:"loading-container",children:"Loading rooms..."}):F?r.jsx("div",{className:"error-container",children:F}):r.jsxs(r.Fragment,{children:[r.jsx(bv,{rooms:C,onShowLocation:$,onShowContacts:fe}),de()]})]}),r.jsx("div",{children:r.jsx(Rv,{isOpen:O,modalType:J,roomId:se,onClose:M})})]})},Iv=()=>r.jsx(zv,{}),Lv=()=>{const[s,a]=v.useState(null),[c,u]=v.useState(!1),[f,p]=v.useState(!1),m=ht(),x=Vt();v.useEffect(()=>{(async()=>{try{const N=await mg();N&&a(N)}catch(N){console.error("Failed to fetch user:",N)}})()},[]),v.useEffect(()=>{u(!1),p(!1)},[x]);const g=async()=>{try{await hg(),a(null),m("/login")}catch(b){console.error("Failed to log out:",b),alert("Errore durante il logout. Riprova.")}},h=[{path:"/",label:"Dashboard",icon:"🏠"},{path:"/users",label:"Utenti",icon:"👥"},{path:"/locations",label:"Location",icon:"📍"},{path:"/reservations",label:"Prenotazioni",icon:"📅"},{path:"/refund-policies",label:"Politiche Rimborso",icon:"💰"},{path:"/scraping",label:"Importazione",icon:"🔄"}];return r.jsxs("div",{className:"app-layout",children:[r.jsx("header",{className:"app-header",children:r.jsxs("div",{className:"header-container",children:[r.jsxs("div",{className:"header-left",children:[r.jsxs("button",{className:"mobile-menu-toggle",onClick:()=>u(!c),"aria-label":"Toggle menu","aria-expanded":c,children:[r.jsx("span",{className:"hamburger-line"}),r.jsx("span",{className:"hamburger-line"}),r.jsx("span",{className:"hamburger-line"})]}),r.jsx("h1",{className:"app-title",children:"LocaTrova Admin"})]}),r.jsx("nav",{className:`main-nav ${c?"mobile-open":""}`,children:r.jsx("ul",{className:"nav-list",children:h.map(b=>r.jsx("li",{className:"nav-item",children:r.jsxs(Id,{to:b.path,className:({isActive:N})=>`nav-link ${N?"active":""}`,children:[r.jsx("span",{className:"nav-icon","aria-hidden":"true",children:b.icon}),r.jsx("span",{className:"nav-label",children:b.label})]})},b.path))})}),r.jsx("div",{className:"header-right",children:s&&r.jsxs("div",{className:"user-menu-container",children:[r.jsxs("button",{className:"user-menu-toggle",onClick:()=>p(!f),"aria-label":"User menu","aria-expanded":f,children:[r.jsx("div",{className:"user-avatar",children:(s.username||s.email||"U").charAt(0).toUpperCase()}),r.jsx("span",{className:"user-name",children:s.username||s.email}),r.jsx("svg",{className:`dropdown-arrow ${f?"open":""}`,width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:r.jsx("path",{d:"M2.5 4.5L6 8L9.5 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),f&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"dropdown-overlay",onClick:()=>p(!1),"aria-hidden":"true"}),r.jsxs("div",{className:"user-dropdown",children:[r.jsx("div",{className:"dropdown-header",children:r.jsxs("div",{className:"dropdown-user-info",children:[r.jsx("p",{className:"dropdown-username",children:s.username}),s.email&&r.jsx("p",{className:"dropdown-email",children:s.email})]})}),r.jsx("div",{className:"dropdown-divider"}),r.jsxs("button",{className:"dropdown-item logout-item",onClick:g,children:[r.jsxs("svg",{className:"dropdown-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"}),r.jsx("path",{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),"Logout"]})]})]})]})})]})}),r.jsx("main",{className:"app-main",children:r.jsx("div",{className:"main-container",children:r.jsx(Xh,{})})})]})};function Dv(){const[s,a]=v.useState(null);return v.useEffect(()=>{(async()=>{try{const c=await Wa();a(c.isAuthenticated)}catch{a(!1)}})()},[]),s===null?r.jsx("div",{className:"auth-loading",children:r.jsx("div",{className:"spinner",role:"status","aria-label":"Verifica autenticazione",children:r.jsx("span",{className:"sr-only",children:"Caricamento..."})})}):s?r.jsx(Lv,{}):r.jsx(Td,{to:"/login",replace:!0})}function Av(){return r.jsxs(Zh,{children:[r.jsx(tt,{path:"/login",element:r.jsx(gg,{})}),r.jsxs(tt,{element:r.jsx(Dv,{}),children:[r.jsx(tt,{path:"/",element:r.jsx(zm,{})}),r.jsx(tt,{path:"/users",element:r.jsx(Eg,{})}),r.jsx(tt,{path:"/users/:userId",element:r.jsx(Pg,{})}),r.jsx(tt,{path:"/locations",element:r.jsx(Ag,{})}),r.jsx(tt,{path:"/locations/:locationId",element:r.jsx(Fg,{})}),r.jsx(tt,{path:"/location/create",element:r.jsx(Jg,{})}),r.jsx(tt,{path:"/reservations",element:r.jsx(pv,{})}),r.jsx(tt,{path:"/reservation/:reservationId",element:r.jsx(hv,{})}),r.jsx(tt,{path:"/refund-policies",element:r.jsx("div",{children:"Refund Policies Page - Coming Soon"})}),r.jsx(tt,{path:"/scraping",element:r.jsx(Iv,{})})]}),r.jsx(tt,{path:"*",element:r.jsx(Td,{to:"/",replace:!0})})]})}lh.createRoot(document.getElementById("root")).render(r.jsx(Zp.StrictMode,{children:r.jsx(Sm,{basename:"/locatrova-admin-fe",children:r.jsx(Av,{})})}));
//# sourceMappingURL=index-D0boXjGm.js.map
