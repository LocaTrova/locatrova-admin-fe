var Wp=Object.defineProperty;var qp=(s,a,c)=>a in s?Wp(s,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[a]=c;var ot=(s,a,c)=>qp(s,typeof a!="symbol"?a+"":a,c);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const p of f)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function c(f){const p={};return f.integrity&&(p.integrity=f.integrity),f.referrerPolicy&&(p.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?p.credentials="include":f.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(f){if(f.ep)return;f.ep=!0;const p=c(f);fetch(f.href,p)}})();var ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ia(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var aa={exports:{}},Ur={},oa={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu;function Qp(){if(Uu)return he;Uu=1;var s=Symbol.for("react.element"),a=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),j=Symbol.iterator;function N(b){return b===null||typeof b!="object"?null:(b=j&&b[j]||b["@@iterator"],typeof b=="function"?b:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function R(b,O,ue){this.props=b,this.context=O,this.refs=k,this.updater=ue||P}R.prototype.isReactComponent={},R.prototype.setState=function(b,O){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,O,"setState")},R.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function z(){}z.prototype=R.prototype;function F(b,O,ue){this.props=b,this.context=O,this.refs=k,this.updater=ue||P}var Q=F.prototype=new z;Q.constructor=F,C(Q,R.prototype),Q.isPureReactComponent=!0;var q=Array.isArray,H=Object.prototype.hasOwnProperty,Y={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(b,O,ue){var M,te={},oe=null,re=null;if(O!=null)for(M in O.ref!==void 0&&(re=O.ref),O.key!==void 0&&(oe=""+O.key),O)H.call(O,M)&&!S.hasOwnProperty(M)&&(te[M]=O[M]);var de=arguments.length-2;if(de===1)te.children=ue;else if(1<de){for(var pe=Array(de),_e=0;_e<de;_e++)pe[_e]=arguments[_e+2];te.children=pe}if(b&&b.defaultProps)for(M in de=b.defaultProps,de)te[M]===void 0&&(te[M]=de[M]);return{$$typeof:s,type:b,key:oe,ref:re,props:te,_owner:Y.current}}function _(b,O){return{$$typeof:s,type:b.type,key:O,ref:b.ref,props:b.props,_owner:b._owner}}function W(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function J(b){var O={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ue){return O[ue]})}var ge=/\/+/g;function ce(b,O){return typeof b=="object"&&b!==null&&b.key!=null?J(""+b.key):O.toString(36)}function me(b,O,ue,M,te){var oe=typeof b;(oe==="undefined"||oe==="boolean")&&(b=null);var re=!1;if(b===null)re=!0;else switch(oe){case"string":case"number":re=!0;break;case"object":switch(b.$$typeof){case s:case a:re=!0}}if(re)return re=b,te=te(re),b=M===""?"."+ce(re,0):M,q(te)?(ue="",b!=null&&(ue=b.replace(ge,"$&/")+"/"),me(te,O,ue,"",function(_e){return _e})):te!=null&&(W(te)&&(te=_(te,ue+(!te.key||re&&re.key===te.key?"":(""+te.key).replace(ge,"$&/")+"/")+b)),O.push(te)),1;if(re=0,M=M===""?".":M+":",q(b))for(var de=0;de<b.length;de++){oe=b[de];var pe=M+ce(oe,de);re+=me(oe,O,ue,pe,te)}else if(pe=N(b),typeof pe=="function")for(b=pe.call(b),de=0;!(oe=b.next()).done;)oe=oe.value,pe=M+ce(oe,de++),re+=me(oe,O,ue,pe,te);else if(oe==="object")throw O=String(b),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return re}function ye(b,O,ue){if(b==null)return b;var M=[],te=0;return me(b,M,"","",function(oe){return O.call(ue,oe,te++)}),M}function we(b){if(b._status===-1){var O=b._result;O=O(),O.then(function(ue){(b._status===0||b._status===-1)&&(b._status=1,b._result=ue)},function(ue){(b._status===0||b._status===-1)&&(b._status=2,b._result=ue)}),b._status===-1&&(b._status=0,b._result=O)}if(b._status===1)return b._result.default;throw b._result}var je={current:null},K={transition:null},se={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:K,ReactCurrentOwner:Y};function X(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:ye,forEach:function(b,O,ue){ye(b,function(){O.apply(this,arguments)},ue)},count:function(b){var O=0;return ye(b,function(){O++}),O},toArray:function(b){return ye(b,function(O){return O})||[]},only:function(b){if(!W(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},he.Component=R,he.Fragment=c,he.Profiler=f,he.PureComponent=F,he.StrictMode=u,he.Suspense=v,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,he.act=X,he.cloneElement=function(b,O,ue){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var M=C({},b.props),te=b.key,oe=b.ref,re=b._owner;if(O!=null){if(O.ref!==void 0&&(oe=O.ref,re=Y.current),O.key!==void 0&&(te=""+O.key),b.type&&b.type.defaultProps)var de=b.type.defaultProps;for(pe in O)H.call(O,pe)&&!S.hasOwnProperty(pe)&&(M[pe]=O[pe]===void 0&&de!==void 0?de[pe]:O[pe])}var pe=arguments.length-2;if(pe===1)M.children=ue;else if(1<pe){de=Array(pe);for(var _e=0;_e<pe;_e++)de[_e]=arguments[_e+2];M.children=de}return{$$typeof:s,type:b.type,key:te,ref:oe,props:M,_owner:re}},he.createContext=function(b){return b={$$typeof:m,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:p,_context:b},b.Consumer=b},he.createElement=A,he.createFactory=function(b){var O=A.bind(null,b);return O.type=b,O},he.createRef=function(){return{current:null}},he.forwardRef=function(b){return{$$typeof:y,render:b}},he.isValidElement=W,he.lazy=function(b){return{$$typeof:T,_payload:{_status:-1,_result:b},_init:we}},he.memo=function(b,O){return{$$typeof:h,type:b,compare:O===void 0?null:O}},he.startTransition=function(b){var O=K.transition;K.transition={};try{b()}finally{K.transition=O}},he.unstable_act=X,he.useCallback=function(b,O){return je.current.useCallback(b,O)},he.useContext=function(b){return je.current.useContext(b)},he.useDebugValue=function(){},he.useDeferredValue=function(b){return je.current.useDeferredValue(b)},he.useEffect=function(b,O){return je.current.useEffect(b,O)},he.useId=function(){return je.current.useId()},he.useImperativeHandle=function(b,O,ue){return je.current.useImperativeHandle(b,O,ue)},he.useInsertionEffect=function(b,O){return je.current.useInsertionEffect(b,O)},he.useLayoutEffect=function(b,O){return je.current.useLayoutEffect(b,O)},he.useMemo=function(b,O){return je.current.useMemo(b,O)},he.useReducer=function(b,O,ue){return je.current.useReducer(b,O,ue)},he.useRef=function(b){return je.current.useRef(b)},he.useState=function(b){return je.current.useState(b)},he.useSyncExternalStore=function(b,O,ue){return je.current.useSyncExternalStore(b,O,ue)},he.useTransition=function(){return je.current.useTransition()},he.version="18.3.1",he}var Vu;function _a(){return Vu||(Vu=1,oa.exports=Qp()),oa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu;function Kp(){if(Bu)return Ur;Bu=1;var s=_a(),a=Symbol.for("react.element"),c=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,f=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function m(y,v,h){var T,j={},N=null,P=null;h!==void 0&&(N=""+h),v.key!==void 0&&(N=""+v.key),v.ref!==void 0&&(P=v.ref);for(T in v)u.call(v,T)&&!p.hasOwnProperty(T)&&(j[T]=v[T]);if(y&&y.defaultProps)for(T in v=y.defaultProps,v)j[T]===void 0&&(j[T]=v[T]);return{$$typeof:a,type:y,key:N,ref:P,props:j,_owner:f.current}}return Ur.Fragment=c,Ur.jsx=m,Ur.jsxs=m,Ur}var Hu;function Yp(){return Hu||(Hu=1,aa.exports=Kp()),aa.exports}var r=Yp(),g=_a();const Gp=Ia(g);var rs={},ca={exports:{}},tt={},ua={exports:{}},da={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu;function Xp(){return Wu||(Wu=1,function(s){function a(K,se){var X=K.length;K.push(se);e:for(;0<X;){var b=X-1>>>1,O=K[b];if(0<f(O,se))K[b]=se,K[X]=O,X=b;else break e}}function c(K){return K.length===0?null:K[0]}function u(K){if(K.length===0)return null;var se=K[0],X=K.pop();if(X!==se){K[0]=X;e:for(var b=0,O=K.length,ue=O>>>1;b<ue;){var M=2*(b+1)-1,te=K[M],oe=M+1,re=K[oe];if(0>f(te,X))oe<O&&0>f(re,te)?(K[b]=re,K[oe]=X,b=oe):(K[b]=te,K[M]=X,b=M);else if(oe<O&&0>f(re,X))K[b]=re,K[oe]=X,b=oe;else break e}}return se}function f(K,se){var X=K.sortIndex-se.sortIndex;return X!==0?X:K.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;s.unstable_now=function(){return p.now()}}else{var m=Date,y=m.now();s.unstable_now=function(){return m.now()-y}}var v=[],h=[],T=1,j=null,N=3,P=!1,C=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(K){for(var se=c(h);se!==null;){if(se.callback===null)u(h);else if(se.startTime<=K)u(h),se.sortIndex=se.expirationTime,a(v,se);else break;se=c(h)}}function q(K){if(k=!1,Q(K),!C)if(c(v)!==null)C=!0,we(H);else{var se=c(h);se!==null&&je(q,se.startTime-K)}}function H(K,se){C=!1,k&&(k=!1,z(A),A=-1),P=!0;var X=N;try{for(Q(se),j=c(v);j!==null&&(!(j.expirationTime>se)||K&&!J());){var b=j.callback;if(typeof b=="function"){j.callback=null,N=j.priorityLevel;var O=b(j.expirationTime<=se);se=s.unstable_now(),typeof O=="function"?j.callback=O:j===c(v)&&u(v),Q(se)}else u(v);j=c(v)}if(j!==null)var ue=!0;else{var M=c(h);M!==null&&je(q,M.startTime-se),ue=!1}return ue}finally{j=null,N=X,P=!1}}var Y=!1,S=null,A=-1,_=5,W=-1;function J(){return!(s.unstable_now()-W<_)}function ge(){if(S!==null){var K=s.unstable_now();W=K;var se=!0;try{se=S(!0,K)}finally{se?ce():(Y=!1,S=null)}}else Y=!1}var ce;if(typeof F=="function")ce=function(){F(ge)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ye=me.port2;me.port1.onmessage=ge,ce=function(){ye.postMessage(null)}}else ce=function(){R(ge,0)};function we(K){S=K,Y||(Y=!0,ce())}function je(K,se){A=R(function(){K(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_continueExecution=function(){C||P||(C=!0,we(H))},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_getFirstCallbackNode=function(){return c(v)},s.unstable_next=function(K){switch(N){case 1:case 2:case 3:var se=3;break;default:se=N}var X=N;N=se;try{return K()}finally{N=X}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var X=N;N=K;try{return se()}finally{N=X}},s.unstable_scheduleCallback=function(K,se,X){var b=s.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?b+X:b):X=b,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=X+O,K={id:T++,callback:se,priorityLevel:K,startTime:X,expirationTime:O,sortIndex:-1},X>b?(K.sortIndex=X,a(h,K),c(v)===null&&K===c(h)&&(k?(z(A),A=-1):k=!0,je(q,X-b))):(K.sortIndex=O,a(v,K),C||P||(C=!0,we(H))),K},s.unstable_shouldYield=J,s.unstable_wrapCallback=function(K){var se=N;return function(){var X=N;N=se;try{return K.apply(this,arguments)}finally{N=X}}}}(da)),da}var qu;function Jp(){return qu||(qu=1,ua.exports=Xp()),ua.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu;function Zp(){if(Qu)return tt;Qu=1;var s=_a(),a=Jp();function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,f={};function p(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(f[e]=t,e=0;e<t.length;e++)u.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},j={};function N(e){return v.call(j,e)?!0:v.call(T,e)?!1:h.test(e)?j[e]=!0:(T[e]=!0,!1)}function P(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,n,i){if(t===null||typeof t>"u"||P(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,n,i,l,o,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=d}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function F(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z,F);R[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z,F);R[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z,F);R[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function Q(e,t,n,i){var l=R.hasOwnProperty(t)?R[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,n,l,i)&&(n=null),i||l===null?N(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,i=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var q=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),Y=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),J=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),K=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,b;function O(e){if(b===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var ue=!1;function M(e,t){if(!e||ue)return"";ue=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(D){var i=D}Reflect.construct(e,[],t)}else{try{t.call()}catch(D){i=D}e.call(t.prototype)}else{try{throw Error()}catch(D){i=D}e()}}catch(D){if(D&&i&&typeof D.stack=="string"){for(var l=D.stack.split(`
`),o=i.stack.split(`
`),d=l.length-1,x=o.length-1;1<=d&&0<=x&&l[d]!==o[x];)x--;for(;1<=d&&0<=x;d--,x--)if(l[d]!==o[x]){if(d!==1||x!==1)do if(d--,x--,0>x||l[d]!==o[x]){var w=`
`+l[d].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=d&&0<=x);break}}}finally{ue=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function te(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1),e;case 11:return e=M(e.type.render,!1),e;case 1:return e=M(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case Y:return"Portal";case _:return"Profiler";case A:return"StrictMode";case ce:return"Suspense";case me:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J:return(e.displayName||"Context")+".Consumer";case W:return(e._context.displayName||"Context")+".Provider";case ge:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}function re(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _e(e){var t=pe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(d){i=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yt(e){e._valueTracker||(e._valueTracker=_e(e))}function qa(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=pe(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hs(e,t){var n=t.checked;return X({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qa(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=de(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ka(e,t){t=t.checked,t!=null&&Q(e,"checked",t,!1)}function ms(e,t){Ka(e,t);var n=de(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gs(e,t.type,n):t.hasOwnProperty("defaultValue")&&gs(e,t.type,de(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ya(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gs(e,t,n){(t!=="number"||Qr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nr=Array.isArray;function Pn(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+de(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function vs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(c(91));return X({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ga(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(c(92));if(nr(n)){if(1<n.length)throw Error(c(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:de(n)}}function Xa(e,t){var n=de(t.value),i=de(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Ja(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Za(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ys(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Za(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kr,eo=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yd=["Webkit","ms","Moz","O"];Object.keys(ir).forEach(function(e){Yd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ir[t]=ir[e]})});function to(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ir.hasOwnProperty(e)&&ir[e]?(""+t).trim():t+"px"}function no(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,l=to(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,l):e[n]=l}}var Gd=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xs(e,t){if(t){if(Gd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(c(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(t.style!=null&&typeof t.style!="object")throw Error(c(62))}}function js(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ns=null;function ws(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,Tn=null,bn=null;function ro(e){if(e=Er(e)){if(typeof Ss!="function")throw Error(c(280));var t=e.stateNode;t&&(t=vi(t),Ss(e.stateNode,e.type,t))}}function io(e){Tn?bn?bn.push(e):bn=[e]:Tn=e}function so(){if(Tn){var e=Tn,t=bn;if(bn=Tn=null,ro(e),t)for(e=0;e<t.length;e++)ro(t[e])}}function lo(e,t){return e(t)}function ao(){}var Cs=!1;function oo(e,t,n){if(Cs)return e(t,n);Cs=!0;try{return lo(e,t,n)}finally{Cs=!1,(Tn!==null||bn!==null)&&(ao(),so())}}function sr(e,t){var n=e.stateNode;if(n===null)return null;var i=vi(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var ks=!1;if(y)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){ks=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{ks=!1}function Xd(e,t,n,i,l,o,d,x,w){var D=Array.prototype.slice.call(arguments,3);try{t.apply(n,D)}catch(U){this.onError(U)}}var ar=!1,Yr=null,Gr=!1,Es=null,Jd={onError:function(e){ar=!0,Yr=e}};function Zd(e,t,n,i,l,o,d,x,w){ar=!1,Yr=null,Xd.apply(Jd,arguments)}function ef(e,t,n,i,l,o,d,x,w){if(Zd.apply(this,arguments),ar){if(ar){var D=Yr;ar=!1,Yr=null}else throw Error(c(198));Gr||(Gr=!0,Es=D)}}function pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function co(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uo(e){if(pn(e)!==e)throw Error(c(188))}function tf(e){var t=e.alternate;if(!t){if(t=pn(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return uo(l),e;if(o===i)return uo(l),t;o=o.sibling}throw Error(c(188))}if(n.return!==i.return)n=l,i=o;else{for(var d=!1,x=l.child;x;){if(x===n){d=!0,n=l,i=o;break}if(x===i){d=!0,i=l,n=o;break}x=x.sibling}if(!d){for(x=o.child;x;){if(x===n){d=!0,n=o,i=l;break}if(x===i){d=!0,i=o,n=l;break}x=x.sibling}if(!d)throw Error(c(189))}}if(n.alternate!==i)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function fo(e){return e=tf(e),e!==null?po(e):null}function po(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=po(e);if(t!==null)return t;e=e.sibling}return null}var ho=a.unstable_scheduleCallback,mo=a.unstable_cancelCallback,nf=a.unstable_shouldYield,rf=a.unstable_requestPaint,ze=a.unstable_now,sf=a.unstable_getCurrentPriorityLevel,Ps=a.unstable_ImmediatePriority,go=a.unstable_UserBlockingPriority,Xr=a.unstable_NormalPriority,lf=a.unstable_LowPriority,vo=a.unstable_IdlePriority,Jr=null,Tt=null;function af(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Jr,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:uf,of=Math.log,cf=Math.LN2;function uf(e){return e>>>=0,e===0?32:31-(of(e)/cf|0)|0}var Zr=64,ei=4194304;function or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ti(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,l=e.suspendedLanes,o=e.pingedLanes,d=n&268435455;if(d!==0){var x=d&~l;x!==0?i=or(x):(o&=d,o!==0&&(i=or(o)))}else d=n&~l,d!==0?i=or(d):o!==0&&(i=or(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&l)&&(l=i&-i,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-xt(t),l=1<<n,i|=e[n],t&=~l;return i}function df(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ff(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var d=31-xt(o),x=1<<d,w=l[d];w===-1?(!(x&n)||x&i)&&(l[d]=df(x,t)):w<=t&&(e.expiredLanes|=x),o&=~x}}function Ts(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yo(){var e=Zr;return Zr<<=1,!(Zr&4194240)&&(Zr=64),e}function bs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=n}function pf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-xt(n),o=1<<l;t[l]=0,i[l]=-1,e[l]=-1,n&=~o}}function Rs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xt(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}var Ne=0;function xo(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jo,zs,No,wo,So,Ls=!1,ni=[],Ht=null,Wt=null,qt=null,ur=new Map,dr=new Map,Qt=[],hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Co(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(t.pointerId)}}function fr(e,t,n,i,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},t!==null&&(t=Er(t),t!==null&&zs(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function mf(e,t,n,i,l){switch(t){case"focusin":return Ht=fr(Ht,e,t,n,i,l),!0;case"dragenter":return Wt=fr(Wt,e,t,n,i,l),!0;case"mouseover":return qt=fr(qt,e,t,n,i,l),!0;case"pointerover":var o=l.pointerId;return ur.set(o,fr(ur.get(o)||null,e,t,n,i,l)),!0;case"gotpointercapture":return o=l.pointerId,dr.set(o,fr(dr.get(o)||null,e,t,n,i,l)),!0}return!1}function ko(e){var t=hn(e.target);if(t!==null){var n=pn(t);if(n!==null){if(t=n.tag,t===13){if(t=co(n),t!==null){e.blockedOn=t,So(e.priority,function(){No(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_s(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Ns=i,n.target.dispatchEvent(i),Ns=null}else return t=Er(n),t!==null&&zs(t),e.blockedOn=n,!1;t.shift()}return!0}function Eo(e,t,n){ri(e)&&n.delete(t)}function gf(){Ls=!1,Ht!==null&&ri(Ht)&&(Ht=null),Wt!==null&&ri(Wt)&&(Wt=null),qt!==null&&ri(qt)&&(qt=null),ur.forEach(Eo),dr.forEach(Eo)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ls||(Ls=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,gf)))}function hr(e){function t(l){return pr(l,e)}if(0<ni.length){pr(ni[0],e);for(var n=1;n<ni.length;n++){var i=ni[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Ht!==null&&pr(Ht,e),Wt!==null&&pr(Wt,e),qt!==null&&pr(qt,e),ur.forEach(t),dr.forEach(t),n=0;n<Qt.length;n++)i=Qt[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Qt.length&&(n=Qt[0],n.blockedOn===null);)ko(n),n.blockedOn===null&&Qt.shift()}var Rn=q.ReactCurrentBatchConfig,ii=!0;function vf(e,t,n,i){var l=Ne,o=Rn.transition;Rn.transition=null;try{Ne=1,Is(e,t,n,i)}finally{Ne=l,Rn.transition=o}}function yf(e,t,n,i){var l=Ne,o=Rn.transition;Rn.transition=null;try{Ne=4,Is(e,t,n,i)}finally{Ne=l,Rn.transition=o}}function Is(e,t,n,i){if(ii){var l=_s(e,t,n,i);if(l===null)Xs(e,t,i,si,n),Co(e,i);else if(mf(l,e,t,n,i))i.stopPropagation();else if(Co(e,i),t&4&&-1<hf.indexOf(e)){for(;l!==null;){var o=Er(l);if(o!==null&&jo(o),o=_s(e,t,n,i),o===null&&Xs(e,t,i,si,n),o===l)break;l=o}l!==null&&i.stopPropagation()}else Xs(e,t,i,null,n)}}var si=null;function _s(e,t,n,i){if(si=null,e=ws(i),e=hn(e),e!==null)if(t=pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=co(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return si=e,null}function Po(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sf()){case Ps:return 1;case go:return 4;case Xr:case lf:return 16;case vo:return 536870912;default:return 16}default:return 16}}var Kt=null,Ds=null,li=null;function To(){if(li)return li;var e,t=Ds,n=t.length,i,l="value"in Kt?Kt.value:Kt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===l[o-i];i++);return li=l.slice(e,1<i?1-i:void 0)}function ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function bo(){return!1}function it(e){function t(n,i,l,o,d){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(o):o[x]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oi:bo,this.isPropagationStopped=bo,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=it(zn),mr=X({},zn,{view:0,detail:0}),xf=it(mr),As,Ms,gr,ci=X({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(As=e.screenX-gr.screenX,Ms=e.screenY-gr.screenY):Ms=As=0,gr=e),As)},movementY:function(e){return"movementY"in e?e.movementY:Ms}}),Ro=it(ci),jf=X({},ci,{dataTransfer:0}),Nf=it(jf),wf=X({},mr,{relatedTarget:0}),Os=it(wf),Sf=X({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Cf=it(Sf),kf=X({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ef=it(kf),Pf=X({},zn,{data:0}),zo=it(Pf),Tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rf[e])?!!t[e]:!1}function $s(){return zf}var Lf=X({},mr,{key:function(e){if(e.key){var t=Tf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),If=it(Lf),_f=X({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lo=it(_f),Df=X({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),Ff=it(Df),Af=X({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mf=it(Af),Of=X({},ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$f=it(Of),Uf=[9,13,27,32],Us=y&&"CompositionEvent"in window,vr=null;y&&"documentMode"in document&&(vr=document.documentMode);var Vf=y&&"TextEvent"in window&&!vr,Io=y&&(!Us||vr&&8<vr&&11>=vr),_o=" ",Do=!1;function Fo(e,t){switch(e){case"keyup":return Uf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function Bf(e,t){switch(e){case"compositionend":return Ao(t);case"keypress":return t.which!==32?null:(Do=!0,_o);case"textInput":return e=t.data,e===_o&&Do?null:e;default:return null}}function Hf(e,t){if(Ln)return e==="compositionend"||!Us&&Fo(e,t)?(e=To(),li=Ds=Kt=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Io&&t.locale!=="ko"?null:t.data;default:return null}}var Wf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wf[e.type]:t==="textarea"}function Oo(e,t,n,i){io(i),t=hi(t,"onChange"),0<t.length&&(n=new Fs("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var yr=null,xr=null;function qf(e){rc(e,0)}function ui(e){var t=An(e);if(qa(t))return e}function Qf(e,t){if(e==="change")return t}var $o=!1;if(y){var Vs;if(y){var Bs="oninput"in document;if(!Bs){var Uo=document.createElement("div");Uo.setAttribute("oninput","return;"),Bs=typeof Uo.oninput=="function"}Vs=Bs}else Vs=!1;$o=Vs&&(!document.documentMode||9<document.documentMode)}function Vo(){yr&&(yr.detachEvent("onpropertychange",Bo),xr=yr=null)}function Bo(e){if(e.propertyName==="value"&&ui(xr)){var t=[];Oo(t,xr,e,ws(e)),oo(qf,t)}}function Kf(e,t,n){e==="focusin"?(Vo(),yr=t,xr=n,yr.attachEvent("onpropertychange",Bo)):e==="focusout"&&Vo()}function Yf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ui(xr)}function Gf(e,t){if(e==="click")return ui(t)}function Xf(e,t){if(e==="input"||e==="change")return ui(t)}function Jf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Jf;function jr(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!v.call(t,l)||!jt(e[l],t[l]))return!1}return!0}function Ho(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wo(e,t){var n=Ho(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ho(n)}}function qo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qo(){for(var e=window,t=Qr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qr(e.document)}return t}function Hs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zf(e){var t=Qo(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qo(n.ownerDocument.documentElement,n)){if(i!==null&&Hs(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(i.start,l);i=i.end===void 0?o:Math.min(i.end,l),!e.extend&&o>i&&(l=i,i=o,o=l),l=Wo(n,o);var d=Wo(n,i);l&&d&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ep=y&&"documentMode"in document&&11>=document.documentMode,In=null,Ws=null,Nr=null,qs=!1;function Ko(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qs||In==null||In!==Qr(i)||(i=In,"selectionStart"in i&&Hs(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Nr&&jr(Nr,i)||(Nr=i,i=hi(Ws,"onSelect"),0<i.length&&(t=new Fs("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=In)))}function di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _n={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},Qs={},Yo={};y&&(Yo=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function fi(e){if(Qs[e])return Qs[e];if(!_n[e])return e;var t=_n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yo)return Qs[e]=t[n];return e}var Go=fi("animationend"),Xo=fi("animationiteration"),Jo=fi("animationstart"),Zo=fi("transitionend"),ec=new Map,tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){ec.set(e,t),p(t,[e])}for(var Ks=0;Ks<tc.length;Ks++){var Ys=tc[Ks],tp=Ys.toLowerCase(),np=Ys[0].toUpperCase()+Ys.slice(1);Yt(tp,"on"+np)}Yt(Go,"onAnimationEnd"),Yt(Xo,"onAnimationIteration"),Yt(Jo,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(Zo,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rp=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function nc(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,ef(i,t,void 0,e),e.currentTarget=null}function rc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var d=i.length-1;0<=d;d--){var x=i[d],w=x.instance,D=x.currentTarget;if(x=x.listener,w!==o&&l.isPropagationStopped())break e;nc(l,x,D),o=w}else for(d=0;d<i.length;d++){if(x=i[d],w=x.instance,D=x.currentTarget,x=x.listener,w!==o&&l.isPropagationStopped())break e;nc(l,x,D),o=w}}}if(Gr)throw e=Es,Gr=!1,Es=null,e}function Ce(e,t){var n=t[rl];n===void 0&&(n=t[rl]=new Set);var i=e+"__bubble";n.has(i)||(ic(t,e,2,!1),n.add(i))}function Gs(e,t,n){var i=0;t&&(i|=4),ic(n,e,i,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function Sr(e){if(!e[pi]){e[pi]=!0,u.forEach(function(n){n!=="selectionchange"&&(rp.has(n)||Gs(n,!1,e),Gs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,Gs("selectionchange",!1,t))}}function ic(e,t,n,i){switch(Po(t)){case 1:var l=vf;break;case 4:l=yf;break;default:l=Is}n=l.bind(null,t,n,e),l=void 0,!ks||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Xs(e,t,n,i,l){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var x=i.stateNode.containerInfo;if(x===l||x.nodeType===8&&x.parentNode===l)break;if(d===4)for(d=i.return;d!==null;){var w=d.tag;if((w===3||w===4)&&(w=d.stateNode.containerInfo,w===l||w.nodeType===8&&w.parentNode===l))return;d=d.return}for(;x!==null;){if(d=hn(x),d===null)return;if(w=d.tag,w===5||w===6){i=o=d;continue e}x=x.parentNode}}i=i.return}oo(function(){var D=o,U=ws(n),V=[];e:{var $=ec.get(e);if($!==void 0){var G=Fs,ee=e;switch(e){case"keypress":if(ai(n)===0)break e;case"keydown":case"keyup":G=If;break;case"focusin":ee="focus",G=Os;break;case"focusout":ee="blur",G=Os;break;case"beforeblur":case"afterblur":G=Os;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Ff;break;case Go:case Xo:case Jo:G=Cf;break;case Zo:G=Mf;break;case"scroll":G=xf;break;case"wheel":G=$f;break;case"copy":case"cut":case"paste":G=Ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Lo}var ne=(t&4)!==0,Le=!ne&&e==="scroll",L=ne?$!==null?$+"Capture":null:$;ne=[];for(var E=D,I;E!==null;){I=E;var B=I.stateNode;if(I.tag===5&&B!==null&&(I=B,L!==null&&(B=sr(E,L),B!=null&&ne.push(Cr(E,B,I)))),Le)break;E=E.return}0<ne.length&&($=new G($,ee,null,n,U),V.push({event:$,listeners:ne}))}}if(!(t&7)){e:{if($=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",$&&n!==Ns&&(ee=n.relatedTarget||n.fromElement)&&(hn(ee)||ee[_t]))break e;if((G||$)&&($=U.window===U?U:($=U.ownerDocument)?$.defaultView||$.parentWindow:window,G?(ee=n.relatedTarget||n.toElement,G=D,ee=ee?hn(ee):null,ee!==null&&(Le=pn(ee),ee!==Le||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(G=null,ee=D),G!==ee)){if(ne=Ro,B="onMouseLeave",L="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Lo,B="onPointerLeave",L="onPointerEnter",E="pointer"),Le=G==null?$:An(G),I=ee==null?$:An(ee),$=new ne(B,E+"leave",G,n,U),$.target=Le,$.relatedTarget=I,B=null,hn(U)===D&&(ne=new ne(L,E+"enter",ee,n,U),ne.target=I,ne.relatedTarget=Le,B=ne),Le=B,G&&ee)t:{for(ne=G,L=ee,E=0,I=ne;I;I=Dn(I))E++;for(I=0,B=L;B;B=Dn(B))I++;for(;0<E-I;)ne=Dn(ne),E--;for(;0<I-E;)L=Dn(L),I--;for(;E--;){if(ne===L||L!==null&&ne===L.alternate)break t;ne=Dn(ne),L=Dn(L)}ne=null}else ne=null;G!==null&&sc(V,$,G,ne,!1),ee!==null&&Le!==null&&sc(V,Le,ee,ne,!0)}}e:{if($=D?An(D):window,G=$.nodeName&&$.nodeName.toLowerCase(),G==="select"||G==="input"&&$.type==="file")var ie=Qf;else if(Mo($))if($o)ie=Xf;else{ie=Yf;var le=Kf}else(G=$.nodeName)&&G.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ie=Gf);if(ie&&(ie=ie(e,D))){Oo(V,ie,n,U);break e}le&&le(e,$,D),e==="focusout"&&(le=$._wrapperState)&&le.controlled&&$.type==="number"&&gs($,"number",$.value)}switch(le=D?An(D):window,e){case"focusin":(Mo(le)||le.contentEditable==="true")&&(In=le,Ws=D,Nr=null);break;case"focusout":Nr=Ws=In=null;break;case"mousedown":qs=!0;break;case"contextmenu":case"mouseup":case"dragend":qs=!1,Ko(V,n,U);break;case"selectionchange":if(ep)break;case"keydown":case"keyup":Ko(V,n,U)}var ae;if(Us)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Ln?Fo(e,n)&&(fe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(fe="onCompositionStart");fe&&(Io&&n.locale!=="ko"&&(Ln||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Ln&&(ae=To()):(Kt=U,Ds="value"in Kt?Kt.value:Kt.textContent,Ln=!0)),le=hi(D,fe),0<le.length&&(fe=new zo(fe,e,null,n,U),V.push({event:fe,listeners:le}),ae?fe.data=ae:(ae=Ao(n),ae!==null&&(fe.data=ae)))),(ae=Vf?Bf(e,n):Hf(e,n))&&(D=hi(D,"onBeforeInput"),0<D.length&&(U=new zo("onBeforeInput","beforeinput",null,n,U),V.push({event:U,listeners:D}),U.data=ae))}rc(V,t)})}function Cr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hi(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=sr(e,n),o!=null&&i.unshift(Cr(e,o,l)),o=sr(e,t),o!=null&&i.push(Cr(e,o,l))),e=e.return}return i}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sc(e,t,n,i,l){for(var o=t._reactName,d=[];n!==null&&n!==i;){var x=n,w=x.alternate,D=x.stateNode;if(w!==null&&w===i)break;x.tag===5&&D!==null&&(x=D,l?(w=sr(n,o),w!=null&&d.unshift(Cr(n,w,x))):l||(w=sr(n,o),w!=null&&d.push(Cr(n,w,x)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var ip=/\r\n?/g,sp=/\u0000|\uFFFD/g;function lc(e){return(typeof e=="string"?e:""+e).replace(ip,`
`).replace(sp,"")}function mi(e,t,n){if(t=lc(t),lc(e)!==t&&n)throw Error(c(425))}function gi(){}var Js=null,Zs=null;function el(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,lp=typeof clearTimeout=="function"?clearTimeout:void 0,ac=typeof Promise=="function"?Promise:void 0,ap=typeof queueMicrotask=="function"?queueMicrotask:typeof ac<"u"?function(e){return ac.resolve(null).then(e).catch(op)}:tl;function op(e){setTimeout(function(){throw e})}function nl(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(i===0){e.removeChild(l),hr(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=l}while(n);hr(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Fn,kr="__reactProps$"+Fn,_t="__reactContainer$"+Fn,rl="__reactEvents$"+Fn,cp="__reactListeners$"+Fn,up="__reactHandles$"+Fn;function hn(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_t]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=oc(e);e!==null;){if(n=e[bt])return n;e=oc(e)}return t}e=n,n=e.parentNode}return null}function Er(e){return e=e[bt]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function An(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function vi(e){return e[kr]||null}var il=[],Mn=-1;function Xt(e){return{current:e}}function ke(e){0>Mn||(e.current=il[Mn],il[Mn]=null,Mn--)}function Se(e,t){Mn++,il[Mn]=e.current,e.current=t}var Jt={},Ve=Xt(Jt),Ge=Xt(!1),mn=Jt;function On(e,t){var n=e.type.contextTypes;if(!n)return Jt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Xe(e){return e=e.childContextTypes,e!=null}function yi(){ke(Ge),ke(Ve)}function cc(e,t,n){if(Ve.current!==Jt)throw Error(c(168));Se(Ve,t),Se(Ge,n)}function uc(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(c(108,re(e)||"Unknown",l));return X({},n,i)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jt,mn=Ve.current,Se(Ve,e),Se(Ge,Ge.current),!0}function dc(e,t,n){var i=e.stateNode;if(!i)throw Error(c(169));n?(e=uc(e,t,mn),i.__reactInternalMemoizedMergedChildContext=e,ke(Ge),ke(Ve),Se(Ve,e)):ke(Ge),Se(Ge,n)}var Dt=null,ji=!1,sl=!1;function fc(e){Dt===null?Dt=[e]:Dt.push(e)}function dp(e){ji=!0,fc(e)}function Zt(){if(!sl&&Dt!==null){sl=!0;var e=0,t=Ne;try{var n=Dt;for(Ne=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Dt=null,ji=!1}catch(l){throw Dt!==null&&(Dt=Dt.slice(e+1)),ho(Ps,Zt),l}finally{Ne=t,sl=!1}}return null}var $n=[],Un=0,Ni=null,wi=0,ct=[],ut=0,gn=null,Ft=1,At="";function vn(e,t){$n[Un++]=wi,$n[Un++]=Ni,Ni=e,wi=t}function pc(e,t,n){ct[ut++]=Ft,ct[ut++]=At,ct[ut++]=gn,gn=e;var i=Ft;e=At;var l=32-xt(i)-1;i&=~(1<<l),n+=1;var o=32-xt(t)+l;if(30<o){var d=l-l%5;o=(i&(1<<d)-1).toString(32),i>>=d,l-=d,Ft=1<<32-xt(t)+l|n<<l|i,At=o+e}else Ft=1<<o|n<<l|i,At=e}function ll(e){e.return!==null&&(vn(e,1),pc(e,1,0))}function al(e){for(;e===Ni;)Ni=$n[--Un],$n[Un]=null,wi=$n[--Un],$n[Un]=null;for(;e===gn;)gn=ct[--ut],ct[ut]=null,At=ct[--ut],ct[ut]=null,Ft=ct[--ut],ct[ut]=null}var st=null,lt=null,Ee=!1,Nt=null;function hc(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,lt=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:Ft,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,lt=null,!0):!1;default:return!1}}function ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cl(e){if(Ee){var t=lt;if(t){var n=t;if(!mc(e,t)){if(ol(e))throw Error(c(418));t=Gt(n.nextSibling);var i=st;t&&mc(e,t)?hc(i,n):(e.flags=e.flags&-4097|2,Ee=!1,st=e)}}else{if(ol(e))throw Error(c(418));e.flags=e.flags&-4097|2,Ee=!1,st=e}}}function gc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function Si(e){if(e!==st)return!1;if(!Ee)return gc(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!el(e.type,e.memoizedProps)),t&&(t=lt)){if(ol(e))throw vc(),Error(c(418));for(;t;)hc(e,t),t=Gt(t.nextSibling)}if(gc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){lt=Gt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=st?Gt(e.stateNode.nextSibling):null;return!0}function vc(){for(var e=lt;e;)e=Gt(e.nextSibling)}function Vn(){lt=st=null,Ee=!1}function ul(e){Nt===null?Nt=[e]:Nt.push(e)}var fp=q.ReactCurrentBatchConfig;function Pr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(c(309));var i=n.stateNode}if(!i)throw Error(c(147,e));var l=i,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(d){var x=l.refs;d===null?delete x[o]:x[o]=d},t._stringRef=o,t)}if(typeof e!="string")throw Error(c(284));if(!n._owner)throw Error(c(290,e))}return e}function Ci(e,t){throw e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yc(e){var t=e._init;return t(e._payload)}function xc(e){function t(L,E){if(e){var I=L.deletions;I===null?(L.deletions=[E],L.flags|=16):I.push(E)}}function n(L,E){if(!e)return null;for(;E!==null;)t(L,E),E=E.sibling;return null}function i(L,E){for(L=new Map;E!==null;)E.key!==null?L.set(E.key,E):L.set(E.index,E),E=E.sibling;return L}function l(L,E){return L=on(L,E),L.index=0,L.sibling=null,L}function o(L,E,I){return L.index=I,e?(I=L.alternate,I!==null?(I=I.index,I<E?(L.flags|=2,E):I):(L.flags|=2,E)):(L.flags|=1048576,E)}function d(L){return e&&L.alternate===null&&(L.flags|=2),L}function x(L,E,I,B){return E===null||E.tag!==6?(E=ta(I,L.mode,B),E.return=L,E):(E=l(E,I),E.return=L,E)}function w(L,E,I,B){var ie=I.type;return ie===S?U(L,E,I.props.children,B,I.key):E!==null&&(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===we&&yc(ie)===E.type)?(B=l(E,I.props),B.ref=Pr(L,E,I),B.return=L,B):(B=Ki(I.type,I.key,I.props,null,L.mode,B),B.ref=Pr(L,E,I),B.return=L,B)}function D(L,E,I,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=na(I,L.mode,B),E.return=L,E):(E=l(E,I.children||[]),E.return=L,E)}function U(L,E,I,B,ie){return E===null||E.tag!==7?(E=kn(I,L.mode,B,ie),E.return=L,E):(E=l(E,I),E.return=L,E)}function V(L,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ta(""+E,L.mode,I),E.return=L,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case H:return I=Ki(E.type,E.key,E.props,null,L.mode,I),I.ref=Pr(L,null,E),I.return=L,I;case Y:return E=na(E,L.mode,I),E.return=L,E;case we:var B=E._init;return V(L,B(E._payload),I)}if(nr(E)||se(E))return E=kn(E,L.mode,I,null),E.return=L,E;Ci(L,E)}return null}function $(L,E,I,B){var ie=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return ie!==null?null:x(L,E,""+I,B);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case H:return I.key===ie?w(L,E,I,B):null;case Y:return I.key===ie?D(L,E,I,B):null;case we:return ie=I._init,$(L,E,ie(I._payload),B)}if(nr(I)||se(I))return ie!==null?null:U(L,E,I,B,null);Ci(L,I)}return null}function G(L,E,I,B,ie){if(typeof B=="string"&&B!==""||typeof B=="number")return L=L.get(I)||null,x(E,L,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case H:return L=L.get(B.key===null?I:B.key)||null,w(E,L,B,ie);case Y:return L=L.get(B.key===null?I:B.key)||null,D(E,L,B,ie);case we:var le=B._init;return G(L,E,I,le(B._payload),ie)}if(nr(B)||se(B))return L=L.get(I)||null,U(E,L,B,ie,null);Ci(E,B)}return null}function ee(L,E,I,B){for(var ie=null,le=null,ae=E,fe=E=0,Oe=null;ae!==null&&fe<I.length;fe++){ae.index>fe?(Oe=ae,ae=null):Oe=ae.sibling;var xe=$(L,ae,I[fe],B);if(xe===null){ae===null&&(ae=Oe);break}e&&ae&&xe.alternate===null&&t(L,ae),E=o(xe,E,fe),le===null?ie=xe:le.sibling=xe,le=xe,ae=Oe}if(fe===I.length)return n(L,ae),Ee&&vn(L,fe),ie;if(ae===null){for(;fe<I.length;fe++)ae=V(L,I[fe],B),ae!==null&&(E=o(ae,E,fe),le===null?ie=ae:le.sibling=ae,le=ae);return Ee&&vn(L,fe),ie}for(ae=i(L,ae);fe<I.length;fe++)Oe=G(ae,L,fe,I[fe],B),Oe!==null&&(e&&Oe.alternate!==null&&ae.delete(Oe.key===null?fe:Oe.key),E=o(Oe,E,fe),le===null?ie=Oe:le.sibling=Oe,le=Oe);return e&&ae.forEach(function(cn){return t(L,cn)}),Ee&&vn(L,fe),ie}function ne(L,E,I,B){var ie=se(I);if(typeof ie!="function")throw Error(c(150));if(I=ie.call(I),I==null)throw Error(c(151));for(var le=ie=null,ae=E,fe=E=0,Oe=null,xe=I.next();ae!==null&&!xe.done;fe++,xe=I.next()){ae.index>fe?(Oe=ae,ae=null):Oe=ae.sibling;var cn=$(L,ae,xe.value,B);if(cn===null){ae===null&&(ae=Oe);break}e&&ae&&cn.alternate===null&&t(L,ae),E=o(cn,E,fe),le===null?ie=cn:le.sibling=cn,le=cn,ae=Oe}if(xe.done)return n(L,ae),Ee&&vn(L,fe),ie;if(ae===null){for(;!xe.done;fe++,xe=I.next())xe=V(L,xe.value,B),xe!==null&&(E=o(xe,E,fe),le===null?ie=xe:le.sibling=xe,le=xe);return Ee&&vn(L,fe),ie}for(ae=i(L,ae);!xe.done;fe++,xe=I.next())xe=G(ae,L,fe,xe.value,B),xe!==null&&(e&&xe.alternate!==null&&ae.delete(xe.key===null?fe:xe.key),E=o(xe,E,fe),le===null?ie=xe:le.sibling=xe,le=xe);return e&&ae.forEach(function(Hp){return t(L,Hp)}),Ee&&vn(L,fe),ie}function Le(L,E,I,B){if(typeof I=="object"&&I!==null&&I.type===S&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case H:e:{for(var ie=I.key,le=E;le!==null;){if(le.key===ie){if(ie=I.type,ie===S){if(le.tag===7){n(L,le.sibling),E=l(le,I.props.children),E.return=L,L=E;break e}}else if(le.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===we&&yc(ie)===le.type){n(L,le.sibling),E=l(le,I.props),E.ref=Pr(L,le,I),E.return=L,L=E;break e}n(L,le);break}else t(L,le);le=le.sibling}I.type===S?(E=kn(I.props.children,L.mode,B,I.key),E.return=L,L=E):(B=Ki(I.type,I.key,I.props,null,L.mode,B),B.ref=Pr(L,E,I),B.return=L,L=B)}return d(L);case Y:e:{for(le=I.key;E!==null;){if(E.key===le)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(L,E.sibling),E=l(E,I.children||[]),E.return=L,L=E;break e}else{n(L,E);break}else t(L,E);E=E.sibling}E=na(I,L.mode,B),E.return=L,L=E}return d(L);case we:return le=I._init,Le(L,E,le(I._payload),B)}if(nr(I))return ee(L,E,I,B);if(se(I))return ne(L,E,I,B);Ci(L,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(L,E.sibling),E=l(E,I),E.return=L,L=E):(n(L,E),E=ta(I,L.mode,B),E.return=L,L=E),d(L)):n(L,E)}return Le}var Bn=xc(!0),jc=xc(!1),ki=Xt(null),Ei=null,Hn=null,dl=null;function fl(){dl=Hn=Ei=null}function pl(e){var t=ki.current;ke(ki),e._currentValue=t}function hl(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Wn(e,t){Ei=e,dl=Hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(dl!==e)if(e={context:e,memoizedValue:t,next:null},Hn===null){if(Ei===null)throw Error(c(308));Hn=e,Ei.dependencies={lanes:0,firstContext:e}}else Hn=Hn.next=e;return t}var yn=null;function ml(e){yn===null?yn=[e]:yn.push(e)}function Nc(e,t,n,i){var l=t.interleaved;return l===null?(n.next=n,ml(t)):(n.next=l.next,l.next=n),t.interleaved=n,Mt(e,i)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ve&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,Mt(e,n)}return l=i.interleaved,l===null?(t.next=t,ml(i)):(t.next=l.next,l.next=t),i.interleaved=t,Mt(e,n)}function Pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Rs(e,n)}}function Sc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=d:o=o.next=d,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ti(e,t,n,i){var l=e.updateQueue;en=!1;var o=l.firstBaseUpdate,d=l.lastBaseUpdate,x=l.shared.pending;if(x!==null){l.shared.pending=null;var w=x,D=w.next;w.next=null,d===null?o=D:d.next=D,d=w;var U=e.alternate;U!==null&&(U=U.updateQueue,x=U.lastBaseUpdate,x!==d&&(x===null?U.firstBaseUpdate=D:x.next=D,U.lastBaseUpdate=w))}if(o!==null){var V=l.baseState;d=0,U=D=w=null,x=o;do{var $=x.lane,G=x.eventTime;if((i&$)===$){U!==null&&(U=U.next={eventTime:G,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var ee=e,ne=x;switch($=t,G=n,ne.tag){case 1:if(ee=ne.payload,typeof ee=="function"){V=ee.call(G,V,$);break e}V=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ne.payload,$=typeof ee=="function"?ee.call(G,V,$):ee,$==null)break e;V=X({},V,$);break e;case 2:en=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,$=l.effects,$===null?l.effects=[x]:$.push(x))}else G={eventTime:G,lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},U===null?(D=U=G,w=V):U=U.next=G,d|=$;if(x=x.next,x===null){if(x=l.shared.pending,x===null)break;$=x,x=$.next,$.next=null,l.lastBaseUpdate=$,l.shared.pending=null}}while(!0);if(U===null&&(w=V),l.baseState=w,l.firstBaseUpdate=D,l.lastBaseUpdate=U,t=l.shared.interleaved,t!==null){l=t;do d|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);Nn|=d,e.lanes=d,e.memoizedState=V}}function Cc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=n,typeof l!="function")throw Error(c(191,l));l.call(i)}}}var Tr={},Rt=Xt(Tr),br=Xt(Tr),Rr=Xt(Tr);function xn(e){if(e===Tr)throw Error(c(174));return e}function vl(e,t){switch(Se(Rr,t),Se(br,e),Se(Rt,Tr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ys(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ys(t,e)}ke(Rt),Se(Rt,t)}function qn(){ke(Rt),ke(br),ke(Rr)}function kc(e){xn(Rr.current);var t=xn(Rt.current),n=ys(t,e.type);t!==n&&(Se(br,e),Se(Rt,n))}function yl(e){br.current===e&&(ke(Rt),ke(br))}var Te=Xt(0);function bi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xl=[];function jl(){for(var e=0;e<xl.length;e++)xl[e]._workInProgressVersionPrimary=null;xl.length=0}var Ri=q.ReactCurrentDispatcher,Nl=q.ReactCurrentBatchConfig,jn=0,be=null,De=null,Ae=null,zi=!1,zr=!1,Lr=0,pp=0;function Be(){throw Error(c(321))}function wl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function Sl(e,t,n,i,l,o){if(jn=o,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ri.current=e===null||e.memoizedState===null?vp:yp,e=n(i,l),zr){o=0;do{if(zr=!1,Lr=0,25<=o)throw Error(c(301));o+=1,Ae=De=null,t.updateQueue=null,Ri.current=xp,e=n(i,l)}while(zr)}if(Ri.current=_i,t=De!==null&&De.next!==null,jn=0,Ae=De=be=null,zi=!1,t)throw Error(c(300));return e}function Cl(){var e=Lr!==0;return Lr=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?be.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ft(){if(De===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Ae===null?be.memoizedState:Ae.next;if(t!==null)Ae=t,De=e;else{if(e===null)throw Error(c(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ae===null?be.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Ir(e,t){return typeof t=="function"?t(e):t}function kl(e){var t=ft(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var i=De,l=i.baseQueue,o=n.pending;if(o!==null){if(l!==null){var d=l.next;l.next=o.next,o.next=d}i.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,i=i.baseState;var x=d=null,w=null,D=o;do{var U=D.lane;if((jn&U)===U)w!==null&&(w=w.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),i=D.hasEagerState?D.eagerState:e(i,D.action);else{var V={lane:U,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};w===null?(x=w=V,d=i):w=w.next=V,be.lanes|=U,Nn|=U}D=D.next}while(D!==null&&D!==o);w===null?d=i:w.next=x,jt(i,t.memoizedState)||(Je=!0),t.memoizedState=i,t.baseState=d,t.baseQueue=w,n.lastRenderedState=i}if(e=n.interleaved,e!==null){l=e;do o=l.lane,be.lanes|=o,Nn|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function El(e){var t=ft(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var d=l=l.next;do o=e(o,d.action),d=d.next;while(d!==l);jt(o,t.memoizedState)||(Je=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Ec(){}function Pc(e,t){var n=be,i=ft(),l=t(),o=!jt(i.memoizedState,l);if(o&&(i.memoizedState=l,Je=!0),i=i.queue,Pl(Rc.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,_r(9,bc.bind(null,n,i,l,t),void 0,null),Me===null)throw Error(c(349));jn&30||Tc(n,t,l)}return l}function Tc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bc(e,t,n,i){t.value=n,t.getSnapshot=i,zc(t)&&Lc(e)}function Rc(e,t,n){return n(function(){zc(t)&&Lc(e)})}function zc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function Lc(e){var t=Mt(e,1);t!==null&&kt(t,e,1,-1)}function Ic(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:e},t.queue=e,e=e.dispatch=gp.bind(null,be,e),[t.memoizedState,e]}function _r(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function _c(){return ft().memoizedState}function Li(e,t,n,i){var l=zt();be.flags|=e,l.memoizedState=_r(1|t,n,void 0,i===void 0?null:i)}function Ii(e,t,n,i){var l=ft();i=i===void 0?null:i;var o=void 0;if(De!==null){var d=De.memoizedState;if(o=d.destroy,i!==null&&wl(i,d.deps)){l.memoizedState=_r(t,n,o,i);return}}be.flags|=e,l.memoizedState=_r(1|t,n,o,i)}function Dc(e,t){return Li(8390656,8,e,t)}function Pl(e,t){return Ii(2048,8,e,t)}function Fc(e,t){return Ii(4,2,e,t)}function Ac(e,t){return Ii(4,4,e,t)}function Mc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Oc(e,t,n){return n=n!=null?n.concat([e]):null,Ii(4,4,Mc.bind(null,t,e),n)}function Tl(){}function $c(e,t){var n=ft();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&wl(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Uc(e,t){var n=ft();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&wl(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Vc(e,t,n){return jn&21?(jt(n,t)||(n=yo(),be.lanes|=n,Nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function hp(e,t){var n=Ne;Ne=n!==0&&4>n?n:4,e(!0);var i=Nl.transition;Nl.transition={};try{e(!1),t()}finally{Ne=n,Nl.transition=i}}function Bc(){return ft().memoizedState}function mp(e,t,n){var i=ln(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Hc(e))Wc(t,n);else if(n=Nc(e,t,n,i),n!==null){var l=Ke();kt(n,e,i,l),qc(n,t,i)}}function gp(e,t,n){var i=ln(e),l={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hc(e))Wc(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,x=o(d,n);if(l.hasEagerState=!0,l.eagerState=x,jt(x,d)){var w=t.interleaved;w===null?(l.next=l,ml(t)):(l.next=w.next,w.next=l),t.interleaved=l;return}}catch{}finally{}n=Nc(e,t,l,i),n!==null&&(l=Ke(),kt(n,e,i,l),qc(n,t,i))}}function Hc(e){var t=e.alternate;return e===be||t!==null&&t===be}function Wc(e,t){zr=zi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qc(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Rs(e,n)}}var _i={readContext:dt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},vp={readContext:dt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Dc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Li(4194308,4,Mc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=zt();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=mp.bind(null,be,e),[i.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:Ic,useDebugValue:Tl,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=Ic(!1),t=e[0];return e=hp.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=be,l=zt();if(Ee){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),Me===null)throw Error(c(349));jn&30||Tc(i,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Dc(Rc.bind(null,i,o,e),[e]),i.flags|=2048,_r(9,bc.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=zt(),t=Me.identifierPrefix;if(Ee){var n=At,i=Ft;n=(i&~(1<<32-xt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Lr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yp={readContext:dt,useCallback:$c,useContext:dt,useEffect:Pl,useImperativeHandle:Oc,useInsertionEffect:Fc,useLayoutEffect:Ac,useMemo:Uc,useReducer:kl,useRef:_c,useState:function(){return kl(Ir)},useDebugValue:Tl,useDeferredValue:function(e){var t=ft();return Vc(t,De.memoizedState,e)},useTransition:function(){var e=kl(Ir)[0],t=ft().memoizedState;return[e,t]},useMutableSource:Ec,useSyncExternalStore:Pc,useId:Bc,unstable_isNewReconciler:!1},xp={readContext:dt,useCallback:$c,useContext:dt,useEffect:Pl,useImperativeHandle:Oc,useInsertionEffect:Fc,useLayoutEffect:Ac,useMemo:Uc,useReducer:El,useRef:_c,useState:function(){return El(Ir)},useDebugValue:Tl,useDeferredValue:function(e){var t=ft();return De===null?t.memoizedState=e:Vc(t,De.memoizedState,e)},useTransition:function(){var e=El(Ir)[0],t=ft().memoizedState;return[e,t]},useMutableSource:Ec,useSyncExternalStore:Pc,useId:Bc,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=X({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bl(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:X({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Di={isMounted:function(e){return(e=e._reactInternals)?pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ke(),l=ln(e),o=Ot(i,l);o.payload=t,n!=null&&(o.callback=n),t=tn(e,o,l),t!==null&&(kt(t,e,l,i),Pi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ke(),l=ln(e),o=Ot(i,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=tn(e,o,l),t!==null&&(kt(t,e,l,i),Pi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ke(),i=ln(e),l=Ot(n,i);l.tag=2,t!=null&&(l.callback=t),t=tn(e,l,i),t!==null&&(kt(t,e,i,n),Pi(t,e,i))}};function Qc(e,t,n,i,l,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,d):t.prototype&&t.prototype.isPureReactComponent?!jr(n,i)||!jr(l,o):!0}function Kc(e,t,n){var i=!1,l=Jt,o=t.contextType;return typeof o=="object"&&o!==null?o=dt(o):(l=Xe(t)?mn:Ve.current,i=t.contextTypes,o=(i=i!=null)?On(e,l):Jt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Di,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function Yc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Di.enqueueReplaceState(t,t.state,null)}function Rl(e,t,n,i){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},gl(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=dt(o):(o=Xe(t)?mn:Ve.current,l.context=On(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(bl(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Di.enqueueReplaceState(l,l.state,null),Ti(e,n,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Qn(e,t){try{var n="",i=t;do n+=te(i),i=i.return;while(i);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function zl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ll(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jp=typeof WeakMap=="function"?WeakMap:Map;function Gc(e,t,n){n=Ot(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Vi||(Vi=!0,Ql=i),Ll(e,t)},n}function Xc(e,t,n){n=Ot(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;n.payload=function(){return i(l)},n.callback=function(){Ll(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ll(e,t),typeof i!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function Jc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new jp;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(l.add(n),e=_p.bind(null,e,t,n),t.then(e,e))}function Zc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function eu(e,t,n,i,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ot(-1,1),t.tag=2,tn(n,t,1))),n.lanes|=1),e)}var Np=q.ReactCurrentOwner,Je=!1;function Qe(e,t,n,i){t.child=e===null?jc(t,null,n,i):Bn(t,e.child,n,i)}function tu(e,t,n,i,l){n=n.render;var o=t.ref;return Wn(t,l),i=Sl(e,t,n,i,o,l),n=Cl(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,$t(e,t,l)):(Ee&&n&&ll(t),t.flags|=1,Qe(e,t,i,l),t.child)}function nu(e,t,n,i,l){if(e===null){var o=n.type;return typeof o=="function"&&!ea(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ru(e,t,o,i,l)):(e=Ki(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var d=o.memoizedProps;if(n=n.compare,n=n!==null?n:jr,n(d,i)&&e.ref===t.ref)return $t(e,t,l)}return t.flags|=1,e=on(o,i),e.ref=t.ref,e.return=t,t.child=e}function ru(e,t,n,i,l){if(e!==null){var o=e.memoizedProps;if(jr(o,i)&&e.ref===t.ref)if(Je=!1,t.pendingProps=i=o,(e.lanes&l)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,$t(e,t,l)}return Il(e,t,n,i,l)}function iu(e,t,n){var i=t.pendingProps,l=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Yn,at),at|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Yn,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Se(Yn,at),at|=i}else o!==null?(i=o.baseLanes|n,t.memoizedState=null):i=n,Se(Yn,at),at|=i;return Qe(e,t,l,n),t.child}function su(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Il(e,t,n,i,l){var o=Xe(n)?mn:Ve.current;return o=On(t,o),Wn(t,l),n=Sl(e,t,n,i,o,l),i=Cl(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,$t(e,t,l)):(Ee&&i&&ll(t),t.flags|=1,Qe(e,t,n,l),t.child)}function lu(e,t,n,i,l){if(Xe(n)){var o=!0;xi(t)}else o=!1;if(Wn(t,l),t.stateNode===null)Ai(e,t),Kc(t,n,i),Rl(t,n,i,l),i=!0;else if(e===null){var d=t.stateNode,x=t.memoizedProps;d.props=x;var w=d.context,D=n.contextType;typeof D=="object"&&D!==null?D=dt(D):(D=Xe(n)?mn:Ve.current,D=On(t,D));var U=n.getDerivedStateFromProps,V=typeof U=="function"||typeof d.getSnapshotBeforeUpdate=="function";V||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==i||w!==D)&&Yc(t,d,i,D),en=!1;var $=t.memoizedState;d.state=$,Ti(t,i,d,l),w=t.memoizedState,x!==i||$!==w||Ge.current||en?(typeof U=="function"&&(bl(t,n,U,i),w=t.memoizedState),(x=en||Qc(t,n,x,i,$,w,D))?(V||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=w),d.props=i,d.state=w,d.context=D,i=x):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,wc(e,t),x=t.memoizedProps,D=t.type===t.elementType?x:wt(t.type,x),d.props=D,V=t.pendingProps,$=d.context,w=n.contextType,typeof w=="object"&&w!==null?w=dt(w):(w=Xe(n)?mn:Ve.current,w=On(t,w));var G=n.getDerivedStateFromProps;(U=typeof G=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==V||$!==w)&&Yc(t,d,i,w),en=!1,$=t.memoizedState,d.state=$,Ti(t,i,d,l);var ee=t.memoizedState;x!==V||$!==ee||Ge.current||en?(typeof G=="function"&&(bl(t,n,G,i),ee=t.memoizedState),(D=en||Qc(t,n,D,i,$,ee,w)||!1)?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,ee,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,ee,w)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=ee),d.props=i,d.state=ee,d.context=w,i=D):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),i=!1)}return _l(e,t,n,i,o,l)}function _l(e,t,n,i,l,o){su(e,t);var d=(t.flags&128)!==0;if(!i&&!d)return l&&dc(t,n,!1),$t(e,t,o);i=t.stateNode,Np.current=t;var x=d&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&d?(t.child=Bn(t,e.child,null,o),t.child=Bn(t,null,x,o)):Qe(e,t,x,o),t.memoizedState=i.state,l&&dc(t,n,!0),t.child}function au(e){var t=e.stateNode;t.pendingContext?cc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cc(e,t.context,!1),vl(e,t.containerInfo)}function ou(e,t,n,i,l){return Vn(),ul(l),t.flags|=256,Qe(e,t,n,i),t.child}var Dl={dehydrated:null,treeContext:null,retryLane:0};function Fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function cu(e,t,n){var i=t.pendingProps,l=Te.current,o=!1,d=(t.flags&128)!==0,x;if((x=d)||(x=e!==null&&e.memoizedState===null?!1:(l&2)!==0),x?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Se(Te,l&1),e===null)return cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=i.children,e=i.fallback,o?(i=t.mode,o=t.child,d={mode:"hidden",children:d},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=d):o=Yi(d,i,0,null),e=kn(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fl(n),t.memoizedState=Dl,e):Al(t,d));if(l=e.memoizedState,l!==null&&(x=l.dehydrated,x!==null))return wp(e,t,d,i,x,l,n);if(o){o=i.fallback,d=t.mode,l=e.child,x=l.sibling;var w={mode:"hidden",children:i.children};return!(d&1)&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=w,t.deletions=null):(i=on(l,w),i.subtreeFlags=l.subtreeFlags&14680064),x!==null?o=on(x,o):(o=kn(o,d,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,d=e.child.memoizedState,d=d===null?Fl(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},o.memoizedState=d,o.childLanes=e.childLanes&~n,t.memoizedState=Dl,i}return o=e.child,e=o.sibling,i=on(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Al(e,t){return t=Yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fi(e,t,n,i){return i!==null&&ul(i),Bn(t,e.child,null,n),e=Al(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wp(e,t,n,i,l,o,d){if(n)return t.flags&256?(t.flags&=-257,i=zl(Error(c(422))),Fi(e,t,d,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=i.fallback,l=t.mode,i=Yi({mode:"visible",children:i.children},l,0,null),o=kn(o,l,d,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&Bn(t,e.child,null,d),t.child.memoizedState=Fl(d),t.memoizedState=Dl,o);if(!(t.mode&1))return Fi(e,t,d,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var x=i.dgst;return i=x,o=Error(c(419)),i=zl(o,i,void 0),Fi(e,t,d,i)}if(x=(d&e.childLanes)!==0,Je||x){if(i=Me,i!==null){switch(d&-d){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(i.suspendedLanes|d)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Mt(e,l),kt(i,e,l,-1))}return Zl(),i=zl(Error(c(421))),Fi(e,t,d,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Dp.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,lt=Gt(l.nextSibling),st=t,Ee=!0,Nt=null,e!==null&&(ct[ut++]=Ft,ct[ut++]=At,ct[ut++]=gn,Ft=e.id,At=e.overflow,gn=t),t=Al(t,i.children),t.flags|=4096,t)}function uu(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),hl(e.return,t,n)}function Ml(e,t,n,i,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=l)}function du(e,t,n){var i=t.pendingProps,l=i.revealOrder,o=i.tail;if(Qe(e,t,i.children,n),i=Te.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uu(e,n,t);else if(e.tag===19)uu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Se(Te,i),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&bi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ml(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&bi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ml(t,!0,n,null,o);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ai(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Sp(e,t,n){switch(t.tag){case 3:au(t),Vn();break;case 5:kc(t);break;case 1:Xe(t.type)&&xi(t);break;case 4:vl(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;Se(ki,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Se(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?cu(e,t,n):(Se(Te,Te.current&1),e=$t(e,t,n),e!==null?e.sibling:null);Se(Te,Te.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return du(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Se(Te,Te.current),i)break;return null;case 22:case 23:return t.lanes=0,iu(e,t,n)}return $t(e,t,n)}var fu,Ol,pu,hu;fu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ol=function(){},pu=function(e,t,n,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,xn(Rt.current);var o=null;switch(n){case"input":l=hs(e,l),i=hs(e,i),o=[];break;case"select":l=X({},l,{value:void 0}),i=X({},i,{value:void 0}),o=[];break;case"textarea":l=vs(e,l),i=vs(e,i),o=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=gi)}xs(n,i);var d;n=null;for(D in l)if(!i.hasOwnProperty(D)&&l.hasOwnProperty(D)&&l[D]!=null)if(D==="style"){var x=l[D];for(d in x)x.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(f.hasOwnProperty(D)?o||(o=[]):(o=o||[]).push(D,null));for(D in i){var w=i[D];if(x=l!=null?l[D]:void 0,i.hasOwnProperty(D)&&w!==x&&(w!=null||x!=null))if(D==="style")if(x){for(d in x)!x.hasOwnProperty(d)||w&&w.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in w)w.hasOwnProperty(d)&&x[d]!==w[d]&&(n||(n={}),n[d]=w[d])}else n||(o||(o=[]),o.push(D,n)),n=w;else D==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,x=x?x.__html:void 0,w!=null&&x!==w&&(o=o||[]).push(D,w)):D==="children"?typeof w!="string"&&typeof w!="number"||(o=o||[]).push(D,""+w):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(f.hasOwnProperty(D)?(w!=null&&D==="onScroll"&&Ce("scroll",e),o||x===w||(o=[])):(o=o||[]).push(D,w))}n&&(o=o||[]).push("style",n);var D=o;(t.updateQueue=D)&&(t.flags|=4)}},hu=function(e,t,n,i){n!==i&&(t.flags|=4)};function Dr(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Cp(e,t,n){var i=t.pendingProps;switch(al(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return Xe(t.type)&&yi(),He(t),null;case 3:return i=t.stateNode,qn(),ke(Ge),ke(Ve),jl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Si(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(Gl(Nt),Nt=null))),Ol(e,t),He(t),null;case 5:yl(t);var l=xn(Rr.current);if(n=t.type,e!==null&&t.stateNode!=null)pu(e,t,n,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(c(166));return He(t),null}if(e=xn(Rt.current),Si(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[bt]=t,i[kr]=o,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(l=0;l<wr.length;l++)Ce(wr[l],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Qa(i,o),Ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",i);break;case"textarea":Ga(i,o),Ce("invalid",i)}xs(n,o),l=null;for(var d in o)if(o.hasOwnProperty(d)){var x=o[d];d==="children"?typeof x=="string"?i.textContent!==x&&(o.suppressHydrationWarning!==!0&&mi(i.textContent,x,e),l=["children",x]):typeof x=="number"&&i.textContent!==""+x&&(o.suppressHydrationWarning!==!0&&mi(i.textContent,x,e),l=["children",""+x]):f.hasOwnProperty(d)&&x!=null&&d==="onScroll"&&Ce("scroll",i)}switch(n){case"input":yt(i),Ya(i,o,!0);break;case"textarea":yt(i),Ja(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=gi)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{d=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Za(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=d.createElement(n,{is:i.is}):(e=d.createElement(n),n==="select"&&(d=e,i.multiple?d.multiple=!0:i.size&&(d.size=i.size))):e=d.createElementNS(e,n),e[bt]=t,e[kr]=i,fu(e,t,!1,!1),t.stateNode=e;e:{switch(d=js(n,i),n){case"dialog":Ce("cancel",e),Ce("close",e),l=i;break;case"iframe":case"object":case"embed":Ce("load",e),l=i;break;case"video":case"audio":for(l=0;l<wr.length;l++)Ce(wr[l],e);l=i;break;case"source":Ce("error",e),l=i;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),l=i;break;case"details":Ce("toggle",e),l=i;break;case"input":Qa(e,i),l=hs(e,i),Ce("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=X({},i,{value:void 0}),Ce("invalid",e);break;case"textarea":Ga(e,i),l=vs(e,i),Ce("invalid",e);break;default:l=i}xs(n,l),x=l;for(o in x)if(x.hasOwnProperty(o)){var w=x[o];o==="style"?no(e,w):o==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&eo(e,w)):o==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&rr(e,w):typeof w=="number"&&rr(e,""+w):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(f.hasOwnProperty(o)?w!=null&&o==="onScroll"&&Ce("scroll",e):w!=null&&Q(e,o,w,d))}switch(n){case"input":yt(e),Ya(e,i,!1);break;case"textarea":yt(e),Ja(e);break;case"option":i.value!=null&&e.setAttribute("value",""+de(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?Pn(e,!!i.multiple,o,!1):i.defaultValue!=null&&Pn(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=gi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)hu(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(c(166));if(n=xn(Rr.current),xn(Rt.current),Si(t)){if(i=t.stateNode,n=t.memoizedProps,i[bt]=t,(o=i.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:mi(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mi(i.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[bt]=t,t.stateNode=i}return He(t),null;case 13:if(ke(Te),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&lt!==null&&t.mode&1&&!(t.flags&128))vc(),Vn(),t.flags|=98560,o=!1;else if(o=Si(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(c(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[bt]=t}else Vn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),o=!1}else Nt!==null&&(Gl(Nt),Nt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Fe===0&&(Fe=3):Zl())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return qn(),Ol(e,t),e===null&&Sr(t.stateNode.containerInfo),He(t),null;case 10:return pl(t.type._context),He(t),null;case 17:return Xe(t.type)&&yi(),He(t),null;case 19:if(ke(Te),o=t.memoizedState,o===null)return He(t),null;if(i=(t.flags&128)!==0,d=o.rendering,d===null)if(i)Dr(o,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=bi(e),d!==null){for(t.flags|=128,Dr(o,!1),i=d.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)o=n,e=i,o.flags&=14680066,d=o.alternate,d===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,e=d.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Te,Te.current&1|2),t.child}e=e.sibling}o.tail!==null&&ze()>Gn&&(t.flags|=128,i=!0,Dr(o,!1),t.lanes=4194304)}else{if(!i)if(e=bi(d),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Dr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ee)return He(t),null}else 2*ze()-o.renderingStartTime>Gn&&n!==1073741824&&(t.flags|=128,i=!0,Dr(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(n=o.last,n!==null?n.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ze(),t.sibling=null,n=Te.current,Se(Te,i?n&1|2:n&1),t):(He(t),null);case 22:case 23:return Jl(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?at&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(c(156,t.tag))}function kp(e,t){switch(al(t),t.tag){case 1:return Xe(t.type)&&yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qn(),ke(Ge),ke(Ve),jl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yl(t),null;case 13:if(ke(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Te),null;case 4:return qn(),null;case 10:return pl(t.type._context),null;case 22:case 23:return Jl(),null;case 24:return null;default:return null}}var Mi=!1,We=!1,Ep=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Re(e,t,i)}else n.current=null}function $l(e,t,n){try{n()}catch(i){Re(e,t,i)}}var mu=!1;function Pp(e,t){if(Js=ii,e=Qo(),Hs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var d=0,x=-1,w=-1,D=0,U=0,V=e,$=null;t:for(;;){for(var G;V!==n||l!==0&&V.nodeType!==3||(x=d+l),V!==o||i!==0&&V.nodeType!==3||(w=d+i),V.nodeType===3&&(d+=V.nodeValue.length),(G=V.firstChild)!==null;)$=V,V=G;for(;;){if(V===e)break t;if($===n&&++D===l&&(x=d),$===o&&++U===i&&(w=d),(G=V.nextSibling)!==null)break;V=$,$=V.parentNode}V=G}n=x===-1||w===-1?null:{start:x,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zs={focusedElem:e,selectionRange:n},ii=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var ee=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var ne=ee.memoizedProps,Le=ee.memoizedState,L=t.stateNode,E=L.getSnapshotBeforeUpdate(t.elementType===t.type?ne:wt(t.type,ne),Le);L.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(B){Re(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return ee=mu,mu=!1,ee}function Fr(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&$l(t,n,o)}l=l.next}while(l!==i)}}function Oi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Ul(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gu(e){var t=e.alternate;t!==null&&(e.alternate=null,gu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[kr],delete t[rl],delete t[cp],delete t[up])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vu(e){return e.tag===5||e.tag===3||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gi));else if(i!==4&&(e=e.child,e!==null))for(Vl(e,t,n),e=e.sibling;e!==null;)Vl(e,t,n),e=e.sibling}function Bl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Bl(e,t,n),e=e.sibling;e!==null;)Bl(e,t,n),e=e.sibling}var $e=null,St=!1;function nn(e,t,n){for(n=n.child;n!==null;)xu(e,t,n),n=n.sibling}function xu(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Jr,n)}catch{}switch(n.tag){case 5:We||Kn(n,t);case 6:var i=$e,l=St;$e=null,nn(e,t,n),$e=i,St=l,$e!==null&&(St?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(St?(e=$e,n=n.stateNode,e.nodeType===8?nl(e.parentNode,n):e.nodeType===1&&nl(e,n),hr(e)):nl($e,n.stateNode));break;case 4:i=$e,l=St,$e=n.stateNode.containerInfo,St=!0,nn(e,t,n),$e=i,St=l;break;case 0:case 11:case 14:case 15:if(!We&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var o=l,d=o.destroy;o=o.tag,d!==void 0&&(o&2||o&4)&&$l(n,t,d),l=l.next}while(l!==i)}nn(e,t,n);break;case 1:if(!We&&(Kn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(x){Re(n,t,x)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(We=(i=We)||n.memoizedState!==null,nn(e,t,n),We=i):nn(e,t,n);break;default:nn(e,t,n)}}function ju(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ep),t.forEach(function(i){var l=Fp.bind(null,e,i);n.has(i)||(n.add(i),i.then(l,l))})}}function Ct(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];try{var o=e,d=t,x=d;e:for(;x!==null;){switch(x.tag){case 5:$e=x.stateNode,St=!1;break e;case 3:$e=x.stateNode.containerInfo,St=!0;break e;case 4:$e=x.stateNode.containerInfo,St=!0;break e}x=x.return}if($e===null)throw Error(c(160));xu(o,d,l),$e=null,St=!1;var w=l.alternate;w!==null&&(w.return=null),l.return=null}catch(D){Re(l,t,D)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nu(t,e),t=t.sibling}function Nu(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),Lt(e),i&4){try{Fr(3,e,e.return),Oi(3,e)}catch(ne){Re(e,e.return,ne)}try{Fr(5,e,e.return)}catch(ne){Re(e,e.return,ne)}}break;case 1:Ct(t,e),Lt(e),i&512&&n!==null&&Kn(n,n.return);break;case 5:if(Ct(t,e),Lt(e),i&512&&n!==null&&Kn(n,n.return),e.flags&32){var l=e.stateNode;try{rr(l,"")}catch(ne){Re(e,e.return,ne)}}if(i&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,d=n!==null?n.memoizedProps:o,x=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{x==="input"&&o.type==="radio"&&o.name!=null&&Ka(l,o),js(x,d);var D=js(x,o);for(d=0;d<w.length;d+=2){var U=w[d],V=w[d+1];U==="style"?no(l,V):U==="dangerouslySetInnerHTML"?eo(l,V):U==="children"?rr(l,V):Q(l,U,V,D)}switch(x){case"input":ms(l,o);break;case"textarea":Xa(l,o);break;case"select":var $=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var G=o.value;G!=null?Pn(l,!!o.multiple,G,!1):$!==!!o.multiple&&(o.defaultValue!=null?Pn(l,!!o.multiple,o.defaultValue,!0):Pn(l,!!o.multiple,o.multiple?[]:"",!1))}l[kr]=o}catch(ne){Re(e,e.return,ne)}}break;case 6:if(Ct(t,e),Lt(e),i&4){if(e.stateNode===null)throw Error(c(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(ne){Re(e,e.return,ne)}}break;case 3:if(Ct(t,e),Lt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{hr(t.containerInfo)}catch(ne){Re(e,e.return,ne)}break;case 4:Ct(t,e),Lt(e);break;case 13:Ct(t,e),Lt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(ql=ze())),i&4&&ju(e);break;case 22:if(U=n!==null&&n.memoizedState!==null,e.mode&1?(We=(D=We)||U,Ct(t,e),We=D):Ct(t,e),Lt(e),i&8192){if(D=e.memoizedState!==null,(e.stateNode.isHidden=D)&&!U&&e.mode&1)for(Z=e,U=e.child;U!==null;){for(V=Z=U;Z!==null;){switch($=Z,G=$.child,$.tag){case 0:case 11:case 14:case 15:Fr(4,$,$.return);break;case 1:Kn($,$.return);var ee=$.stateNode;if(typeof ee.componentWillUnmount=="function"){i=$,n=$.return;try{t=i,ee.props=t.memoizedProps,ee.state=t.memoizedState,ee.componentWillUnmount()}catch(ne){Re(i,n,ne)}}break;case 5:Kn($,$.return);break;case 22:if($.memoizedState!==null){Cu(V);continue}}G!==null?(G.return=$,Z=G):Cu(V)}U=U.sibling}e:for(U=null,V=e;;){if(V.tag===5){if(U===null){U=V;try{l=V.stateNode,D?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(x=V.stateNode,w=V.memoizedProps.style,d=w!=null&&w.hasOwnProperty("display")?w.display:null,x.style.display=to("display",d))}catch(ne){Re(e,e.return,ne)}}}else if(V.tag===6){if(U===null)try{V.stateNode.nodeValue=D?"":V.memoizedProps}catch(ne){Re(e,e.return,ne)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;U===V&&(U=null),V=V.return}U===V&&(U=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:Ct(t,e),Lt(e),i&4&&ju(e);break;case 21:break;default:Ct(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vu(n)){var i=n;break e}n=n.return}throw Error(c(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(rr(l,""),i.flags&=-33);var o=yu(e);Bl(e,o,l);break;case 3:case 4:var d=i.stateNode.containerInfo,x=yu(e);Vl(e,x,d);break;default:throw Error(c(161))}}catch(w){Re(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tp(e,t,n){Z=e,wu(e)}function wu(e,t,n){for(var i=(e.mode&1)!==0;Z!==null;){var l=Z,o=l.child;if(l.tag===22&&i){var d=l.memoizedState!==null||Mi;if(!d){var x=l.alternate,w=x!==null&&x.memoizedState!==null||We;x=Mi;var D=We;if(Mi=d,(We=w)&&!D)for(Z=l;Z!==null;)d=Z,w=d.child,d.tag===22&&d.memoizedState!==null?ku(l):w!==null?(w.return=d,Z=w):ku(l);for(;o!==null;)Z=o,wu(o),o=o.sibling;Z=l,Mi=x,We=D}Su(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,Z=o):Su(e)}}function Su(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||Oi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!We)if(n===null)i.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:wt(t.type,n.memoizedProps);i.componentDidUpdate(l,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Cc(t,o,i);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cc(t,d,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var D=t.alternate;if(D!==null){var U=D.memoizedState;if(U!==null){var V=U.dehydrated;V!==null&&hr(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}We||t.flags&512&&Ul(t)}catch($){Re(t,t.return,$)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Cu(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function ku(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Oi(4,t)}catch(w){Re(t,n,w)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(w){Re(t,l,w)}}var o=t.return;try{Ul(t)}catch(w){Re(t,o,w)}break;case 5:var d=t.return;try{Ul(t)}catch(w){Re(t,d,w)}}}catch(w){Re(t,t.return,w)}if(t===e){Z=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Z=x;break}Z=t.return}}var bp=Math.ceil,$i=q.ReactCurrentDispatcher,Hl=q.ReactCurrentOwner,pt=q.ReactCurrentBatchConfig,ve=0,Me=null,Ie=null,Ue=0,at=0,Yn=Xt(0),Fe=0,Ar=null,Nn=0,Ui=0,Wl=0,Mr=null,Ze=null,ql=0,Gn=1/0,Ut=null,Vi=!1,Ql=null,rn=null,Bi=!1,sn=null,Hi=0,Or=0,Kl=null,Wi=-1,qi=0;function Ke(){return ve&6?ze():Wi!==-1?Wi:Wi=ze()}function ln(e){return e.mode&1?ve&2&&Ue!==0?Ue&-Ue:fp.transition!==null?(qi===0&&(qi=yo()),qi):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:Po(e.type)),e):1}function kt(e,t,n,i){if(50<Or)throw Or=0,Kl=null,Error(c(185));cr(e,n,i),(!(ve&2)||e!==Me)&&(e===Me&&(!(ve&2)&&(Ui|=n),Fe===4&&an(e,Ue)),et(e,i),n===1&&ve===0&&!(t.mode&1)&&(Gn=ze()+500,ji&&Zt()))}function et(e,t){var n=e.callbackNode;ff(e,t);var i=ti(e,e===Me?Ue:0);if(i===0)n!==null&&mo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&mo(n),t===1)e.tag===0?dp(Pu.bind(null,e)):fc(Pu.bind(null,e)),ap(function(){!(ve&6)&&Zt()}),n=null;else{switch(xo(i)){case 1:n=Ps;break;case 4:n=go;break;case 16:n=Xr;break;case 536870912:n=vo;break;default:n=Xr}n=Du(n,Eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eu(e,t){if(Wi=-1,qi=0,ve&6)throw Error(c(327));var n=e.callbackNode;if(Xn()&&e.callbackNode!==n)return null;var i=ti(e,e===Me?Ue:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Qi(e,i);else{t=i;var l=ve;ve|=2;var o=bu();(Me!==e||Ue!==t)&&(Ut=null,Gn=ze()+500,Sn(e,t));do try{Lp();break}catch(x){Tu(e,x)}while(!0);fl(),$i.current=o,ve=l,Ie!==null?t=0:(Me=null,Ue=0,t=Fe)}if(t!==0){if(t===2&&(l=Ts(e),l!==0&&(i=l,t=Yl(e,l))),t===1)throw n=Ar,Sn(e,0),an(e,i),et(e,ze()),n;if(t===6)an(e,i);else{if(l=e.current.alternate,!(i&30)&&!Rp(l)&&(t=Qi(e,i),t===2&&(o=Ts(e),o!==0&&(i=o,t=Yl(e,o))),t===1))throw n=Ar,Sn(e,0),an(e,i),et(e,ze()),n;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(c(345));case 2:Cn(e,Ze,Ut);break;case 3:if(an(e,i),(i&130023424)===i&&(t=ql+500-ze(),10<t)){if(ti(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){Ke(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=tl(Cn.bind(null,e,Ze,Ut),t);break}Cn(e,Ze,Ut);break;case 4:if(an(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var d=31-xt(i);o=1<<d,d=t[d],d>l&&(l=d),i&=~o}if(i=l,i=ze()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*bp(i/1960))-i,10<i){e.timeoutHandle=tl(Cn.bind(null,e,Ze,Ut),i);break}Cn(e,Ze,Ut);break;case 5:Cn(e,Ze,Ut);break;default:throw Error(c(329))}}}return et(e,ze()),e.callbackNode===n?Eu.bind(null,e):null}function Yl(e,t){var n=Mr;return e.current.memoizedState.isDehydrated&&(Sn(e,t).flags|=256),e=Qi(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&Gl(t)),e}function Gl(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Rp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var l=n[i],o=l.getSnapshot;l=l.value;try{if(!jt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~Wl,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),i=1<<n;e[n]=-1,t&=~i}}function Pu(e){if(ve&6)throw Error(c(327));Xn();var t=ti(e,0);if(!(t&1))return et(e,ze()),null;var n=Qi(e,t);if(e.tag!==0&&n===2){var i=Ts(e);i!==0&&(t=i,n=Yl(e,i))}if(n===1)throw n=Ar,Sn(e,0),an(e,t),et(e,ze()),n;if(n===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,Ze,Ut),et(e,ze()),null}function Xl(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(Gn=ze()+500,ji&&Zt())}}function wn(e){sn!==null&&sn.tag===0&&!(ve&6)&&Xn();var t=ve;ve|=1;var n=pt.transition,i=Ne;try{if(pt.transition=null,Ne=1,e)return e()}finally{Ne=i,pt.transition=n,ve=t,!(ve&6)&&Zt()}}function Jl(){at=Yn.current,ke(Yn)}function Sn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lp(n)),Ie!==null)for(n=Ie.return;n!==null;){var i=n;switch(al(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&yi();break;case 3:qn(),ke(Ge),ke(Ve),jl();break;case 5:yl(i);break;case 4:qn();break;case 13:ke(Te);break;case 19:ke(Te);break;case 10:pl(i.type._context);break;case 22:case 23:Jl()}n=n.return}if(Me=e,Ie=e=on(e.current,null),Ue=at=t,Fe=0,Ar=null,Wl=Ui=Nn=0,Ze=Mr=null,yn!==null){for(t=0;t<yn.length;t++)if(n=yn[t],i=n.interleaved,i!==null){n.interleaved=null;var l=i.next,o=n.pending;if(o!==null){var d=o.next;o.next=l,i.next=d}n.pending=i}yn=null}return e}function Tu(e,t){do{var n=Ie;try{if(fl(),Ri.current=_i,zi){for(var i=be.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}zi=!1}if(jn=0,Ae=De=be=null,zr=!1,Lr=0,Hl.current=null,n===null||n.return===null){Fe=1,Ar=t,Ie=null;break}e:{var o=e,d=n.return,x=n,w=t;if(t=Ue,x.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var D=w,U=x,V=U.tag;if(!(U.mode&1)&&(V===0||V===11||V===15)){var $=U.alternate;$?(U.updateQueue=$.updateQueue,U.memoizedState=$.memoizedState,U.lanes=$.lanes):(U.updateQueue=null,U.memoizedState=null)}var G=Zc(d);if(G!==null){G.flags&=-257,eu(G,d,x,o,t),G.mode&1&&Jc(o,D,t),t=G,w=D;var ee=t.updateQueue;if(ee===null){var ne=new Set;ne.add(w),t.updateQueue=ne}else ee.add(w);break e}else{if(!(t&1)){Jc(o,D,t),Zl();break e}w=Error(c(426))}}else if(Ee&&x.mode&1){var Le=Zc(d);if(Le!==null){!(Le.flags&65536)&&(Le.flags|=256),eu(Le,d,x,o,t),ul(Qn(w,x));break e}}o=w=Qn(w,x),Fe!==4&&(Fe=2),Mr===null?Mr=[o]:Mr.push(o),o=d;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var L=Gc(o,w,t);Sc(o,L);break e;case 1:x=w;var E=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(rn===null||!rn.has(I)))){o.flags|=65536,t&=-t,o.lanes|=t;var B=Xc(o,x,t);Sc(o,B);break e}}o=o.return}while(o!==null)}zu(n)}catch(ie){t=ie,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function bu(){var e=$i.current;return $i.current=_i,e===null?_i:e}function Zl(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Me===null||!(Nn&268435455)&&!(Ui&268435455)||an(Me,Ue)}function Qi(e,t){var n=ve;ve|=2;var i=bu();(Me!==e||Ue!==t)&&(Ut=null,Sn(e,t));do try{zp();break}catch(l){Tu(e,l)}while(!0);if(fl(),ve=n,$i.current=i,Ie!==null)throw Error(c(261));return Me=null,Ue=0,Fe}function zp(){for(;Ie!==null;)Ru(Ie)}function Lp(){for(;Ie!==null&&!nf();)Ru(Ie)}function Ru(e){var t=_u(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?zu(e):Ie=t,Hl.current=null}function zu(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kp(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Ie=null;return}}else if(n=Cp(n,t,at),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Fe===0&&(Fe=5)}function Cn(e,t,n){var i=Ne,l=pt.transition;try{pt.transition=null,Ne=1,Ip(e,t,n,i)}finally{pt.transition=l,Ne=i}return null}function Ip(e,t,n,i){do Xn();while(sn!==null);if(ve&6)throw Error(c(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(pf(e,o),e===Me&&(Ie=Me=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bi||(Bi=!0,Du(Xr,function(){return Xn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=pt.transition,pt.transition=null;var d=Ne;Ne=1;var x=ve;ve|=4,Hl.current=null,Pp(e,n),Nu(n,e),Zf(Zs),ii=!!Js,Zs=Js=null,e.current=n,Tp(n),rf(),ve=x,Ne=d,pt.transition=o}else e.current=n;if(Bi&&(Bi=!1,sn=e,Hi=l),o=e.pendingLanes,o===0&&(rn=null),af(n.stateNode),et(e,ze()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],i(l.value,{componentStack:l.stack,digest:l.digest});if(Vi)throw Vi=!1,e=Ql,Ql=null,e;return Hi&1&&e.tag!==0&&Xn(),o=e.pendingLanes,o&1?e===Kl?Or++:(Or=0,Kl=e):Or=0,Zt(),null}function Xn(){if(sn!==null){var e=xo(Hi),t=pt.transition,n=Ne;try{if(pt.transition=null,Ne=16>e?16:e,sn===null)var i=!1;else{if(e=sn,sn=null,Hi=0,ve&6)throw Error(c(331));var l=ve;for(ve|=4,Z=e.current;Z!==null;){var o=Z,d=o.child;if(Z.flags&16){var x=o.deletions;if(x!==null){for(var w=0;w<x.length;w++){var D=x[w];for(Z=D;Z!==null;){var U=Z;switch(U.tag){case 0:case 11:case 15:Fr(8,U,o)}var V=U.child;if(V!==null)V.return=U,Z=V;else for(;Z!==null;){U=Z;var $=U.sibling,G=U.return;if(gu(U),U===D){Z=null;break}if($!==null){$.return=G,Z=$;break}Z=G}}}var ee=o.alternate;if(ee!==null){var ne=ee.child;if(ne!==null){ee.child=null;do{var Le=ne.sibling;ne.sibling=null,ne=Le}while(ne!==null)}}Z=o}}if(o.subtreeFlags&2064&&d!==null)d.return=o,Z=d;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fr(9,o,o.return)}var L=o.sibling;if(L!==null){L.return=o.return,Z=L;break e}Z=o.return}}var E=e.current;for(Z=E;Z!==null;){d=Z;var I=d.child;if(d.subtreeFlags&2064&&I!==null)I.return=d,Z=I;else e:for(d=E;Z!==null;){if(x=Z,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Oi(9,x)}}catch(ie){Re(x,x.return,ie)}if(x===d){Z=null;break e}var B=x.sibling;if(B!==null){B.return=x.return,Z=B;break e}Z=x.return}}if(ve=l,Zt(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Jr,e)}catch{}i=!0}return i}finally{Ne=n,pt.transition=t}}return!1}function Lu(e,t,n){t=Qn(n,t),t=Gc(e,t,1),e=tn(e,t,1),t=Ke(),e!==null&&(cr(e,1,t),et(e,t))}function Re(e,t,n){if(e.tag===3)Lu(e,e,n);else for(;t!==null;){if(t.tag===3){Lu(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rn===null||!rn.has(i))){e=Qn(n,e),e=Xc(t,e,1),t=tn(t,e,1),e=Ke(),t!==null&&(cr(t,1,e),et(t,e));break}}t=t.return}}function _p(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Ue&n)===n&&(Fe===4||Fe===3&&(Ue&130023424)===Ue&&500>ze()-ql?Sn(e,0):Wl|=n),et(e,t)}function Iu(e,t){t===0&&(e.mode&1?(t=ei,ei<<=1,!(ei&130023424)&&(ei=4194304)):t=1);var n=Ke();e=Mt(e,t),e!==null&&(cr(e,t,n),et(e,n))}function Dp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Iu(e,n)}function Fp(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(c(314))}i!==null&&i.delete(t),Iu(e,n)}var _u;_u=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,Sp(e,t,n);Je=!!(e.flags&131072)}else Je=!1,Ee&&t.flags&1048576&&pc(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ai(e,t),e=t.pendingProps;var l=On(t,Ve.current);Wn(t,n),l=Sl(null,t,i,e,l,n);var o=Cl();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(i)?(o=!0,xi(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,gl(t),l.updater=Di,t.stateNode=l,l._reactInternals=t,Rl(t,i,e,n),t=_l(null,t,i,!0,o,n)):(t.tag=0,Ee&&o&&ll(t),Qe(null,t,l,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ai(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=Mp(i),e=wt(i,e),l){case 0:t=Il(null,t,i,e,n);break e;case 1:t=lu(null,t,i,e,n);break e;case 11:t=tu(null,t,i,e,n);break e;case 14:t=nu(null,t,i,wt(i.type,e),n);break e}throw Error(c(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:wt(i,l),Il(e,t,i,l,n);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:wt(i,l),lu(e,t,i,l,n);case 3:e:{if(au(t),e===null)throw Error(c(387));i=t.pendingProps,o=t.memoizedState,l=o.element,wc(e,t),Ti(t,i,null,n);var d=t.memoizedState;if(i=d.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=Qn(Error(c(423)),t),t=ou(e,t,i,n,l);break e}else if(i!==l){l=Qn(Error(c(424)),t),t=ou(e,t,i,n,l);break e}else for(lt=Gt(t.stateNode.containerInfo.firstChild),st=t,Ee=!0,Nt=null,n=jc(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vn(),i===l){t=$t(e,t,n);break e}Qe(e,t,i,n)}t=t.child}return t;case 5:return kc(t),e===null&&cl(t),i=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,d=l.children,el(i,l)?d=null:o!==null&&el(i,o)&&(t.flags|=32),su(e,t),Qe(e,t,d,n),t.child;case 6:return e===null&&cl(t),null;case 13:return cu(e,t,n);case 4:return vl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Bn(t,null,i,n):Qe(e,t,i,n),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:wt(i,l),tu(e,t,i,l,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,o=t.memoizedProps,d=l.value,Se(ki,i._currentValue),i._currentValue=d,o!==null)if(jt(o.value,d)){if(o.children===l.children&&!Ge.current){t=$t(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var x=o.dependencies;if(x!==null){d=o.child;for(var w=x.firstContext;w!==null;){if(w.context===i){if(o.tag===1){w=Ot(-1,n&-n),w.tag=2;var D=o.updateQueue;if(D!==null){D=D.shared;var U=D.pending;U===null?w.next=w:(w.next=U.next,U.next=w),D.pending=w}}o.lanes|=n,w=o.alternate,w!==null&&(w.lanes|=n),hl(o.return,n,t),x.lanes|=n;break}w=w.next}}else if(o.tag===10)d=o.type===t.type?null:o.child;else if(o.tag===18){if(d=o.return,d===null)throw Error(c(341));d.lanes|=n,x=d.alternate,x!==null&&(x.lanes|=n),hl(d,n,t),d=o.sibling}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===t){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}Qe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,Wn(t,n),l=dt(l),i=i(l),t.flags|=1,Qe(e,t,i,n),t.child;case 14:return i=t.type,l=wt(i,t.pendingProps),l=wt(i.type,l),nu(e,t,i,l,n);case 15:return ru(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:wt(i,l),Ai(e,t),t.tag=1,Xe(i)?(e=!0,xi(t)):e=!1,Wn(t,n),Kc(t,i,l),Rl(t,i,l,n),_l(null,t,i,!0,e,n);case 19:return du(e,t,n);case 22:return iu(e,t,n)}throw Error(c(156,t.tag))};function Du(e,t){return ho(e,t)}function Ap(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,i){return new Ap(e,t,n,i)}function ea(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mp(e){if(typeof e=="function")return ea(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ge)return 11;if(e===ye)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ki(e,t,n,i,l,o){var d=2;if(i=e,typeof e=="function")ea(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case S:return kn(n.children,l,o,t);case A:d=8,l|=8;break;case _:return e=ht(12,n,t,l|2),e.elementType=_,e.lanes=o,e;case ce:return e=ht(13,n,t,l),e.elementType=ce,e.lanes=o,e;case me:return e=ht(19,n,t,l),e.elementType=me,e.lanes=o,e;case je:return Yi(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:d=10;break e;case J:d=9;break e;case ge:d=11;break e;case ye:d=14;break e;case we:d=16,i=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return t=ht(d,n,t,l),t.elementType=e,t.type=i,t.lanes=o,t}function kn(e,t,n,i){return e=ht(7,e,i,t),e.lanes=n,e}function Yi(e,t,n,i){return e=ht(22,e,i,t),e.elementType=je,e.lanes=n,e.stateNode={isHidden:!1},e}function ta(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function na(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Op(e,t,n,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bs(0),this.expirationTimes=bs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bs(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ra(e,t,n,i,l,o,d,x,w){return e=new Op(e,t,n,x,w),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gl(o),e}function $p(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Fu(e){if(!e)return Jt;e=e._reactInternals;e:{if(pn(e)!==e||e.tag!==1)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(c(171))}if(e.tag===1){var n=e.type;if(Xe(n))return uc(e,n,t)}return t}function Au(e,t,n,i,l,o,d,x,w){return e=ra(n,i,!0,e,l,o,d,x,w),e.context=Fu(null),n=e.current,i=Ke(),l=ln(n),o=Ot(i,l),o.callback=t??null,tn(n,o,l),e.current.lanes=l,cr(e,l,i),et(e,i),e}function Gi(e,t,n,i){var l=t.current,o=Ke(),d=ln(l);return n=Fu(n),t.context===null?t.context=n:t.pendingContext=n,t=Ot(o,d),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=tn(l,t,d),e!==null&&(kt(e,l,d,o),Pi(e,l,d)),d}function Xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ia(e,t){Mu(e,t),(e=e.alternate)&&Mu(e,t)}var Ou=typeof reportError=="function"?reportError:function(e){console.error(e)};function sa(e){this._internalRoot=e}Ji.prototype.render=sa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));Gi(e,t,null,null)},Ji.prototype.unmount=sa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wn(function(){Gi(null,e,null,null)}),t[_t]=null}};function Ji(e){this._internalRoot=e}Ji.prototype.unstable_scheduleHydration=function(e){if(e){var t=wo();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qt.length&&t!==0&&t<Qt[n].priority;n++);Qt.splice(n,0,e),n===0&&ko(e)}};function la(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $u(){}function Up(e,t,n,i,l){if(l){if(typeof i=="function"){var o=i;i=function(){var D=Xi(d);o.call(D)}}var d=Au(t,i,e,0,null,!1,!1,"",$u);return e._reactRootContainer=d,e[_t]=d.current,Sr(e.nodeType===8?e.parentNode:e),wn(),d}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var x=i;i=function(){var D=Xi(w);x.call(D)}}var w=ra(e,0,!1,null,null,!1,!1,"",$u);return e._reactRootContainer=w,e[_t]=w.current,Sr(e.nodeType===8?e.parentNode:e),wn(function(){Gi(t,w,n,i)}),w}function es(e,t,n,i,l){var o=n._reactRootContainer;if(o){var d=o;if(typeof l=="function"){var x=l;l=function(){var w=Xi(d);x.call(w)}}Gi(t,d,e,l)}else d=Up(n,t,e,l,i);return Xi(d)}jo=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=or(t.pendingLanes);n!==0&&(Rs(t,n|1),et(t,ze()),!(ve&6)&&(Gn=ze()+500,Zt()))}break;case 13:wn(function(){var i=Mt(e,1);if(i!==null){var l=Ke();kt(i,e,1,l)}}),ia(e,1)}},zs=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Ke();kt(t,e,134217728,n)}ia(e,134217728)}},No=function(e){if(e.tag===13){var t=ln(e),n=Mt(e,t);if(n!==null){var i=Ke();kt(n,e,t,i)}ia(e,t)}},wo=function(){return Ne},So=function(e,t){var n=Ne;try{return Ne=e,t()}finally{Ne=n}},Ss=function(e,t,n){switch(t){case"input":if(ms(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=vi(i);if(!l)throw Error(c(90));qa(i),ms(i,l)}}}break;case"textarea":Xa(e,n);break;case"select":t=n.value,t!=null&&Pn(e,!!n.multiple,t,!1)}},lo=Xl,ao=wn;var Vp={usingClientEntryPoint:!1,Events:[Er,An,vi,io,so,Xl]},$r={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bp={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fo(e),e===null?null:e.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ts.isDisabled&&ts.supportsFiber)try{Jr=ts.inject(Bp),Tt=ts}catch{}}return tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vp,tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!la(t))throw Error(c(200));return $p(e,t,null,n)},tt.createRoot=function(e,t){if(!la(e))throw Error(c(299));var n=!1,i="",l=Ou;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ra(e,1,!1,null,null,n,!1,i,l),e[_t]=t.current,Sr(e.nodeType===8?e.parentNode:e),new sa(t)},tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=fo(t),e=e===null?null:e.stateNode,e},tt.flushSync=function(e){return wn(e)},tt.hydrate=function(e,t,n){if(!Zi(t))throw Error(c(200));return es(null,e,t,!0,n)},tt.hydrateRoot=function(e,t,n){if(!la(e))throw Error(c(405));var i=n!=null&&n.hydratedSources||null,l=!1,o="",d=Ou;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=Au(t,null,e,1,n??null,l,!1,o,d),e[_t]=t.current,Sr(e),i)for(e=0;e<i.length;e++)n=i[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ji(t)},tt.render=function(e,t,n){if(!Zi(t))throw Error(c(200));return es(null,e,t,!1,n)},tt.unmountComponentAtNode=function(e){if(!Zi(e))throw Error(c(40));return e._reactRootContainer?(wn(function(){es(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1},tt.unstable_batchedUpdates=Xl,tt.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zi(n))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return es(e,t,n,!1,i)},tt.version="18.3.1-next-f1338f8080-20240426",tt}var Ku;function eh(){if(Ku)return ca.exports;Ku=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),ca.exports=Zp(),ca.exports}var Yu;function th(){if(Yu)return rs;Yu=1;var s=eh();return rs.createRoot=s.createRoot,rs.hydrateRoot=s.hydrateRoot,rs}var nh=th();const rh=Ia(nh);var Vr={},Gu;function ih(){if(Gu)return Vr;Gu=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.parse=m,Vr.serialize=h;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,a=/^[\u0021-\u003A\u003C-\u007E]*$/,c=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,u=/^[\u0020-\u003A\u003D-\u007E]*$/,f=Object.prototype.toString,p=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function m(N,P){const C=new p,k=N.length;if(k<2)return C;const R=(P==null?void 0:P.decode)||T;let z=0;do{const F=N.indexOf("=",z);if(F===-1)break;const Q=N.indexOf(";",z),q=Q===-1?k:Q;if(F>q){z=N.lastIndexOf(";",F-1)+1;continue}const H=y(N,z,F),Y=v(N,F,H),S=N.slice(H,Y);if(C[S]===void 0){let A=y(N,F+1,q),_=v(N,q,A);const W=R(N.slice(A,_));C[S]=W}z=q+1}while(z<k);return C}function y(N,P,C){do{const k=N.charCodeAt(P);if(k!==32&&k!==9)return P}while(++P<C);return C}function v(N,P,C){for(;P>C;){const k=N.charCodeAt(--P);if(k!==32&&k!==9)return P+1}return C}function h(N,P,C){const k=(C==null?void 0:C.encode)||encodeURIComponent;if(!s.test(N))throw new TypeError(`argument name is invalid: ${N}`);const R=k(P);if(!a.test(R))throw new TypeError(`argument val is invalid: ${P}`);let z=N+"="+R;if(!C)return z;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);z+="; Max-Age="+C.maxAge}if(C.domain){if(!c.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);z+="; Domain="+C.domain}if(C.path){if(!u.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);z+="; Path="+C.path}if(C.expires){if(!j(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);z+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(z+="; HttpOnly"),C.secure&&(z+="; Secure"),C.partitioned&&(z+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return z}function T(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function j(N){return f.call(N)==="[object Date]"}return Vr}ih();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xu="popstate";function sh(s={}){function a(u,f){let{pathname:p,search:m,hash:y}=u.location;return Ra("",{pathname:p,search:m,hash:y},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function c(u,f){return typeof f=="string"?f:Hr(f)}return ah(a,c,null,s)}function Pe(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Et(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function lh(){return Math.random().toString(36).substring(2,10)}function Ju(s,a){return{usr:s.state,key:s.key,idx:a}}function Ra(s,a,c=null,u){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof a=="string"?Jn(a):a,state:c,key:a&&a.key||u||lh()}}function Hr({pathname:s="/",search:a="",hash:c=""}){return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),c&&c!=="#"&&(s+=c.charAt(0)==="#"?c:"#"+c),s}function Jn(s){let a={};if(s){let c=s.indexOf("#");c>=0&&(a.hash=s.substring(c),s=s.substring(0,c));let u=s.indexOf("?");u>=0&&(a.search=s.substring(u),s=s.substring(0,u)),s&&(a.pathname=s)}return a}function ah(s,a,c,u={}){let{window:f=document.defaultView,v5Compat:p=!1}=u,m=f.history,y="POP",v=null,h=T();h==null&&(h=0,m.replaceState({...m.state,idx:h},""));function T(){return(m.state||{idx:null}).idx}function j(){y="POP";let R=T(),z=R==null?null:R-h;h=R,v&&v({action:y,location:k.location,delta:z})}function N(R,z){y="PUSH";let F=Ra(k.location,R,z);h=T()+1;let Q=Ju(F,h),q=k.createHref(F);try{m.pushState(Q,"",q)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;f.location.assign(q)}p&&v&&v({action:y,location:k.location,delta:1})}function P(R,z){y="REPLACE";let F=Ra(k.location,R,z);h=T();let Q=Ju(F,h),q=k.createHref(F);m.replaceState(Q,"",q),p&&v&&v({action:y,location:k.location,delta:0})}function C(R){let z=f.location.origin!=="null"?f.location.origin:f.location.href,F=typeof R=="string"?R:Hr(R);return F=F.replace(/ $/,"%20"),Pe(z,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,z)}let k={get action(){return y},get location(){return s(f,m)},listen(R){if(v)throw new Error("A history only accepts one active listener");return f.addEventListener(Xu,j),v=R,()=>{f.removeEventListener(Xu,j),v=null}},createHref(R){return a(f,R)},createURL:C,encodeLocation(R){let z=C(R);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:N,replace:P,go(R){return m.go(R)}};return k}function yd(s,a,c="/"){return oh(s,a,c,!1)}function oh(s,a,c,u){let f=typeof a=="string"?Jn(a):a,p=fn(f.pathname||"/",c);if(p==null)return null;let m=xd(s);ch(m);let y=null;for(let v=0;y==null&&v<m.length;++v){let h=jh(p);y=yh(m[v],h,u)}return y}function xd(s,a=[],c=[],u=""){let f=(p,m,y)=>{let v={relativePath:y===void 0?p.path||"":y,caseSensitive:p.caseSensitive===!0,childrenIndex:m,route:p};v.relativePath.startsWith("/")&&(Pe(v.relativePath.startsWith(u),`Absolute route path "${v.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(u.length));let h=Vt([u,v.relativePath]),T=c.concat(v);p.children&&p.children.length>0&&(Pe(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),xd(p.children,a,T,h)),!(p.path==null&&!p.index)&&a.push({path:h,score:gh(h,p.index),routesMeta:T})};return s.forEach((p,m)=>{var y;if(p.path===""||!((y=p.path)!=null&&y.includes("?")))f(p,m);else for(let v of jd(p.path))f(p,m,v)}),a}function jd(s){let a=s.split("/");if(a.length===0)return[];let[c,...u]=a,f=c.endsWith("?"),p=c.replace(/\?$/,"");if(u.length===0)return f?[p,""]:[p];let m=jd(u.join("/")),y=[];return y.push(...m.map(v=>v===""?p:[p,v].join("/"))),f&&y.push(...m),y.map(v=>s.startsWith("/")&&v===""?"/":v)}function ch(s){s.sort((a,c)=>a.score!==c.score?c.score-a.score:vh(a.routesMeta.map(u=>u.childrenIndex),c.routesMeta.map(u=>u.childrenIndex)))}var uh=/^:[\w-]+$/,dh=3,fh=2,ph=1,hh=10,mh=-2,Zu=s=>s==="*";function gh(s,a){let c=s.split("/"),u=c.length;return c.some(Zu)&&(u+=mh),a&&(u+=fh),c.filter(f=>!Zu(f)).reduce((f,p)=>f+(uh.test(p)?dh:p===""?ph:hh),u)}function vh(s,a){return s.length===a.length&&s.slice(0,-1).every((u,f)=>u===a[f])?s[s.length-1]-a[a.length-1]:0}function yh(s,a,c=!1){let{routesMeta:u}=s,f={},p="/",m=[];for(let y=0;y<u.length;++y){let v=u[y],h=y===u.length-1,T=p==="/"?a:a.slice(p.length)||"/",j=os({path:v.relativePath,caseSensitive:v.caseSensitive,end:h},T),N=v.route;if(!j&&h&&c&&!u[u.length-1].route.index&&(j=os({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},T)),!j)return null;Object.assign(f,j.params),m.push({params:f,pathname:Vt([p,j.pathname]),pathnameBase:Ch(Vt([p,j.pathnameBase])),route:N}),j.pathnameBase!=="/"&&(p=Vt([p,j.pathnameBase]))}return m}function os(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[c,u]=xh(s.path,s.caseSensitive,s.end),f=a.match(c);if(!f)return null;let p=f[0],m=p.replace(/(.)\/+$/,"$1"),y=f.slice(1);return{params:u.reduce((h,{paramName:T,isOptional:j},N)=>{if(T==="*"){let C=y[N]||"";m=p.slice(0,p.length-C.length).replace(/(.)\/+$/,"$1")}const P=y[N];return j&&!P?h[T]=void 0:h[T]=(P||"").replace(/%2F/g,"/"),h},{}),pathname:p,pathnameBase:m,pattern:s}}function xh(s,a=!1,c=!0){Et(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let u=[],f="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,y,v)=>(u.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(u.push({paramName:"*"}),f+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?f+="\\/*$":s!==""&&s!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,a?void 0:"i"),u]}function jh(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Et(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),s}}function fn(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let c=a.endsWith("/")?a.length-1:a.length,u=s.charAt(c);return u&&u!=="/"?null:s.slice(c)||"/"}function Nh(s,a="/"){let{pathname:c,search:u="",hash:f=""}=typeof s=="string"?Jn(s):s;return{pathname:c?c.startsWith("/")?c:wh(c,a):a,search:kh(u),hash:Eh(f)}}function wh(s,a){let c=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(f=>{f===".."?c.length>1&&c.pop():f!=="."&&c.push(f)}),c.length>1?c.join("/"):"/"}function fa(s,a,c,u){return`Cannot include a '${s}' character in a manually specified \`to.${a}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sh(s){return s.filter((a,c)=>c===0||a.route.path&&a.route.path.length>0)}function Da(s){let a=Sh(s);return a.map((c,u)=>u===a.length-1?c.pathname:c.pathnameBase)}function Fa(s,a,c,u=!1){let f;typeof s=="string"?f=Jn(s):(f={...s},Pe(!f.pathname||!f.pathname.includes("?"),fa("?","pathname","search",f)),Pe(!f.pathname||!f.pathname.includes("#"),fa("#","pathname","hash",f)),Pe(!f.search||!f.search.includes("#"),fa("#","search","hash",f)));let p=s===""||f.pathname==="",m=p?"/":f.pathname,y;if(m==null)y=c;else{let j=a.length-1;if(!u&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),j-=1;f.pathname=N.join("/")}y=j>=0?a[j]:"/"}let v=Nh(f,y),h=m&&m!=="/"&&m.endsWith("/"),T=(p||m===".")&&c.endsWith("/");return!v.pathname.endsWith("/")&&(h||T)&&(v.pathname+="/"),v}var Vt=s=>s.join("/").replace(/\/\/+/g,"/"),Ch=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),kh=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Eh=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Ph(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Nd=["POST","PUT","PATCH","DELETE"];new Set(Nd);var Th=["GET",...Nd];new Set(Th);var Zn=g.createContext(null);Zn.displayName="DataRouter";var us=g.createContext(null);us.displayName="DataRouterState";var wd=g.createContext({isTransitioning:!1});wd.displayName="ViewTransition";var bh=g.createContext(new Map);bh.displayName="Fetchers";var Rh=g.createContext(null);Rh.displayName="Await";var Pt=g.createContext(null);Pt.displayName="Navigation";var Wr=g.createContext(null);Wr.displayName="Location";var mt=g.createContext({outlet:null,matches:[],isDataRoute:!1});mt.displayName="Route";var Aa=g.createContext(null);Aa.displayName="RouteError";function zh(s,{relative:a}={}){Pe(er(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:u}=g.useContext(Pt),{hash:f,pathname:p,search:m}=qr(s,{relative:a}),y=p;return c!=="/"&&(y=p==="/"?c:Vt([c,p])),u.createHref({pathname:y,search:m,hash:f})}function er(){return g.useContext(Wr)!=null}function Bt(){return Pe(er(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Wr).location}var Sd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cd(s){g.useContext(Pt).static||g.useLayoutEffect(s)}function gt(){let{isDataRoute:s}=g.useContext(mt);return s?qh():Lh()}function Lh(){Pe(er(),"useNavigate() may be used only in the context of a <Router> component.");let s=g.useContext(Zn),{basename:a,navigator:c}=g.useContext(Pt),{matches:u}=g.useContext(mt),{pathname:f}=Bt(),p=JSON.stringify(Da(u)),m=g.useRef(!1);return Cd(()=>{m.current=!0}),g.useCallback((v,h={})=>{if(Et(m.current,Sd),!m.current)return;if(typeof v=="number"){c.go(v);return}let T=Fa(v,JSON.parse(p),f,h.relative==="path");s==null&&a!=="/"&&(T.pathname=T.pathname==="/"?a:Vt([a,T.pathname])),(h.replace?c.replace:c.push)(T,h.state,h)},[a,c,p,f,s])}var Ih=g.createContext(null);function _h(s){let a=g.useContext(mt).outlet;return a&&g.createElement(Ih.Provider,{value:s},a)}function Ma(){let{matches:s}=g.useContext(mt),a=s[s.length-1];return a?a.params:{}}function qr(s,{relative:a}={}){let{matches:c}=g.useContext(mt),{pathname:u}=Bt(),f=JSON.stringify(Da(c));return g.useMemo(()=>Fa(s,JSON.parse(f),u,a==="path"),[s,f,u,a])}function Dh(s,a){return kd(s,a)}function kd(s,a,c,u){var z;Pe(er(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=g.useContext(Pt),{matches:p}=g.useContext(mt),m=p[p.length-1],y=m?m.params:{},v=m?m.pathname:"/",h=m?m.pathnameBase:"/",T=m&&m.route;{let F=T&&T.path||"";Ed(v,!T||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let j=Bt(),N;if(a){let F=typeof a=="string"?Jn(a):a;Pe(h==="/"||((z=F.pathname)==null?void 0:z.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${F.pathname}" was given in the \`location\` prop.`),N=F}else N=j;let P=N.pathname||"/",C=P;if(h!=="/"){let F=h.replace(/^\//,"").split("/");C="/"+P.replace(/^\//,"").split("/").slice(F.length).join("/")}let k=yd(s,{pathname:C});Et(T||k!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Et(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=$h(k&&k.map(F=>Object.assign({},F,{params:Object.assign({},y,F.params),pathname:Vt([h,f.encodeLocation?f.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?h:Vt([h,f.encodeLocation?f.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),p,c,u);return a&&R?g.createElement(Wr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},R):R}function Fh(){let s=Wh(),a=Ph(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),c=s instanceof Error?s.stack:null,u="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:u},p={padding:"2px 4px",backgroundColor:u},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:p},"ErrorBoundary")," or"," ",g.createElement("code",{style:p},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},a),c?g.createElement("pre",{style:f},c):null,m)}var Ah=g.createElement(Fh,null),Mh=class extends g.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?g.createElement(mt.Provider,{value:this.props.routeContext},g.createElement(Aa.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Oh({routeContext:s,match:a,children:c}){let u=g.useContext(Zn);return u&&u.static&&u.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(mt.Provider,{value:s},c)}function $h(s,a=[],c=null,u=null){if(s==null){if(!c)return null;if(c.errors)s=c.matches;else if(a.length===0&&!c.initialized&&c.matches.length>0)s=c.matches;else return null}let f=s,p=c==null?void 0:c.errors;if(p!=null){let v=f.findIndex(h=>h.route.id&&(p==null?void 0:p[h.route.id])!==void 0);Pe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),f=f.slice(0,Math.min(f.length,v+1))}let m=!1,y=-1;if(c)for(let v=0;v<f.length;v++){let h=f[v];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(y=v),h.route.id){let{loaderData:T,errors:j}=c,N=h.route.loader&&!T.hasOwnProperty(h.route.id)&&(!j||j[h.route.id]===void 0);if(h.route.lazy||N){m=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((v,h,T)=>{let j,N=!1,P=null,C=null;c&&(j=p&&h.route.id?p[h.route.id]:void 0,P=h.route.errorElement||Ah,m&&(y<0&&T===0?(Ed("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,C=null):y===T&&(N=!0,C=h.route.hydrateFallbackElement||null)));let k=a.concat(f.slice(0,T+1)),R=()=>{let z;return j?z=P:N?z=C:h.route.Component?z=g.createElement(h.route.Component,null):h.route.element?z=h.route.element:z=v,g.createElement(Oh,{match:h,routeContext:{outlet:v,matches:k,isDataRoute:c!=null},children:z})};return c&&(h.route.ErrorBoundary||h.route.errorElement||T===0)?g.createElement(Mh,{location:c.location,revalidation:c.revalidation,component:P,error:j,children:R(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):R()},null)}function Oa(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uh(s){let a=g.useContext(Zn);return Pe(a,Oa(s)),a}function Vh(s){let a=g.useContext(us);return Pe(a,Oa(s)),a}function Bh(s){let a=g.useContext(mt);return Pe(a,Oa(s)),a}function $a(s){let a=Bh(s),c=a.matches[a.matches.length-1];return Pe(c.route.id,`${s} can only be used on routes that contain a unique "id"`),c.route.id}function Hh(){return $a("useRouteId")}function Wh(){var u;let s=g.useContext(Aa),a=Vh("useRouteError"),c=$a("useRouteError");return s!==void 0?s:(u=a.errors)==null?void 0:u[c]}function qh(){let{router:s}=Uh("useNavigate"),a=$a("useNavigate"),c=g.useRef(!1);return Cd(()=>{c.current=!0}),g.useCallback(async(f,p={})=>{Et(c.current,Sd),c.current&&(typeof f=="number"?s.navigate(f):await s.navigate(f,{fromRouteId:a,...p}))},[s,a])}var ed={};function Ed(s,a,c){!a&&!ed[s]&&(ed[s]=!0,Et(!1,c))}g.memo(Qh);function Qh({routes:s,future:a,state:c}){return kd(s,void 0,c,a)}function Pd({to:s,replace:a,state:c,relative:u}){Pe(er(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=g.useContext(Pt);Et(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:p}=g.useContext(mt),{pathname:m}=Bt(),y=gt(),v=Fa(s,Da(p),m,u==="path"),h=JSON.stringify(v);return g.useEffect(()=>{y(JSON.parse(h),{replace:a,state:c,relative:u})},[y,h,u,a,c]),null}function Kh(s){return _h(s.context)}function nt(s){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yh({basename:s="/",children:a=null,location:c,navigationType:u="POP",navigator:f,static:p=!1}){Pe(!er(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),y=g.useMemo(()=>({basename:m,navigator:f,static:p,future:{}}),[m,f,p]);typeof c=="string"&&(c=Jn(c));let{pathname:v="/",search:h="",hash:T="",state:j=null,key:N="default"}=c,P=g.useMemo(()=>{let C=fn(v,m);return C==null?null:{location:{pathname:C,search:h,hash:T,state:j,key:N},navigationType:u}},[m,v,h,T,j,N,u]);return Et(P!=null,`<Router basename="${m}"> is not able to match the URL "${v}${h}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:g.createElement(Pt.Provider,{value:y},g.createElement(Wr.Provider,{children:a,value:P}))}function Gh({children:s,location:a}){return Dh(za(s),a)}function za(s,a=[]){let c=[];return g.Children.forEach(s,(u,f)=>{if(!g.isValidElement(u))return;let p=[...a,f];if(u.type===g.Fragment){c.push.apply(c,za(u.props.children,p));return}Pe(u.type===nt,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!u.props.index||!u.props.children,"An index route cannot have child routes.");let m={id:u.props.id||p.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(m.children=za(u.props.children,p)),c.push(m)}),c}var ls="get",as="application/x-www-form-urlencoded";function ds(s){return s!=null&&typeof s.tagName=="string"}function Xh(s){return ds(s)&&s.tagName.toLowerCase()==="button"}function Jh(s){return ds(s)&&s.tagName.toLowerCase()==="form"}function Zh(s){return ds(s)&&s.tagName.toLowerCase()==="input"}function em(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function tm(s,a){return s.button===0&&(!a||a==="_self")&&!em(s)}var is=null;function nm(){if(is===null)try{new FormData(document.createElement("form"),0),is=!1}catch{is=!0}return is}var rm=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pa(s){return s!=null&&!rm.has(s)?(Et(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${as}"`),null):s}function im(s,a){let c,u,f,p,m;if(Jh(s)){let y=s.getAttribute("action");u=y?fn(y,a):null,c=s.getAttribute("method")||ls,f=pa(s.getAttribute("enctype"))||as,p=new FormData(s)}else if(Xh(s)||Zh(s)&&(s.type==="submit"||s.type==="image")){let y=s.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=s.getAttribute("formaction")||y.getAttribute("action");if(u=v?fn(v,a):null,c=s.getAttribute("formmethod")||y.getAttribute("method")||ls,f=pa(s.getAttribute("formenctype"))||pa(y.getAttribute("enctype"))||as,p=new FormData(y,s),!nm()){let{name:h,type:T,value:j}=s;if(T==="image"){let N=h?`${h}.`:"";p.append(`${N}x`,"0"),p.append(`${N}y`,"0")}else h&&p.append(h,j)}}else{if(ds(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=ls,u=null,f=as,m=s}return p&&f==="text/plain"&&(m=p,p=void 0),{action:u,method:c.toLowerCase(),encType:f,formData:p,body:m}}function Ua(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}async function sm(s,a){if(s.id in a)return a[s.id];try{let c=await import(s.module);return a[s.id]=c,c}catch(c){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lm(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function am(s,a,c){let u=await Promise.all(s.map(async f=>{let p=a.routes[f.route.id];if(p){let m=await sm(p,c);return m.links?m.links():[]}return[]}));return dm(u.flat(1).filter(lm).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function td(s,a,c,u,f,p){let m=(v,h)=>c[h]?v.route.id!==c[h].route.id:!0,y=(v,h)=>{var T;return c[h].pathname!==v.pathname||((T=c[h].route.path)==null?void 0:T.endsWith("*"))&&c[h].params["*"]!==v.params["*"]};return p==="assets"?a.filter((v,h)=>m(v,h)||y(v,h)):p==="data"?a.filter((v,h)=>{var j;let T=u.routes[v.route.id];if(!T||!T.hasLoader)return!1;if(m(v,h)||y(v,h))return!0;if(v.route.shouldRevalidate){let N=v.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:((j=c[0])==null?void 0:j.params)||{},nextUrl:new URL(s,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function om(s,a){return cm(s.map(c=>{let u=a.routes[c.route.id];if(!u)return[];let f=[u.module];return u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function cm(s){return[...new Set(s)]}function um(s){let a={},c=Object.keys(s).sort();for(let u of c)a[u]=s[u];return a}function dm(s,a){let c=new Set;return new Set(a),s.reduce((u,f)=>{let p=JSON.stringify(um(f));return c.has(p)||(c.add(p),u.push({key:p,link:f})),u},[])}function fm(s){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname="_root.data":a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function pm(){let s=g.useContext(Zn);return Ua(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function hm(){let s=g.useContext(us);return Ua(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Va=g.createContext(void 0);Va.displayName="FrameworkContext";function Td(){let s=g.useContext(Va);return Ua(s,"You must render this element inside a <HydratedRouter> element"),s}function mm(s,a){let c=g.useContext(Va),[u,f]=g.useState(!1),[p,m]=g.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:h,onMouseLeave:T,onTouchStart:j}=a,N=g.useRef(null);g.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let k=z=>{z.forEach(F=>{m(F.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return N.current&&R.observe(N.current),()=>{R.disconnect()}}},[s]),g.useEffect(()=>{if(u){let k=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(k)}}},[u]);let P=()=>{f(!0)},C=()=>{f(!1),m(!1)};return c?s!=="intent"?[p,N,{}]:[p,N,{onFocus:Br(y,P),onBlur:Br(v,C),onMouseEnter:Br(h,P),onMouseLeave:Br(T,C),onTouchStart:Br(j,P)}]:[!1,N,{}]}function Br(s,a){return c=>{s&&s(c),c.defaultPrevented||a(c)}}function gm({page:s,...a}){let{router:c}=pm(),u=g.useMemo(()=>yd(c.routes,s,c.basename),[c.routes,s,c.basename]);return u?g.createElement(ym,{page:s,matches:u,...a}):null}function vm(s){let{manifest:a,routeModules:c}=Td(),[u,f]=g.useState([]);return g.useEffect(()=>{let p=!1;return am(s,a,c).then(m=>{p||f(m)}),()=>{p=!0}},[s,a,c]),u}function ym({page:s,matches:a,...c}){let u=Bt(),{manifest:f,routeModules:p}=Td(),{loaderData:m,matches:y}=hm(),v=g.useMemo(()=>td(s,a,y,f,u,"data"),[s,a,y,f,u]),h=g.useMemo(()=>td(s,a,y,f,u,"assets"),[s,a,y,f,u]),T=g.useMemo(()=>{if(s===u.pathname+u.search+u.hash)return[];let P=new Set,C=!1;if(a.forEach(R=>{var F;let z=f.routes[R.route.id];!z||!z.hasLoader||(!v.some(Q=>Q.route.id===R.route.id)&&R.route.id in m&&((F=p[R.route.id])!=null&&F.shouldRevalidate)||z.hasClientLoader?C=!0:P.add(R.route.id))}),P.size===0)return[];let k=fm(s);return C&&P.size>0&&k.searchParams.set("_routes",a.filter(R=>P.has(R.route.id)).map(R=>R.route.id).join(",")),[k.pathname+k.search]},[m,u,f,v,a,s,p]),j=g.useMemo(()=>om(h,f),[h,f]),N=vm(h);return g.createElement(g.Fragment,null,T.map(P=>g.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...c})),j.map(P=>g.createElement("link",{key:P,rel:"modulepreload",href:P,...c})),N.map(({key:P,link:C})=>g.createElement("link",{key:P,...C})))}function xm(...s){return a=>{s.forEach(c=>{typeof c=="function"?c(a):c!=null&&(c.current=a)})}}var bd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bd&&(window.__reactRouterVersion="7.1.3")}catch{}function jm({basename:s,children:a,window:c}){let u=g.useRef();u.current==null&&(u.current=sh({window:c,v5Compat:!0}));let f=u.current,[p,m]=g.useState({action:f.action,location:f.location}),y=g.useCallback(v=>{g.startTransition(()=>m(v))},[m]);return g.useLayoutEffect(()=>f.listen(y),[f,y]),g.createElement(Yh,{basename:s,children:a,location:p.location,navigationType:p.action,navigator:f})}var Rd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=g.forwardRef(function({onClick:a,discover:c="render",prefetch:u="none",relative:f,reloadDocument:p,replace:m,state:y,target:v,to:h,preventScrollReset:T,viewTransition:j,...N},P){let{basename:C}=g.useContext(Pt),k=typeof h=="string"&&Rd.test(h),R,z=!1;if(typeof h=="string"&&k&&(R=h,bd))try{let _=new URL(window.location.href),W=h.startsWith("//")?new URL(_.protocol+h):new URL(h),J=fn(W.pathname,C);W.origin===_.origin&&J!=null?h=J+W.search+W.hash:z=!0}catch{Et(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=zh(h,{relative:f}),[Q,q,H]=mm(u,N),Y=Sm(h,{replace:m,state:y,target:v,preventScrollReset:T,relative:f,viewTransition:j});function S(_){a&&a(_),_.defaultPrevented||Y(_)}let A=g.createElement("a",{...N,...H,href:R||F,onClick:z||p?a:S,ref:xm(P,q),target:v,"data-discover":!k&&c==="render"?"true":void 0});return Q&&!k?g.createElement(g.Fragment,null,A,g.createElement(gm,{page:F})):A});qe.displayName="Link";var zd=g.forwardRef(function({"aria-current":a="page",caseSensitive:c=!1,className:u="",end:f=!1,style:p,to:m,viewTransition:y,children:v,...h},T){let j=qr(m,{relative:h.relative}),N=Bt(),P=g.useContext(us),{navigator:C,basename:k}=g.useContext(Pt),R=P!=null&&Tm(j)&&y===!0,z=C.encodeLocation?C.encodeLocation(j).pathname:j.pathname,F=N.pathname,Q=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;c||(F=F.toLowerCase(),Q=Q?Q.toLowerCase():null,z=z.toLowerCase()),Q&&k&&(Q=fn(Q,k)||Q);const q=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let H=F===z||!f&&F.startsWith(z)&&F.charAt(q)==="/",Y=Q!=null&&(Q===z||!f&&Q.startsWith(z)&&Q.charAt(z.length)==="/"),S={isActive:H,isPending:Y,isTransitioning:R},A=H?a:void 0,_;typeof u=="function"?_=u(S):_=[u,H?"active":null,Y?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let W=typeof p=="function"?p(S):p;return g.createElement(qe,{...h,"aria-current":A,className:_,ref:T,style:W,to:m,viewTransition:y},typeof v=="function"?v(S):v)});zd.displayName="NavLink";var Nm=g.forwardRef(({discover:s="render",fetcherKey:a,navigate:c,reloadDocument:u,replace:f,state:p,method:m=ls,action:y,onSubmit:v,relative:h,preventScrollReset:T,viewTransition:j,...N},P)=>{let C=Em(),k=Pm(y,{relative:h}),R=m.toLowerCase()==="get"?"get":"post",z=typeof y=="string"&&Rd.test(y),F=Q=>{if(v&&v(Q),Q.defaultPrevented)return;Q.preventDefault();let q=Q.nativeEvent.submitter,H=(q==null?void 0:q.getAttribute("formmethod"))||m;C(q||Q.currentTarget,{fetcherKey:a,method:H,navigate:c,replace:f,state:p,relative:h,preventScrollReset:T,viewTransition:j})};return g.createElement("form",{ref:P,method:R,action:k,onSubmit:u?v:F,...N,"data-discover":!z&&s==="render"?"true":void 0})});Nm.displayName="Form";function wm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ld(s){let a=g.useContext(Zn);return Pe(a,wm(s)),a}function Sm(s,{target:a,replace:c,state:u,preventScrollReset:f,relative:p,viewTransition:m}={}){let y=gt(),v=Bt(),h=qr(s,{relative:p});return g.useCallback(T=>{if(tm(T,a)){T.preventDefault();let j=c!==void 0?c:Hr(v)===Hr(h);y(s,{replace:j,state:u,preventScrollReset:f,relative:p,viewTransition:m})}},[v,y,h,c,u,a,s,f,p,m])}var Cm=0,km=()=>`__${String(++Cm)}__`;function Em(){let{router:s}=Ld("useSubmit"),{basename:a}=g.useContext(Pt),c=Hh();return g.useCallback(async(u,f={})=>{let{action:p,method:m,encType:y,formData:v,body:h}=im(u,a);if(f.navigate===!1){let T=f.fetcherKey||km();await s.fetch(T,c,f.action||p,{preventScrollReset:f.preventScrollReset,formData:v,body:h,formMethod:f.method||m,formEncType:f.encType||y,flushSync:f.flushSync})}else await s.navigate(f.action||p,{preventScrollReset:f.preventScrollReset,formData:v,body:h,formMethod:f.method||m,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:c,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,a,c])}function Pm(s,{relative:a}={}){let{basename:c}=g.useContext(Pt),u=g.useContext(mt);Pe(u,"useFormAction must be used inside a RouteContext");let[f]=u.matches.slice(-1),p={...qr(s||".",{relative:a})},m=Bt();if(s==null){p.search=m.search;let y=new URLSearchParams(p.search),v=y.getAll("index");if(v.some(T=>T==="")){y.delete("index"),v.filter(j=>j).forEach(j=>y.append("index",j));let T=y.toString();p.search=T?`?${T}`:""}}return(!s||s===".")&&f.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(p.pathname=p.pathname==="/"?c:Vt([c,p.pathname])),Hr(p)}function Tm(s,a={}){let c=g.useContext(wd);Pe(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=Ld("useViewTransitionState"),f=qr(s,{relative:a.relative});if(!c.isTransitioning)return!1;let p=fn(c.currentLocation.pathname,u)||c.currentLocation.pathname,m=fn(c.nextLocation.pathname,u)||c.nextLocation.pathname;return os(f.pathname,m)!=null||os(f.pathname,p)!=null}new TextEncoder;const bm=()=>{const[s,a]=g.useState({users:0,locations:0,reservations:0,revenue:0}),[c,u]=g.useState([]);g.useEffect(()=>{a({users:1234,locations:89,reservations:456,revenue:125430}),u([{id:1,type:"reservation",message:"Nuova prenotazione per Villa Paradiso",time:"5 minuti fa"},{id:2,type:"user",message:"Nuovo utente registrato: Mario Rossi",time:"15 minuti fa"},{id:3,type:"location",message:"Location aggiornata: Casa del Mare",time:"1 ora fa"},{id:4,type:"payment",message:"Pagamento ricevuto: €450",time:"2 ore fa"}])},[]);const f=[{title:"Aggiungi Location",link:"/location/create",icon:"➕",color:"primary"},{title:"Nuova Prenotazione",link:"/reservations",icon:"📅",color:"success"},{title:"Gestisci Utenti",link:"/users",icon:"👥",color:"info"},{title:"Importa Dati",link:"/scraping",icon:"🔄",color:"warning"}],p=m=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(m);return r.jsxs("div",{className:"dashboard-container",children:[r.jsxs("div",{className:"dashboard-header",children:[r.jsx("h1",{className:"dashboard-title",children:"Dashboard"}),r.jsx("p",{className:"dashboard-subtitle",children:"Benvenuto nel pannello di amministrazione LocaTrova"})]}),r.jsxs("div",{className:"stats-grid",children:[r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon users-icon",children:"👥"}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:s.users.toLocaleString("it-IT")}),r.jsx("p",{className:"stat-label",children:"Utenti Totali"})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon locations-icon",children:"📍"}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:s.locations}),r.jsx("p",{className:"stat-label",children:"Location Attive"})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon reservations-icon",children:"📅"}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:s.reservations}),r.jsx("p",{className:"stat-label",children:"Prenotazioni"})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon revenue-icon",children:"💰"}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:p(s.revenue)}),r.jsx("p",{className:"stat-label",children:"Entrate Totali"})]})]})]}),r.jsxs("section",{className:"dashboard-section",children:[r.jsx("h2",{className:"section-title",children:"Azioni Rapide"}),r.jsx("div",{className:"quick-actions-grid",children:f.map(m=>r.jsxs(qe,{to:m.link,className:`quick-action-card ${m.color}`,children:[r.jsx("span",{className:"quick-action-icon","aria-hidden":"true",children:m.icon}),r.jsx("span",{className:"quick-action-title",children:m.title})]},m.title))})]}),r.jsxs("section",{className:"dashboard-section",children:[r.jsx("h2",{className:"section-title",children:"Attività Recente"}),r.jsx("div",{className:"activity-list",children:c.map(m=>r.jsxs("div",{className:"activity-item",children:[r.jsxs("div",{className:`activity-icon ${m.type}`,children:[m.type==="reservation"&&"📅",m.type==="user"&&"👤",m.type==="location"&&"📍",m.type==="payment"&&"💳"]}),r.jsxs("div",{className:"activity-content",children:[r.jsx("p",{className:"activity-message",children:m.message}),r.jsx("p",{className:"activity-time",children:m.time})]})]},m.id))})]}),r.jsxs("section",{className:"dashboard-section",children:[r.jsx("h2",{className:"section-title",children:"Stato del Sistema"}),r.jsxs("div",{className:"system-status",children:[r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-indicator success"}),r.jsx("span",{className:"status-label",children:"Database: Operativo"})]}),r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-indicator success"}),r.jsx("span",{className:"status-label",children:"API: Operativo"})]}),r.jsxs("div",{className:"status-item",children:[r.jsx("span",{className:"status-indicator warning"}),r.jsx("span",{className:"status-label",children:"Backup: Ultimo backup 2 ore fa"})]})]})]})]})},ha="access_token",ma="refresh_token";class Rm{constructor(){ot(this,"accessToken",null);ot(this,"refreshToken",null);this.accessToken=localStorage.getItem(ha),this.refreshToken=localStorage.getItem(ma)}setTokens(a){this.accessToken=a.accessToken,this.refreshToken=a.refreshToken,localStorage.setItem(ha,a.accessToken),localStorage.setItem(ma,a.refreshToken)}getAccessToken(){return this.accessToken}getRefreshToken(){return this.refreshToken}clearTokens(){this.accessToken=null,this.refreshToken=null,localStorage.removeItem(ha),localStorage.removeItem(ma)}isAuthenticated(){return!!this.accessToken&&!this.isTokenExpired(this.accessToken)}getCurrentUser(){if(!this.accessToken)return null;try{const a=JSON.parse(atob(this.accessToken.split(".")[1]));return{userId:a.userId,email:a.email,username:a.username}}catch{return null}}isTokenExpired(a){try{return JSON.parse(atob(a.split(".")[1])).exp*1e3<Date.now()}catch{return!0}}}const En=new Rm,Ye=class Ye{constructor(){ot(this,"baseUrl");this.baseUrl=this.buildBaseUrl()}buildBaseUrl(){return"https://api.locatrova.it/api"}async request(a,c=Ye.DEFAULT_METHOD,u,f={requiresAuth:!0}){const p=this.buildRequestConfig(c,u,f),m=this.buildUrl(a),y=await fetch(m,p);return this.shouldRetryWithRefresh(y,a,f)?this.retryWithTokenRefresh(m,p):this.handleResponse(y)}buildRequestConfig(a,c,u){const f=this.buildHeaders(c,u),p=this.buildBody(c);return{method:a,headers:f,body:p}}buildHeaders(a,c){const u={"Content-Type":Ye.JSON_CONTENT_TYPE,...c.customHeaders};return a instanceof FormData&&delete u["Content-Type"],c.requiresAuth&&this.addAuthHeader(u),u}addAuthHeader(a){const c=En.getAccessToken();if(!c)throw new Error("No access token available");a.Authorization=`Bearer ${c}`}buildBody(a){if(a)return a instanceof FormData?a:JSON.stringify(a)}buildUrl(a){return`${this.baseUrl}${a}`}shouldRetryWithRefresh(a,c,u){return a.status===Ye.UNAUTHORIZED_STATUS&&!c.includes("/login")&&(u.requiresAuth??!1)}async retryWithTokenRefresh(a,c){if(!await this.refreshToken())throw this.handleUnauthorized(),new Error("Session expired");const f={...c.headers};this.addAuthHeader(f);const p=await fetch(a,{...c,headers:f});return this.handleResponse(p)}handleUnauthorized(){En.clearTokens(),this.dispatchAuthEvent("unauthenticated")}async handleResponse(a){const c=await a.json();if(!a.ok)throw new Error(c.error||"API request failed");return c}async refreshToken(){const a=En.getRefreshToken();if(!a)return!1;try{const c=await fetch(this.buildUrl(Ye.REFRESH_ENDPOINT),{method:"POST",headers:{"Content-Type":Ye.JSON_CONTENT_TYPE},body:JSON.stringify({refreshToken:a})});if(!c.ok)return!1;const u=await c.json();return this.handleRefreshResponse(u)}catch{return!1}}handleRefreshResponse(a){var u;const c=a;return c.success&&((u=c.data)!=null&&u.accessToken)?(En.setTokens({accessToken:c.data.accessToken,refreshToken:En.getRefreshToken()}),!0):!1}dispatchAuthEvent(a){window.dispatchEvent(new CustomEvent("auth",{detail:{event:a}}))}async login(a,c){const u=await this.request(Ye.LOGIN_ENDPOINT,"POST",{email:a,password:c},{requiresAuth:!1});return this.handleLoginSuccess(u),u}async logout(){await this.request(Ye.LOGOUT_ENDPOINT,"POST"),En.clearTokens(),this.dispatchAuthEvent("logout")}handleLoginSuccess(a){var u;const c=a;c.success&&((u=c.data)!=null&&u.tokens)&&(En.setTokens(c.data.tokens),this.dispatchAuthEvent("login"))}};ot(Ye,"DEFAULT_METHOD","GET"),ot(Ye,"LOGIN_ENDPOINT","/auth/login"),ot(Ye,"LOGOUT_ENDPOINT","/auth/logout"),ot(Ye,"REFRESH_ENDPOINT","/auth/refresh-token"),ot(Ye,"UNAUTHORIZED_STATUS",401),ot(Ye,"JSON_CONTENT_TYPE","application/json");let La=Ye;const fs=new La;class It extends Error{constructor(c,u,f,p){super(c);ot(this,"code");ot(this,"statusCode");ot(this,"details");this.name="ApiError",this.code=u,this.statusCode=f,this.details=p}}class dn extends It{constructor(a,c){super(a,"VALIDATION_ERROR",400,c),this.name="ValidationError"}}class zm extends It{constructor(a="Network error occurred"){super(a,"NETWORK_ERROR",0),this.name="NetworkError"}}class Lm extends It{constructor(a="Authentication failed"){super(a,"AUTHENTICATION_ERROR",401),this.name="AuthenticationError"}}class Im extends It{constructor(a="Access denied"){super(a,"AUTHORIZATION_ERROR",403),this.name="AuthorizationError"}}class _m extends It{constructor(a="Resource not found"){super(a,"NOT_FOUND_ERROR",404),this.name="NotFoundError"}}class Dm extends It{constructor(a="Internal server error"){super(a,"SERVER_ERROR",500),this.name="ServerError"}}class Id extends It{constructor(a="Request timeout"){super(a,"TIMEOUT_ERROR",408),this.name="TimeoutError"}}function Fm(s,a="An error occurred"){if(s instanceof It)return s;if(s instanceof Error){const c=s.message.toLowerCase();return c.includes("network")||c.includes("fetch")?new zm("Network connection error. Please check your internet connection."):c.includes("401")||c.includes("unauthorized")?new Lm("Session expired. Please log in again."):c.includes("403")||c.includes("forbidden")?new Im("You do not have permission to perform this action."):c.includes("404")||c.includes("not found")?new _m("The requested resource was not found."):c.includes("400")||c.includes("bad request")?new dn("Invalid request. Please check your input."):c.includes("500")||c.includes("internal server")?new Dm("Server error. Please try again later."):c.includes("timeout")?new Id("Request timed out. Please try again."):new It(s.message,"UNKNOWN_ERROR")}return new It(a,"UNKNOWN_ERROR")}function _d(s,a="API call"){const c=Fm(s,`${a} failed`);throw console.error(`[${a}] ${c.name}:`,{message:c.message,code:c.code,statusCode:c.statusCode,details:c.details}),c}function cs(s){const{field:a,value:c,required:u,minLength:f,maxLength:p,min:m,max:y,pattern:v,custom:h,message:T}=s;if(u&&(c==null||c===""))throw new dn(T||`${a} is required`);if(!(!u&&(c==null||c===""))){if(typeof c=="string"){if(f!==void 0&&c.length<f)throw new dn(T||`${a} must be at least ${f} characters long`);if(p!==void 0&&c.length>p)throw new dn(T||`${a} must be no more than ${p} characters long`);if(v&&!v.test(c))throw new dn(T||`${a} format is invalid`)}if(typeof c=="number"){if(m!==void 0&&c<m)throw new dn(T||`${a} must be at least ${m}`);if(y!==void 0&&c>y)throw new dn(T||`${a} must be no more than ${y}`)}if(h&&!h(c))throw new dn(T||`${a} is invalid`)}}function vt(s,a="ID"){return cs({field:a,value:s,required:!0,minLength:1,pattern:/^[a-fA-F0-9]{24}$/,message:`${a} must be a valid MongoDB ObjectId`}),s.trim()}function Am(s){return cs({field:"Email",value:s,required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Email format is invalid"}),s.trim().toLowerCase()}function Ba(s,a){const c=s||1,u=a||10;return cs({field:"Page",value:c,min:1,message:"Page must be a positive number"}),cs({field:"Limit",value:u,min:1,max:100,message:"Limit must be between 1 and 100"}),{page:c,limit:u}}function Mm(s){return s.trim().replace(/[<>]/g,"").replace(/\s+/g," ")}function Om(s){const a={};return Object.entries(s).forEach(([c,u])=>{u!=null&&u!==""&&(typeof u=="string"&&u.trim()?a[c]=Mm(u):(typeof u=="number"||typeof u=="boolean")&&(a[c]=u.toString()))}),a}function Dd(s){const a=Om(s);return new URLSearchParams(a).toString()}const $m=async(s,a)=>{const c=Am(s);if(!a||a.trim().length===0)throw new Error("Password is required");return fs.login(c,a.trim())},Um=async()=>{await fs.logout()},Ha=async()=>(await fs.request("/auth/check-auth","GET")).data,Vm=async()=>{try{const s=await Ha();return s&&s.isAuthenticated&&s.user?s.user:null}catch(s){return console.error("Failed to authenticate user:",s),null}},Bm=()=>{const[s,a]=g.useState({email:"",password:""}),[c,u]=g.useState(null),[f,p]=g.useState(!0),[m,y]=g.useState(!1),[v,h]=g.useState(!1),T=gt();g.useEffect(()=>{(async()=>{try{(await Ha()).isAuthenticated&&T("/",{replace:!0})}catch(C){console.error("Auth check error:",C)}finally{p(!1)}})()},[T]);const j=g.useCallback(async P=>{P.preventDefault(),u(null),y(!0);try{await $m(s.email.trim(),s.password),T("/",{replace:!0})}catch(C){console.error("Login Error: ",C),u("Email o password errati")}finally{y(!1)}},[s.email,s.password,T]),N=g.useCallback(P=>{const{name:C,value:k}=P.target;a(R=>({...R,[C]:k})),c&&u(null)},[c]);return f?r.jsx("div",{className:"login-container",children:r.jsxs("div",{className:"loading-spinner",role:"status","aria-label":"Verifica autenticazione",children:[r.jsx("span",{className:"spinner"}),r.jsx("span",{className:"sr-only",children:"Caricamento..."})]})}):r.jsx("div",{className:"login-container",children:r.jsxs("div",{className:"login-card",children:[r.jsxs("div",{className:"login-header",children:[r.jsx("h1",{className:"login-title",children:"LocaTrova Admin"}),r.jsx("p",{className:"login-subtitle",children:"Accedi al portale di amministrazione"})]}),r.jsxs("form",{onSubmit:j,className:"login-form",noValidate:!0,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),r.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:N,className:"form-input",placeholder:"nome@esempio.com","aria-label":"Indirizzo email","aria-describedby":c?"login-error":void 0,disabled:m,required:!0,autoComplete:"email",autoFocus:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),r.jsxs("div",{className:"password-input-wrapper",children:[r.jsx("input",{type:v?"text":"password",id:"password",name:"password",value:s.password,onChange:N,className:"form-input password-input",placeholder:"Inserisci password","aria-label":"Password","aria-describedby":c?"login-error":void 0,disabled:m,required:!0,autoComplete:"current-password"}),r.jsx("button",{type:"button",className:"password-toggle",onClick:()=>h(P=>!P),"aria-label":v?"Nascondi password":"Mostra password",disabled:m,children:v?r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),r.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c&&r.jsxs("div",{className:"error-message",id:"login-error",role:"alert","aria-live":"polite",children:[r.jsxs("svg",{className:"error-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]}),c]}),r.jsx("button",{type:"submit",className:"login-button",disabled:m||!s.email.trim()||!s.password,"aria-busy":m,children:m?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),r.jsx("span",{children:"Accesso in corso..."})]}):"Accedi"})]})]})})},Hm={timeout:1e4,retries:3,retryDelay:1e3};async function Wm(s,a=3,c=1e3){let u=new Error("Unknown error");for(let f=1;f<=a;f++)try{return await s()}catch(p){if(u=p,p instanceof Error&&/4\d\d/.test(p.message))throw p;if(f===a)break;const m=c*Math.pow(2,f-1)+Math.random()*1e3;await new Promise(y=>setTimeout(y,m))}throw _d(u,`Operation failed after ${a} attempts`)}async function qm(s,a=1e4){const c=new Promise((u,f)=>{setTimeout(()=>{f(new Id(`Operation timed out after ${a}ms`))},a)});return Promise.race([s(),c])}async function ps(s,a="GET",c,u={}){const f={...Hm,...u};try{return await qm(()=>Wm(async()=>(await fs.request(s,a,c)).data,f.retries,f.retryDelay),f.timeout)}catch(p){throw _d(p,`${a} ${s}`)}}const rt=(s,a)=>ps(s,"GET",void 0,a),tr=(s,a,c)=>ps(s,"POST",a,c),Fd=(s,a)=>ps(s,"DELETE",void 0,a);async function Wa(s,a={},c){const u=new URLSearchParams(Object.entries(a).reduce((p,[m,y])=>(y!=null&&y!==""&&(p[m]=String(y)),p),{})).toString(),f=u?`${s}?${u}`:s;return rt(f,c)}async function Qm(s,a,c){const u={timeout:6e4,retries:1,...c};return ps(s,"POST",a,u)}const Km=async s=>{const a=vt(s,"User ID"),c=Dd({userId:a});return rt(`/users/user?${c}`)},Ym=async s=>(vt(s.id,"User ID"),tr("/users/update",s)),Ad=async s=>{const{page:a,limit:c}=Ba(s.page,s.limit),u={...s,page:a,limit:c};return Wa("/users/filteredUsers",u)},Gm=async s=>{const a=Array.from(s);return a.forEach(c=>vt(c,"User ID")),tr("/users/saveChanges",{usersId:a})},Xm=async s=>{const a=vt(s,"User ID");return Fd(`/users/delete/${a}`)};async function Jm(s){const a=Dd({search:s});return rt(`/users/searchUsers?${a}`)}const Zm=()=>{const[s,a]=g.useState([]),[c,u]=g.useState(0),[f,p]=g.useState(!1),[m,y]=g.useState(new Set),[v,h]=g.useState(new Map),[T,j]=g.useState(!1),N=gt(),[P,C]=g.useState({username:"",email:"",phone:"",active:"",page:1,limit:10}),k=g.useMemo(()=>({username:P.username,email:P.email,phone:P.phone,active:P.active,page:P.page,limit:P.limit}),[P.username,P.email,P.phone,P.active,P.page,P.limit]),R=g.useCallback(async()=>{p(!0);try{const S=await Ad(k);a(S.users||[]),u(S.total||0)}catch(S){console.error("Error fetching users:",S),a([]),u(0),alert("Errore nel caricamento degli utenti")}finally{p(!1)}},[k]);g.useEffect(()=>{R()},[R]),g.useEffect(()=>{const S=new Map;if(s.length!==0)for(const A of s)S.set(A._id,A.active);h(S)},[s]);const z=async()=>{j(!0);try{await Gm(m),y(new Set),R();const S=document.createElement("div");S.className="toast success",S.textContent="Modifiche salvate con successo!",document.body.appendChild(S),setTimeout(()=>S.remove(),3e3)}catch(S){console.error("Error saving changes:",S),alert("Errore nel salvare le modifiche. Riprova.")}finally{j(!1)}},F=S=>{C(A=>({...A,page:S}))},Q=S=>{const A=new Map(v),_=new Set(m);A.set(S,!A.get(S)),_.has(S)?_.delete(S):_.add(S),y(_),h(A)},q=async(S,A)=>{if(window.confirm(`Sei sicuro di voler eliminare l'utente ${A}?`)){p(!0);try{if((await Xm(S)).success){R();const W=document.createElement("div");W.className="toast success",W.textContent="Utente eliminato con successo!",document.body.appendChild(W),setTimeout(()=>W.remove(),3e3)}}catch(_){console.error("Error deleting user:",_),alert("Errore nell'eliminazione dell'utente")}finally{p(!1)}}},H=()=>{C({username:"",email:"",phone:"",active:"",page:1,limit:10})},Y=Math.ceil(c/(P.limit||10));return r.jsxs("div",{className:"users-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"page-title",children:"Gestione Utenti"}),r.jsx("p",{className:"page-subtitle",children:"Visualizza e gestisci gli utenti della piattaforma"})]}),r.jsxs("button",{className:"button button-primary",onClick:()=>N("/user/create"),"aria-label":"Crea nuovo utente",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})}),"Nuovo Utente"]})]}),r.jsxs("div",{className:"filters-card",children:[r.jsxs("div",{className:"filters-header",children:[r.jsx("h2",{className:"filters-title",children:"Filtri di ricerca"}),r.jsx("button",{className:"clear-filters-btn",onClick:H,"aria-label":"Pulisci filtri",children:"Pulisci filtri"})]}),r.jsxs("div",{className:"search-filters",children:[r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"username-filter",className:"filter-label",children:"Nome utente"}),r.jsx("input",{id:"username-filter",className:"filter-input",type:"text",placeholder:"Cerca per nome...",value:P.username,onChange:S=>C({...P,username:S.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"email-filter",className:"filter-label",children:"Email"}),r.jsx("input",{id:"email-filter",className:"filter-input",type:"text",placeholder:"Cerca per email...",value:P.email,onChange:S=>C({...P,email:S.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"phone-filter",className:"filter-label",children:"Telefono"}),r.jsx("input",{id:"phone-filter",className:"filter-input",type:"text",placeholder:"Cerca per telefono...",value:P.phone,onChange:S=>C({...P,phone:S.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"status-filter",className:"filter-label",children:"Stato"}),r.jsxs("select",{id:"status-filter",className:"filter-select",value:P.active,onChange:S=>C({...P,active:S.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutti gli stati"}),r.jsx("option",{value:"true",children:"Attivi"}),r.jsx("option",{value:"false",children:"Inattivi"})]})]})]})]}),f?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento utenti..."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"table-card",children:[r.jsxs("div",{className:"table-header",children:[r.jsxs("p",{className:"results-count",children:[c," utenti trovati",m.size>0&&r.jsxs("span",{className:"changes-count",children:[" • ",m.size," modifiche non salvate"]})]}),r.jsx("div",{className:"table-actions",children:r.jsxs("select",{className:"limit-select",value:P.limit,onChange:S=>C({...P,limit:Number(S.target.value),page:1}),"aria-label":"Risultati per pagina",children:[r.jsx("option",{value:"10",children:"10 per pagina"}),r.jsx("option",{value:"25",children:"25 per pagina"}),r.jsx("option",{value:"50",children:"50 per pagina"})]})})]}),s.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsxs("svg",{className:"empty-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),r.jsx("h3",{className:"empty-title",children:"Nessun utente trovato"}),r.jsx("p",{className:"empty-text",children:"Prova a modificare i filtri di ricerca"})]}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"users-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"th-actions",children:"Azioni"}),r.jsx("th",{children:"Nome e Cognome"}),r.jsx("th",{children:"Email"}),r.jsx("th",{children:"Telefono"}),r.jsx("th",{className:"th-status",children:"Stato"})]})}),r.jsx("tbody",{children:s.map(S=>r.jsxs("tr",{className:m.has(S._id)?"row-modified":"",children:[r.jsx("td",{className:"td-actions",children:r.jsx("button",{onClick:()=>q(S._id,`${S.name} ${S.surname}`),className:"action-button delete-button","aria-label":`Elimina ${S.name} ${S.surname}`,title:"Elimina utente",children:r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),r.jsx("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})}),r.jsx("td",{onClick:()=>N(`/users/${S._id}`),className:"clickable-cell",children:r.jsxs("div",{className:"user-name-cell",children:[r.jsx("span",{className:"user-avatar",children:S.name.charAt(0).toUpperCase()}),r.jsxs("span",{className:"user-name",children:[S.name," ",S.surname]})]})}),r.jsx("td",{className:"email-cell",children:S.email}),r.jsx("td",{children:S.phone||"-"}),r.jsx("td",{children:r.jsxs("label",{className:"status-toggle",children:[r.jsx("input",{type:"checkbox",checked:v.get(S._id),onChange:()=>Q(S._id),"aria-label":`Stato attivo per ${S.name} ${S.surname}`}),r.jsx("span",{className:"status-slider"}),r.jsx("span",{className:"status-label",children:v.get(S._id)?"Attivo":"Inattivo"})]})})]},S._id))})]})})]}),m.size>0&&r.jsxs("div",{className:"changes-panel",children:[r.jsxs("div",{className:"changes-header",children:[r.jsx("h3",{className:"changes-title",children:"Modifiche non salvate"}),r.jsx("button",{className:"close-button",onClick:()=>y(new Set),"aria-label":"Annulla modifiche",children:"×"})]}),r.jsx("div",{className:"changed-users",children:Array.from(m).map(S=>{const A=s.find(_=>_._id===S);return r.jsxs("div",{className:"changed-user-item",children:[r.jsxs("span",{className:"changed-user-name",children:[A==null?void 0:A.name," ",A==null?void 0:A.surname]}),r.jsxs("span",{className:"changed-user-status",children:["→ ",v.get(S)?"Attivo":"Inattivo"]})]},S)})}),r.jsxs("div",{className:"changes-actions",children:[r.jsx("button",{className:"button button-secondary",onClick:()=>{y(new Set),R()},children:"Annulla"}),r.jsx("button",{className:"button button-primary",onClick:z,disabled:T,children:T?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]}),Y>1&&r.jsxs("div",{className:"pagination",children:[r.jsxs("button",{className:"pagination-button",disabled:P.page===1,onClick:()=>F((P.page||1)-1),"aria-label":"Pagina precedente",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Precedente"]}),r.jsxs("div",{className:"pagination-info",children:[r.jsxs("span",{className:"page-numbers",children:["Pagina ",P.page," di ",Y]}),r.jsx("div",{className:"page-dots",children:[...Array(Math.min(Y,5))].map((S,A)=>{let _;return Y<=5||P.page<=3?_=A+1:P.page>=Y-2?_=Y-4+A:_=P.page-2+A,r.jsx("button",{className:`page-dot ${_===P.page?"active":""}`,onClick:()=>F(_),"aria-label":`Vai a pagina ${_}`,children:_},A)})})]}),r.jsxs("button",{className:"pagination-button",disabled:(P.page||1)>=Y,onClick:()=>F((P.page||1)+1),"aria-label":"Pagina successiva",children:["Successiva",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})})]})]})]})]})},eg=()=>{const{userId:s}=Ma(),[a,c]=g.useState(null),[u,f]=g.useState(null),[p,m]=g.useState(!0),[y,v]=g.useState(!1),h=gt();g.useEffect(()=>{(async()=>{if(!s){h("/users");return}try{const z=await Km(s);if(!z){h("/users");return}const F={...z};c(F),f(F)}catch(z){console.error("Error fetching user details:",z),h("/users")}finally{m(!1)}})()},[s,h]);const T=g.useMemo(()=>!a||!u?!1:["name","surname","email","phone","active","verified"].some(z=>a[z]!==u[z]),[a,u]),j=(R,z)=>{u&&f({...u,[R]:z})},N=async R=>{if(R.preventDefault(),!(!u||!T)){v(!0);try{await Ym({...u,id:s}),c(u);const z=document.createElement("div");z.className="toast success",z.textContent="Utente aggiornato con successo!",document.body.appendChild(z),setTimeout(()=>z.remove(),3e3)}catch(z){console.error("Error updating user:",z);const F=document.createElement("div");F.className="toast error",F.textContent="Errore durante l'aggiornamento",document.body.appendChild(F),setTimeout(()=>F.remove(),3e3)}finally{v(!1)}}},P=()=>{a&&f(a)},C=R=>new Date(R).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),k=(R,z)=>`${R.charAt(0)}${z.charAt(0)}`.toUpperCase();return p?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento dettagli utente..."})]}):u?r.jsxs("div",{className:"user-detail-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsxs("nav",{className:"breadcrumb",children:[r.jsx(qe,{to:"/",children:"Home"}),r.jsx("span",{className:"breadcrumb-separator",children:"/"}),r.jsx(qe,{to:"/users",children:"Utenti"}),r.jsx("span",{className:"breadcrumb-separator",children:"/"}),r.jsxs("span",{children:[u.name," ",u.surname]})]}),r.jsx("h1",{className:"page-title",children:"Dettagli Utente"}),r.jsxs("p",{className:"page-subtitle",children:["ID: ",s]})]}),r.jsx("div",{className:"header-actions",children:r.jsxs("button",{className:"button button-secondary",onClick:()=>h("/users"),children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Indietro"]})})]}),r.jsxs("form",{onSubmit:N,className:"user-form",children:[r.jsx("div",{className:"profile-section",children:r.jsxs("div",{className:"profile-header",children:[r.jsx("div",{className:"profile-avatar",children:k(u.name,u.surname)}),r.jsxs("div",{className:"profile-info",children:[r.jsxs("h2",{className:"profile-name",children:[u.name," ",u.surname]}),r.jsx("p",{className:"profile-email",children:u.email}),r.jsxs("div",{className:"profile-badges",children:[r.jsx("span",{className:`badge ${u.active?"badge-success":"badge-error"}`,children:u.active?"Attivo":"Inattivo"}),u.verified&&r.jsxs("span",{className:"badge badge-info",children:[r.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M7 0a7 7 0 110 14A7 7 0 017 0zM10.28 5.28a.75.75 0 00-1.06-1.06L6.25 7.19 4.78 5.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l3.5-3.5z"})}),"Verificato"]})]})]})]})}),r.jsxs("div",{className:"form-grid",children:[r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"})}),"Informazioni Personali"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",children:"Nome"}),r.jsx("input",{id:"name",type:"text",value:u.name,onChange:R=>j("name",R.target.value),placeholder:"Nome",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"surname",children:"Cognome"}),r.jsx("input",{id:"surname",type:"text",value:u.surname,onChange:R=>j("surname",R.target.value),placeholder:"Cognome",required:!0})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"email",children:"Email"}),r.jsx("input",{id:"email",type:"email",value:u.email,onChange:R=>j("email",R.target.value),placeholder:"email@esempio.com",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:"Telefono"}),r.jsx("input",{id:"phone",type:"tel",value:u.phone||"",onChange:R=>j("phone",R.target.value),placeholder:"+39 123 456 7890"})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z"})}),"Stato Account"]}),r.jsxs("div",{className:"status-section",children:[r.jsxs("div",{className:"status-item",children:[r.jsxs("div",{className:"status-info",children:[r.jsx("label",{htmlFor:"active-toggle",children:"Stato Attivo"}),r.jsx("span",{className:"status-description",children:"L'utente può accedere al sistema"})]}),r.jsxs("label",{className:"status-toggle",children:[r.jsx("input",{id:"active-toggle",type:"checkbox",checked:u.active,onChange:R=>j("active",R.target.checked)}),r.jsx("span",{className:"status-slider"})]})]}),r.jsxs("div",{className:"status-item",children:[r.jsxs("div",{className:"status-info",children:[r.jsx("label",{htmlFor:"verified-toggle",children:"Email Verificata"}),r.jsx("span",{className:"status-description",children:"L'email dell'utente è stata confermata"})]}),r.jsxs("label",{className:"status-toggle",children:[r.jsx("input",{id:"verified-toggle",type:"checkbox",checked:u.verified||!1,onChange:R=>j("verified",R.target.checked)}),r.jsx("span",{className:"status-slider"})]})]})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"})}),"Informazioni Sistema"]}),r.jsxs("div",{className:"info-grid",children:[r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"ID Utente"}),r.jsx("span",{className:"info-value",children:u._id})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Data Creazione"}),r.jsx("span",{className:"info-value",children:u.createdAt?C(u.createdAt):"N/A"})]}),u.lastLogin&&r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Ultimo Accesso"}),r.jsx("span",{className:"info-value",children:C(u.lastLogin)})]})]})]})]}),T&&r.jsxs("div",{className:"form-actions-sticky",children:[r.jsxs("div",{className:"changes-indicator",children:[r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]}),"Hai modifiche non salvate"]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"button button-secondary",onClick:P,children:"Annulla modifiche"}),r.jsx("button",{type:"submit",className:"button button-primary",disabled:y,children:y?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]})]})]}):r.jsxs("div",{className:"error-container",children:[r.jsxs("svg",{className:"error-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),r.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),r.jsx("h2",{className:"error-title",children:"Utente non trovato"}),r.jsx(qe,{to:"/users",className:"button button-primary",children:"Torna agli utenti"})]})},tg=async s=>{const{page:a,limit:c}=Ba(s.page,s.limit),u={...s,page:a,limit:c};return Wa("/locations/filteredLocations",u)},ng=async s=>{if(!Array.isArray(s)||s.length===0)throw new Error("No changes to save");return s.forEach(a=>{if(!a.id)throw new Error("Missing ID in change object");vt(a.id,"Location ID")}),tr("/locations/saveChanges",s)},rg=async s=>{const a=vt(s,"Location ID");return Fd(`/locations/delete/${a}`)},ig=async s=>{const a=vt(s,"Location ID");return rt(`/locations/location?locationId=${a}`)},sg=async s=>(vt(s.id,"Location ID"),tr("/locations/update",s));async function lg(s,a){if(!s)throw new Error("Dati location mancanti");return(a||(()=>{}))(10),s instanceof FormData?Qm("/locations/create",s,{timeout:6e4,retries:1}):tr("/locations/create",s)}async function ag(s){if(!s||s.trim().length<2)throw new Error("Search term must be at least 2 characters");return rt(`/locations/searchLocations?search=${encodeURIComponent(s.trim())}`)}const og=()=>{const s=gt();return r.jsxs("div",{className:"error-container",children:[r.jsx("h1",{children:"Errore"}),r.jsx("p",{children:"Si è verificato un errore nel caricamento delle locations."}),r.jsxs("div",{className:"error-actions",children:[r.jsx("button",{onClick:()=>s("/"),children:"Torna alla Home"}),r.jsx("button",{onClick:()=>window.location.reload(),children:"Riprova"})]})]})},cg=()=>{const[s,a]=g.useState([]),[c,u]=g.useState(0),[f,p]=g.useState(!1),[m,y]=g.useState(new Set),[v,h]=g.useState([]),[T,j]=g.useState(!1),N=gt(),[P,C]=g.useState(!1),[k,R]=g.useState({name:"",owner:"",city:"",active:"",stripeId:"",fee:"",special:"",verified:"",page:1,limit:10}),z=g.useMemo(()=>({name:k.name,owner:k.owner,city:k.city,active:k.active,stripeId:k.stripeId,fee:k.fee,special:k.special,verified:k.verified,page:k.page,limit:k.limit}),[k.name,k.owner,k.city,k.active,k.stripeId,k.fee,k.special,k.verified,k.page,k.limit]),F=g.useCallback(async()=>{p(!0),y(new Set),h([]);try{const _=await tg(z);a(_.locations||[]),u(_.total||0),C(!1)}catch(_){console.error("Error fetching locations:",_),a([]),u(0),C(!0)}finally{p(!1)}},[z]);g.useEffect(()=>{F()},[F]),g.useEffect(()=>{s&&Array.isArray(s)&&(h([...s]),y(new Set))},[s]);const Q=async()=>{j(!0);try{const _=v.filter(J=>m.has(J._id)).map(({ownerId:J,ownerName:ge,ownerSurname:ce,_id:me,...ye})=>({...ye,id:me}));await ng(_),y(new Set),F();const W=document.createElement("div");W.className="toast success",W.textContent="Modifiche salvate con successo!",document.body.appendChild(W),setTimeout(()=>W.remove(),3e3)}catch(_){console.error("Error saving changes:",_),alert("Errore nel salvare le modifiche. Riprova.")}finally{j(!1)}},q=_=>{R(W=>({...W,page:_}))},H=(_,W,J)=>{h(ce=>ce.map(me=>me._id===_?{...me,[W]:J}:me));const ge=s.find(ce=>ce._id===_);if(ge){const ce={...ge,[W]:J},me=ge.special!==ce.special||ge.fee!==ce.fee||ge.active!==ce.active;y(ye=>{const we=new Set(ye);return me?we.add(_):we.delete(_),we})}},Y=async(_,W)=>{if(window.confirm(`Sei sicuro di voler eliminare la location ${W}?`)){p(!0);try{await rg(_),F();const J=document.createElement("div");J.className="toast success",J.textContent="Location eliminata con successo!",document.body.appendChild(J),setTimeout(()=>J.remove(),3e3)}catch(J){console.error("Error deleting location:",J),alert("Errore nell'eliminazione della location")}finally{p(!1)}}},S=()=>{R({name:"",owner:"",city:"",active:"",stripeId:"",fee:"",special:"",verified:"",page:1,limit:10})},A=Math.ceil(c/(k.limit||10));return r.jsxs("div",{className:"locations-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"page-title",children:"Gestione Location"}),r.jsx("p",{className:"page-subtitle",children:"Visualizza e gestisci le location della piattaforma"})]}),r.jsxs("button",{className:"button button-primary",onClick:()=>N("/location/create"),"aria-label":"Crea nuova location",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})}),"Nuova Location"]})]}),r.jsxs("div",{className:"filters-card",children:[r.jsxs("div",{className:"filters-header",children:[r.jsx("h2",{className:"filters-title",children:"Filtri di ricerca"}),r.jsx("button",{className:"clear-filters-btn",onClick:S,"aria-label":"Pulisci filtri",children:"Pulisci filtri"})]}),r.jsxs("div",{className:"search-filters",children:[r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"name-filter",className:"filter-label",children:"Nome location"}),r.jsx("input",{id:"name-filter",className:"filter-input",type:"text",placeholder:"Cerca per nome...",value:k.name,onChange:_=>R({...k,name:_.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"owner-filter",className:"filter-label",children:"Proprietario"}),r.jsx("input",{id:"owner-filter",className:"filter-input",type:"text",placeholder:"Nome proprietario...",value:k.owner,onChange:_=>R({...k,owner:_.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"city-filter",className:"filter-label",children:"Città"}),r.jsx("input",{id:"city-filter",className:"filter-input",type:"text",placeholder:"Cerca città...",value:k.city,onChange:_=>R({...k,city:_.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"stripe-filter",className:"filter-label",children:"Stripe ID"}),r.jsx("input",{id:"stripe-filter",className:"filter-input",type:"text",placeholder:"ID Stripe...",value:k.stripeId,onChange:_=>R({...k,stripeId:_.target.value,page:1})})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"fee-filter",className:"filter-label",children:"Commissione"}),r.jsxs("select",{id:"fee-filter",className:"filter-select",value:k.fee,onChange:_=>R({...k,fee:_.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutte"}),r.jsx("option",{value:"10",children:"10%"}),r.jsx("option",{value:"15",children:"15%"}),r.jsx("option",{value:"20",children:"20%"}),r.jsx("option",{value:"25",children:"25%"}),r.jsx("option",{value:"30",children:"30%"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"type-filter",className:"filter-label",children:"Tipo"}),r.jsxs("select",{id:"type-filter",className:"filter-select",value:k.special,onChange:_=>R({...k,special:_.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutti i tipi"}),r.jsx("option",{value:"true",children:"Speciali"}),r.jsx("option",{value:"false",children:"Normali"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"active-filter",className:"filter-label",children:"Stato"}),r.jsxs("select",{id:"active-filter",className:"filter-select",value:k.active,onChange:_=>R({...k,active:_.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutti"}),r.jsx("option",{value:"true",children:"Attive"}),r.jsx("option",{value:"false",children:"Inattive"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"verified-filter",className:"filter-label",children:"Verifica"}),r.jsxs("select",{id:"verified-filter",className:"filter-select",value:k.verified,onChange:_=>R({...k,verified:_.target.value,page:1}),children:[r.jsx("option",{value:"",children:"Tutte"}),r.jsx("option",{value:"true",children:"Verificate"}),r.jsx("option",{value:"false",children:"Non Verificate"})]})]})]})]}),f?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento location..."})]}):P?r.jsx(og,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"table-card",children:[r.jsxs("div",{className:"table-header",children:[r.jsxs("p",{className:"results-count",children:[c," location trovate",m.size>0&&r.jsxs("span",{className:"changes-count",children:[" • ",m.size," modifiche non salvate"]})]}),r.jsx("div",{className:"table-actions",children:r.jsxs("select",{className:"limit-select",value:k.limit,onChange:_=>R({...k,limit:Number(_.target.value),page:1}),"aria-label":"Risultati per pagina",children:[r.jsx("option",{value:"10",children:"10 per pagina"}),r.jsx("option",{value:"25",children:"25 per pagina"}),r.jsx("option",{value:"50",children:"50 per pagina"})]})})]}),v.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsxs("svg",{className:"empty-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),r.jsx("h3",{className:"empty-title",children:"Nessuna location trovata"}),r.jsx("p",{className:"empty-text",children:"Prova a modificare i filtri di ricerca"})]}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"locations-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"th-actions",children:"Azioni"}),r.jsx("th",{children:"Nome"}),r.jsx("th",{children:"Proprietario"}),r.jsx("th",{children:"Città"}),r.jsx("th",{children:"Stripe ID"}),r.jsx("th",{className:"th-checkbox",children:"Speciale"}),r.jsx("th",{className:"th-fee",children:"Commissione"}),r.jsx("th",{className:"th-checkbox",children:"Attiva"})]})}),r.jsx("tbody",{children:v.map(_=>r.jsxs("tr",{className:m.has(_._id)?"row-modified":"",children:[r.jsx("td",{className:"td-actions",children:r.jsx("button",{onClick:()=>Y(_._id,_.name),className:"action-button delete-button","aria-label":`Elimina ${_.name}`,title:"Elimina location",children:r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),r.jsx("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})}),r.jsx("td",{className:"clickable-cell location-name",onClick:()=>N(`/locations/${_._id}`),children:r.jsxs("div",{className:"location-name-wrapper",children:[r.jsx("svg",{className:"location-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})}),_.name]})}),r.jsxs("td",{className:"clickable-cell owner-name",onClick:()=>N(`/users/${_.ownerId}`),children:[_.ownerName," ",_.ownerSurname]}),r.jsx("td",{children:_.city}),r.jsx("td",{className:"stripe-id",children:_.stripeId||"-"}),r.jsx("td",{className:"td-checkbox",children:r.jsxs("label",{className:"checkbox-wrapper",children:[r.jsx("input",{type:"checkbox",checked:_.special,onChange:W=>H(_._id,"special",W.target.checked),"aria-label":`Location speciale per ${_.name}`}),r.jsx("span",{className:"checkbox-custom"})]})}),r.jsx("td",{className:"td-fee",children:r.jsxs("div",{className:"fee-input-wrapper",children:[r.jsx("input",{type:"number",min:"10",max:"30",value:_.fee,step:"5",className:"fee-input",onChange:W=>H(_._id,"fee",parseInt(W.target.value)||10),"aria-label":`Commissione per ${_.name}`}),r.jsx("span",{className:"fee-suffix",children:"%"})]})}),r.jsx("td",{className:"td-checkbox",children:r.jsxs("label",{className:"status-toggle",children:[r.jsx("input",{type:"checkbox",checked:_.active,onChange:W=>H(_._id,"active",W.target.checked),"aria-label":`Stato attivo per ${_.name}`}),r.jsx("span",{className:"status-slider"})]})})]},_._id))})]})})]}),m.size>0&&r.jsxs("div",{className:"changes-panel",children:[r.jsxs("div",{className:"changes-header",children:[r.jsx("h3",{className:"changes-title",children:"Modifiche non salvate"}),r.jsx("button",{className:"close-button",onClick:()=>{y(new Set),h([...s])},"aria-label":"Annulla modifiche",children:"×"})]}),r.jsx("div",{className:"changed-locations",children:Array.from(m).map(_=>{const W=v.find(ge=>ge._id===_),J=s.find(ge=>ge._id===_);return r.jsxs("div",{className:"changed-location-item",children:[r.jsx("span",{className:"changed-location-name",children:W==null?void 0:W.name}),r.jsx("div",{className:"changed-details",children:J&&W&&r.jsxs(r.Fragment,{children:[J.special!==W.special&&r.jsxs("span",{className:"change-badge",children:["Speciale: ",W.special?"Sì":"No"]}),J.fee!==W.fee&&r.jsxs("span",{className:"change-badge",children:["Commissione: ",W.fee,"%"]}),J.active!==W.active&&r.jsx("span",{className:"change-badge",children:W.active?"Attiva":"Inattiva"})]})})]},_)})}),r.jsxs("div",{className:"changes-actions",children:[r.jsx("button",{className:"button button-secondary",onClick:()=>{y(new Set),h([...s])},children:"Annulla"}),r.jsx("button",{className:"button button-primary",onClick:Q,disabled:T,children:T?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]}),A>1&&r.jsxs("div",{className:"pagination",children:[r.jsxs("button",{className:"pagination-button",disabled:k.page===1,onClick:()=>q((k.page||1)-1),"aria-label":"Pagina precedente",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Precedente"]}),r.jsxs("div",{className:"pagination-info",children:[r.jsxs("span",{className:"page-numbers",children:["Pagina ",k.page," di ",A]}),r.jsx("div",{className:"page-dots",children:[...Array(Math.min(A,5))].map((_,W)=>{let J;return A<=5||k.page<=3?J=W+1:k.page>=A-2?J=A-4+W:J=k.page-2+W,r.jsx("button",{className:`page-dot ${J===k.page?"active":""}`,onClick:()=>q(J),"aria-label":`Vai a pagina ${J}`,children:J},W)})})]}),r.jsxs("button",{className:"pagination-button",disabled:(k.page||1)>=A,onClick:()=>q((k.page||1)+1),"aria-label":"Pagina successiva",children:["Successiva",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})})]})]})]})]})},ug=()=>{const{locationId:s}=Ma(),[a,c]=g.useState(null),[u,f]=g.useState(null),[p,m]=g.useState(null),y=gt();g.useEffect(()=>{(async()=>{if(!s){y("/locations");return}try{const N=await ig(s);if(!N){y("/locations");return}c(N),f(N)}catch(N){console.error("Error fetching location details:",N),y("/locations")}})()},[s,y]);const v=(j,N)=>{f(P=>{if(!P)return null;const C={...P};let k=C;for(let R=0;R<j.length-1;R++)k=k[j[R]];return k[j[j.length-1]]=N,C})},h=async j=>{if(j.preventDefault(),!u||!a)return;const N=Object.keys(u).reduce((P,C)=>(u[C]!==a[C]&&(P[C]=u[C]),P),{});try{const P=await sg({id:s,...N});m(!!P)}catch(P){console.error("Error updating location: ",P),m(!1)}},T=(j,N,P=[])=>{const C=[...P,j],k=["stripeId","location","ownerId"].includes(j),R={id:j,name:j,disabled:k};return Array.isArray(N)?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[j,":"]}),r.jsx("div",{className:"nested-group",children:N.map((z,F)=>r.jsx("div",{className:j==="images"?"image-group":"",children:j==="images"?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:z,alt:`Image ${F}`,className:"image-preview"}),r.jsx("input",{...R,className:"image-input",type:"text",value:z,onChange:Q=>v([...C,F.toString()],Q.target.value)})]}):T(`${j}[${F}]`,z,C)},F))})]},j):typeof N=="object"&&N!==null?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[j,":"]}),r.jsx("div",{className:"nested-group",children:Object.entries(N).map(([z,F])=>T(z,F,C))})]},j):typeof N=="boolean"?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:j,children:[j,":"]}),r.jsx("input",{...R,type:"checkbox",checked:N,onChange:z=>v(C,z.target.checked)})]},j):typeof N=="number"?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:j,children:[j,":"]}),r.jsx("input",{...R,type:"number",value:N,onChange:z=>v(C,parseFloat(z.target.value))})]},j):j==="description"||j==="rules"?r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:j,children:[j,":"]}),r.jsx("textarea",{...R,value:String(N||""),onChange:z=>v(C,z.target.value)})]},j):r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:j,children:[j,":"]}),r.jsx("input",{...R,type:"text",value:String(N||""),onChange:z=>v(C,z.target.value)})]},j)};return!u||!Object.keys(u).length?r.jsx("div",{className:"loading",children:"Loading..."}):r.jsxs("div",{className:"location-container",children:[r.jsx("h1",{className:"location-title",children:"Modifica della Location"}),r.jsxs("p",{style:{color:"black"},children:["Link Utili: ",r.jsx(qe,{to:"/",children:"[Home]"})," - ",r.jsx(qe,{to:"/locations",children:"[Lista Location]"})]}),r.jsxs("form",{onSubmit:h,className:"location-form",children:[r.jsx("input",{type:"text",value:s,className:"location-id",disabled:!0}),Object.entries(u).map(([j,N])=>T(j,N)),p!==null&&r.jsx("div",{className:p?"success-message":"error-message",children:p?"Salvataggio avvenuto con successo":"Errore durante il salvataggio"}),r.jsx("button",{type:"submit",className:"submit-button",children:"Salva"})]})]})};function Md(s){var c,u,f;const a={};return(c=s.name)!=null&&c.trim()?s.name.length<3&&(a.name="Il nome deve essere di almeno 3 caratteri"):a.name="Il nome della location è obbligatorio",(u=s.address)!=null&&u.trim()?s.addressSelected||(a.address="Seleziona un indirizzo dalla lista dei suggerimenti"):a.address="L'indirizzo è obbligatorio",(f=s.city)!=null&&f.trim()||(a.city="La città è obbligatoria"),s.cap&&!/^\d{5}$/.test(s.cap)&&(a.cap="Il CAP deve essere di 5 cifre"),{isValid:Object.keys(a).length===0,errors:a}}function Od(s){const a={};return!s.special&&!s.ownerId&&(a.ownerId="Seleziona un proprietario o marca la location come speciale"),{isValid:Object.keys(a).length===0,errors:a}}function $d(s){var c;const a={};return s.durationType||(a.durationType="Seleziona il tipo di durata"),s.durationType&&!s.duration?a.duration="Inserisci la durata":s.duration&&s.duration<1&&(a.duration="La durata deve essere almeno 1 ora"),s.fee?(s.fee<10||s.fee>30)&&(a.fee="La commissione deve essere tra 10% e 30%"):a.fee="La commissione è obbligatoria",!s.special&&!((c=s.stripeId)!=null&&c.trim())&&(a.stripeId="Lo Stripe ID è obbligatorio per location non speciali"),s.refundPolicyId||(a.refundPolicyId="Seleziona una politica di rimborso"),{isValid:Object.keys(a).length===0,errors:a}}function Ud(s){const a={};return(!s.type||s.type.length===0)&&(a.type="Seleziona almeno un tipo di attività"),{isValid:Object.keys(a).length===0,errors:a}}function dg(s){const a={};return s.length===0?(a.rooms="Aggiungi almeno una sala/spazio",{isValid:!1,errors:a}):(s.forEach((c,u)=>{var f;(f=c.name)!=null&&f.trim()||(a[`room_${u}_name`]=`Nome sala ${u+1} obbligatorio`),(!c.maxPeople||c.maxPeople<1)&&(a[`room_${u}_maxPeople`]=`Numero massimo persone per sala ${u+1} deve essere almeno 1`),(!c.pricePerHour||c.pricePerHour<1)&&(a[`room_${u}_pricePerHour`]=`Prezzo orario per sala ${u+1} deve essere almeno €1`),(!c.squareMeters||c.squareMeters<1)&&(a[`room_${u}_squareMeters`]=`Metri quadri per sala ${u+1} deve essere almeno 1`)}),{isValid:Object.keys(a).length===0,errors:a})}function Vd(s){const a={};return s.some(u=>u.length>0)?(s.forEach((u,f)=>{u.forEach((p,m)=>{!p.start||!p.end?a[`availability_${f}_${m}`]="Orario di inizio e fine obbligatori":p.start>=p.end&&(a[`availability_${f}_${m}`]="L'orario di fine deve essere dopo quello di inizio")})}),{isValid:Object.keys(a).length===0,errors:a}):(a.availability="Imposta almeno un orario di disponibilità",{isValid:!1,errors:a})}function fg(s){const a={},u=["image/jpeg","image/jpg","image/png","image/webp"];return s.forEach((f,p)=>{f.size>15728640&&(a[`image_${p}`]=`Immagine ${p+1}: dimensione massima 15MB`),u.includes(f.type)||(a[`image_${p}`]=`Immagine ${p+1}: formato non supportato (usa JPG, PNG o WebP)`)}),{isValid:Object.keys(a).length===0,errors:a}}function pg(s){const a=Md(s),c=Od(s),u=$d(s),f=Ud(s),p=dg(s.capacityPricing),m=Vd(s.availability),y=fg(s.images),v={...a.errors,...c.errors,...u.errors,...f.errors,...p.errors,...m.errors,...y.errors};return{isValid:Object.keys(v).length===0,errors:v}}const hg=async s=>{if(!s||s.trim().length<3)throw new Error("Query must be at least 3 characters long");const a=encodeURIComponent(s.trim());return rt(`/utils/geocode?address=${a}`)},mg=({data:s,updateData:a,errors:c,onNext:u})=>{const[f,p]=g.useState({suggestions:[],isLoading:!1,error:null,showSuggestions:!1}),[m,y]=g.useState({}),v=g.useRef(null),h=g.useRef(null),T=g.useRef([]),[j,N]=g.useState(-1);g.useEffect(()=>()=>{v.current&&v.current.abort(),h.current&&clearTimeout(h.current)},[]);const P=S=>S.trim().replace(/[<>]/g,""),C=g.useCallback((S,A)=>{const _=A;switch(S){case"name":return!_||!_.trim()?"Il nome della location è obbligatorio":_.length<3?"Il nome deve essere di almeno 3 caratteri":_.length>100?"Il nome non può superare i 100 caratteri":/^[a-zA-ZÀ-ÿ0-9\s\-_.,'()]+$/.test(_)?null:"Il nome contiene caratteri non validi";case"address":return!_||!_.trim()?"L'indirizzo è obbligatorio":s.addressSelected?null:"Seleziona un indirizzo dalla lista dei suggerimenti";case"city":return!_||!_.trim()?"La città è obbligatoria":_.length>50?"Il nome della città è troppo lungo":/^[a-zA-ZÀ-ÿ\s\-']+$/.test(_)?null:"Il nome della città contiene caratteri non validi";case"cap":return _&&!/^\d{5}$/.test(_)?"Il CAP deve essere di 5 cifre":null;case"description":return _&&_.length>1e3?"La descrizione non può superare i 1000 caratteri":null;case"rules":return _&&_.length>500?"Le regole non possono superare i 500 caratteri":null;default:return null}},[s.addressSelected]),k=g.useCallback(async S=>{v.current&&v.current.abort(),h.current&&clearTimeout(h.current);const A=P(S);if(A.length<3){p(W=>({...W,suggestions:[],showSuggestions:!1,error:null}));return}v.current=new AbortController;const{signal:_}=v.current;p(W=>({...W,isLoading:!0,error:null,showSuggestions:!0}));try{if(await new Promise(J=>{h.current=setTimeout(J,300)}),_.aborted)return;const W=await hg(A);if(_.aborted)return;W&&Array.isArray(W)?p(J=>({...J,suggestions:W.slice(0,5),isLoading:!1,error:null})):p(J=>({...J,suggestions:[],isLoading:!1,error:"Nessun indirizzo trovato"}))}catch(W){if(_.aborted)return;console.error("Address search error:",W),p(J=>({...J,suggestions:[],isLoading:!1,error:"Errore durante la ricerca degli indirizzi. Riprova."}))}},[]),R=g.useCallback(S=>{const A=P(S);a({address:A,addressSelected:!1,coordinates:[0,0]}),m.address&&y(_=>({..._,address:""})),N(-1),k(A)},[a,m.address,k]),z=g.useCallback(S=>{let A=s.city||"",_=s.cap||"";const W=S.formattedAddress.split(",");W.length>1&&!A&&(A=W[1].trim()),a({address:S.formattedAddress,city:A,cap:_,coordinates:[S.lng,S.lat],addressSelected:!0}),p(J=>({...J,suggestions:[],showSuggestions:!1,error:null})),N(-1),y(J=>({...J,address:"",city:A?"":J.city,cap:_?"":J.cap}))},[s.city,s.cap,a]),F=g.useCallback((S,A)=>{const _=P(A);a({[S]:_});const W=C(S,_);y(J=>({...J,[S]:W||""}))},[a,C]),Q=g.useCallback(S=>{if(!(!f.showSuggestions||f.suggestions.length===0))switch(S.key){case"ArrowDown":S.preventDefault(),N(A=>A<f.suggestions.length-1?A+1:0);break;case"ArrowUp":S.preventDefault(),N(A=>A>0?A-1:f.suggestions.length-1);break;case"Enter":S.preventDefault(),j>=0&&z(f.suggestions[j]);break;case"Escape":S.preventDefault(),p(A=>({...A,showSuggestions:!1})),N(-1);break}},[f.showSuggestions,f.suggestions,j,z]),q=g.useCallback(()=>{const S=Md(s),A={},_=C("name",s.name);_&&(A.name=_);const W=C("address",s.address);W&&(A.address=W);const J=C("city",s.city);J&&(A.city=J);const ge=C("cap",s.cap);ge&&(A.cap=ge);const ce=C("description",s.description);ce&&(A.description=ce);const me=C("rules",s.rules);me&&(A.rules=me);const ye={...S.errors,...A};if(Object.keys(ye).length===0)u();else{y(ye);const we=Object.keys(ye)[0],je=document.getElementById(we);je&&(je.focus(),je.scrollIntoView({behavior:"smooth",block:"center"}))}},[s,C,u]),H=(S,A)=>{if(m[S]||c[S])return"error";switch(S){case"address":return s.address&&s.addressSelected?"success":"";case"cap":return A&&typeof A=="string"&&/^\d{5}$/.test(A)?"success":"";default:return A&&typeof A=="string"&&A.trim()?"success":""}},Y=s.name.trim()&&s.address&&s.addressSelected&&s.city.trim()&&Object.keys(m).every(S=>!m[S]);return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Informazioni di Base"}),r.jsx("p",{className:"form-section-description",children:"Inserisci le informazioni principali della location. Tutti i campi contrassegnati con * sono obbligatori."}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",className:"form-label required",children:"Nome Location"}),r.jsx("input",{id:"name",type:"text",className:`form-input ${H("name",s.name)}`,placeholder:"es. Villa Sunset, Sala Conferenze Aurora...",value:s.name,onChange:S=>F("name",S.target.value),autoComplete:"off",maxLength:100,"aria-describedby":"name-error name-help","aria-invalid":!!(m.name||c.name)}),(m.name||c.name)&&r.jsxs("div",{id:"name-error",className:"form-error",role:"alert",children:[r.jsx("span",{children:"⚠️"}),m.name||c.name]}),!m.name&&!c.name&&s.name.trim()&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"Nome valido"]}),r.jsx("div",{id:"name-help",className:"form-help",children:"Il nome deve essere unico e descrittivo (3-100 caratteri)"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"address",className:"form-label required",children:"Indirizzo"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("input",{id:"address",type:"text",className:`form-input ${H("address",s.address)}`,placeholder:"Inizia a digitare l'indirizzo...",value:s.address,onChange:S=>R(S.target.value),onKeyDown:Q,onFocus:()=>{f.suggestions.length>0&&p(S=>({...S,showSuggestions:!0}))},onBlur:()=>{setTimeout(()=>{p(S=>({...S,showSuggestions:!1})),N(-1)},200)},autoComplete:"off","aria-describedby":"address-error address-help","aria-invalid":!!(m.address||c.address),"aria-expanded":f.showSuggestions,"aria-haspopup":"listbox",role:"combobox"}),f.isLoading&&r.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:r.jsx("div",{className:"loading-spinner","aria-label":"Ricerca indirizzi..."})}),f.showSuggestions&&r.jsx("div",{className:"address-suggestions",role:"listbox","aria-label":"Suggerimenti indirizzi",children:f.suggestions.length>0?f.suggestions.map((S,A)=>r.jsx("div",{ref:_=>T.current[A]=_,className:`address-suggestion ${A===j?"active":""}`,onClick:()=>z(S),onMouseEnter:()=>N(A),role:"option","aria-selected":A===j,tabIndex:-1,children:S.formattedAddress},A)):f.error?r.jsx("div",{className:"address-suggestion error",role:"alert",children:f.error}):r.jsx("div",{className:"address-suggestion",role:"status",children:"Nessun risultato trovato"})})]}),(m.address||c.address)&&r.jsxs("div",{id:"address-error",className:"form-error",role:"alert",children:[r.jsx("span",{children:"⚠️"}),m.address||c.address]}),!m.address&&!c.address&&s.address&&!s.addressSelected&&r.jsx("div",{className:"form-help",children:"Seleziona un indirizzo dalla lista dei suggerimenti"}),!m.address&&!c.address&&s.address&&s.addressSelected&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"Indirizzo confermato"]}),r.jsx("div",{id:"address-help",className:"form-help",children:"Usa le frecce ↑↓ per navigare, Invio per selezionare, Esc per chiudere"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"city",className:"form-label required",children:"Città"}),r.jsx("input",{id:"city",type:"text",className:`form-input ${H("city",s.city)}`,placeholder:"es. Roma, Milano, Napoli...",value:s.city,onChange:S=>F("city",S.target.value),autoComplete:"address-level2",maxLength:50,"aria-describedby":"city-error city-help","aria-invalid":!!(m.city||c.city)}),(m.city||c.city)&&r.jsxs("div",{id:"city-error",className:"form-error",role:"alert",children:[r.jsx("span",{children:"⚠️"}),m.city||c.city]}),!m.city&&!c.city&&s.city.trim()&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"Città valida"]}),r.jsx("div",{id:"city-help",className:"form-help",children:"La città viene spesso compilata automaticamente dall'indirizzo"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"cap",className:"form-label",children:"CAP"}),r.jsx("input",{id:"cap",type:"text",className:`form-input ${H("cap",s.cap)}`,placeholder:"es. 00100",value:s.cap||"",onChange:S=>{const A=S.target.value.replace(/\D/g,"");F("cap",A)},maxLength:5,autoComplete:"postal-code",pattern:"\\d{5}","aria-describedby":"cap-error cap-help","aria-invalid":!!(m.cap||c.cap)}),(m.cap||c.cap)&&r.jsxs("div",{id:"cap-error",className:"form-error",role:"alert",children:[r.jsx("span",{children:"⚠️"}),m.cap||c.cap]}),!m.cap&&!c.cap&&s.cap&&/^\d{5}$/.test(s.cap)&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"CAP valido"]}),r.jsx("div",{id:"cap-help",className:"form-help",children:"Il CAP viene spesso compilato automaticamente dall'indirizzo"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"description",className:"form-label",children:"Descrizione"}),r.jsx("textarea",{id:"description",className:`form-textarea ${H("description",s.description)}`,placeholder:"Descrivi la location, i suoi punti di forza, le caratteristiche uniche...",value:s.description||"",onChange:S=>F("description",S.target.value),rows:4,maxLength:1e3,"aria-describedby":"description-help description-count",style:{resize:"vertical"}}),r.jsxs("div",{className:"form-help",children:[r.jsx("span",{id:"description-help",children:"Una buona descrizione aiuta i clienti a capire meglio la location"}),r.jsxs("span",{id:"description-count",style:{float:"right",fontSize:"0.8rem",color:"#6b7280"},children:[(s.description||"").length,"/1000"]})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"rules",className:"form-label",children:"Regole e Restrizioni"}),r.jsx("textarea",{id:"rules",className:`form-textarea ${H("rules",s.rules)}`,placeholder:"es. Vietato fumare, Silenzio dopo le 22:00, Massimo 100 persone...",value:s.rules||"",onChange:S=>F("rules",S.target.value),rows:3,maxLength:500,"aria-describedby":"rules-help rules-count",style:{resize:"vertical"}}),r.jsxs("div",{className:"form-help",children:[r.jsx("span",{id:"rules-help",children:"Specifica eventuali regole o restrizioni per l'uso della location"}),r.jsxs("span",{id:"rules-count",style:{float:"right",fontSize:"0.8rem",color:"#6b7280"},children:[(s.rules||"").length,"/500"]})]})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 1 di 6 - Informazioni di Base"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:q,disabled:!Y,"aria-describedby":"form-status",children:"Continua →"})]}),r.jsx("div",{id:"form-status",style:{marginTop:"8px",fontSize:"0.8rem"},children:Y?r.jsx("span",{style:{color:"#10b981"},children:"✓ Tutti i campi obbligatori completati"}):r.jsx("span",{style:{color:"#ef4444"},children:"Completa i campi obbligatori per continuare"})})]})]})},gg=({data:s,updateData:a,errors:c,onNext:u,onPrevious:f})=>{const[p,m]=g.useState(""),[y,v]=g.useState([]),[h,T]=g.useState(null),[j,N]=g.useState(!1),[P,C]=g.useState(!1);g.useEffect(()=>{if(s.ownerId&&!h){const H=y.find(Y=>Y._id===s.ownerId);H&&T(H)}},[s.ownerId,h,y]);const k=g.useCallback(async H=>{if(!H.trim()){v([]);return}C(!0);try{const Y=await Ad({username:H});v(Y.users||[])}catch(Y){console.error("Failed to fetch users:",Y),v([])}finally{C(!1)}},[]);g.useEffect(()=>{const H=setTimeout(()=>{p&&!h&&k(p)},300);return()=>clearTimeout(H)},[p,h,k]);const R=H=>{a({special:H,ownerId:H?"":s.ownerId}),H&&(T(null),m(""),N(!1))},z=H=>{T(H),a({ownerId:H._id}),m(""),N(!1)},F=H=>{m(H),T(null),a({ownerId:""}),N(!0)},Q=()=>{Od(s).isValid&&u()},q=s.special||s.ownerId&&h;return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Selezione Proprietario"}),r.jsx("p",{className:"form-section-description",children:"Seleziona il proprietario della location o marcala come location speciale/storica."}),r.jsxs("div",{className:"special-location-card",children:[r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{id:"special",type:"checkbox",className:"checkbox-input",checked:s.special,onChange:H=>R(H.target.checked)}),r.jsx("label",{htmlFor:"special",className:"checkbox-label",children:r.jsx("strong",{children:"Location Speciale/Storica"})})]}),r.jsx("p",{children:"Le location speciali sono luoghi storici o di particolare interesse che non richiedono un proprietario specifico e possono avere configurazioni particolari."}),s.special&&r.jsxs("div",{className:"alert alert-info",children:[r.jsx("span",{children:"ℹ️"}),"Hai selezionato una location speciale. Non è necessario selezionare un proprietario."]})]}),!s.special&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"owner-search",className:"form-label required",children:"Cerca Proprietario"}),r.jsxs("div",{className:"user-search-container",children:[r.jsx("input",{id:"owner-search",type:"text",className:`form-input ${c.ownerId?"error":h?"success":""}`,placeholder:"Inizia a digitare nome, cognome o email...",value:h?`${h.name} ${h.surname}`:p,onChange:H=>F(H.target.value),onFocus:()=>!h&&N(!0),onBlur:()=>setTimeout(()=>N(!1),200),autoComplete:"off"}),P&&r.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:r.jsx("div",{className:"loading-spinner"})}),j&&(p||y.length>0)&&!h&&r.jsx("div",{className:"user-search-results",children:y.length>0?y.map(H=>r.jsx("div",{className:"user-search-item",onClick:()=>z(H),children:r.jsxs("div",{children:[r.jsxs("strong",{children:[H.name," ",H.surname]}),H.email&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:H.email})]})},H._id)):p?r.jsxs("div",{className:"user-search-no-results",children:['Nessun utente trovato per "',p,'"']}):r.jsx("div",{className:"user-search-no-results",children:"Inizia a digitare per cercare un utente"})})]}),c.ownerId&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.ownerId]}),!c.ownerId&&h&&r.jsxs("div",{className:"form-success",children:[r.jsx("span",{children:"✓"}),"Proprietario selezionato: ",h.name," ",h.surname]}),r.jsxs("div",{className:"form-help",children:["Cerca per nome, cognome o email. Se non trovi l'utente,",r.jsx("a",{href:"/users",target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",textDecoration:"none",marginLeft:"4px"},children:"crealo prima dalla gestione utenti"}),"."]})]}),h&&!s.special&&r.jsxs("div",{style:{background:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"8px",padding:"16px",margin:"16px 0"},children:[r.jsx("h4",{style:{margin:"0 0 8px 0",color:"#0c4a6e"},children:"Proprietario Selezionato"}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{children:[r.jsxs("div",{style:{fontWeight:"600"},children:[h.name," ",h.surname]}),h.email&&r.jsx("div",{style:{fontSize:"0.9rem",color:"#64748b"},children:h.email}),r.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:["ID: ",h._id]})]}),r.jsx("button",{type:"button",className:"btn btn-outline",style:{padding:"8px 16px",fontSize:"0.9rem"},onClick:()=>{T(null),a({ownerId:""}),m("")},children:"Cambia"})]})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"← Indietro"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 2 di 6 - Proprietario"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:Q,disabled:!q,children:"Continua →"})]}),!q&&r.jsx("div",{style:{marginTop:"8px",color:"#ef4444",fontSize:"0.8rem",textAlign:"center"},children:s.special?"Location speciale configurata":"Seleziona un proprietario per continuare"})]})]})},nd=[{id:1,name:"Feste Private",description:"Compleanni, anniversari, celebrazioni private"},{id:2,name:"Eventi Aziendali",description:"Riunioni, conferenze, team building"},{id:3,name:"Matrimoni",description:"Cerimonie e ricevimenti matrimoniali"},{id:4,name:"Formazione",description:"Corsi, workshop, seminari"},{id:5,name:"Fotografia",description:"Set fotografici e videografici"},{id:6,name:"Sport",description:"Attività sportive e fitness"},{id:7,name:"Arte e Cultura",description:"Mostre, spettacoli, eventi culturali"},{id:8,name:"Gastronomia",description:"Cene, degustazioni, eventi enogastronomici"}],vg=({data:s,updateData:a,errors:c,onNext:u,onPrevious:f})=>{const p=v=>{const h=s.type||[],T=h.includes(v)?h.filter(j=>j!==v):[...h,v];a({type:T})},m=()=>{Ud(s).isValid&&u()},y=s.type&&s.type.length>0;return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Tipologie di Attività"}),r.jsx("p",{className:"form-section-description",children:"Seleziona i tipi di attività che possono essere svolte in questa location. Puoi selezionare più tipologie."}),c.type&&r.jsxs("div",{className:"alert alert-error",children:[r.jsx("span",{children:"⚠️"}),c.type]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px",marginBottom:"24px"},children:nd.map(v=>{var h,T,j,N;return r.jsxs("div",{className:`capacity-pricing-item ${(h=s.type)!=null&&h.includes(v.id)?"selected":""}`,style:{cursor:"pointer",transition:"all 0.2s",border:(T=s.type)!=null&&T.includes(v.id)?"2px solid #3b82f6":"1px solid #e2e8f0",background:(j=s.type)!=null&&j.includes(v.id)?"#f0f4ff":"#f8fafc"},onClick:()=>p(v.id),children:[r.jsxs("div",{className:"checkbox-group",style:{marginBottom:"8px"},children:[r.jsx("input",{type:"checkbox",className:"checkbox-input",checked:((N=s.type)==null?void 0:N.includes(v.id))||!1,onChange:()=>p(v.id),onClick:P=>P.stopPropagation()}),r.jsx("label",{className:"checkbox-label",children:r.jsx("strong",{children:v.name})})]}),r.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#64748b",paddingLeft:"26px"},children:v.description})]},v.id)})}),s.type&&s.type.length>0&&r.jsxs("div",{className:"alert alert-success",children:[r.jsx("span",{children:"✓"}),s.type.length," tipologie selezionate: ",nd.filter(v=>{var h;return(h=s.type)==null?void 0:h.includes(v.id)}).map(v=>v.name).join(", ")]}),r.jsxs("div",{className:"form-help",children:[r.jsx("strong",{children:"Suggerimento:"})," Seleziona tutte le tipologie pertinenti per aumentare la visibilità della location nei risultati di ricerca."]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"← Indietro"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 3 di 6 - Tipologie Attività"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:m,disabled:!y,children:"Continua →"})]}),!y&&r.jsx("div",{style:{marginTop:"8px",color:"#ef4444",fontSize:"0.8rem",textAlign:"center"},children:"Seleziona almeno una tipologia di attività per continuare"})]})]})},yg=({data:s,updateData:a,errors:c,onNext:u,onPrevious:f})=>{const p=()=>{$d(s).isValid&&u()},m=s.durationType&&s.duration&&s.fee&&(s.special||s.stripeId);return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Prezzi e Durata"}),r.jsx("p",{className:"form-section-description",children:"Configura le impostazioni di prezzo, durata e pagamento per la location."}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Tipo di Durata"}),r.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"8px"},children:[r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{type:"radio",id:"duration-fixed",name:"durationType",value:"FIXED",checked:s.durationType==="FIXED",onChange:y=>a({durationType:y.target.value})}),r.jsx("label",{htmlFor:"duration-fixed",className:"checkbox-label",children:"Durata Fissa"})]}),r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{type:"radio",id:"duration-min",name:"durationType",value:"MIN",checked:s.durationType==="MIN",onChange:y=>a({durationType:y.target.value})}),r.jsx("label",{htmlFor:"duration-min",className:"checkbox-label",children:"Durata Minima"})]})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"duration",className:"form-label required",children:s.durationType==="FIXED"?"Durata Fissa (ore)":"Durata Minima (ore)"}),r.jsx("input",{id:"duration",type:"number",className:`form-input ${c.duration?"error":s.duration?"success":""}`,placeholder:"es. 2",value:s.duration||"",onChange:y=>a({duration:parseInt(y.target.value)||0}),min:"1",max:"24"}),c.duration&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.duration]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fee",className:"form-label required",children:"Commissione LocaTrova (%)"}),r.jsx("input",{id:"fee",type:"number",className:`form-input ${c.fee?"error":s.fee?"success":""}`,placeholder:"20",value:s.fee||"",onChange:y=>a({fee:parseInt(y.target.value)||0}),min:"10",max:"30",step:"5"}),c.fee&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.fee]}),r.jsx("div",{className:"form-help",children:"Commissione standard: 20%. Range consentito: 10%-30%"})]}),!s.special&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stripeId",className:"form-label required",children:"Stripe Account ID"}),r.jsx("input",{id:"stripeId",type:"text",className:`form-input ${c.stripeId?"error":s.stripeId?"success":""}`,placeholder:"acct_...",value:s.stripeId||"",onChange:y=>a({stripeId:y.target.value})}),c.stripeId&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.stripeId]}),r.jsx("div",{className:"form-help",children:"ID del conto Stripe Connect del proprietario per ricevere i pagamenti"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"refundPolicy",className:"form-label required",children:"Politica di Rimborso"}),r.jsxs("select",{id:"refundPolicy",className:`form-select ${c.refundPolicyId?"error":s.refundPolicyId?"success":""}`,value:s.refundPolicyId||"",onChange:y=>a({refundPolicyId:y.target.value}),children:[r.jsx("option",{value:"",children:"Seleziona una politica..."}),r.jsx("option",{value:"standard",children:"Standard (rimborso fino a 24h prima)"}),r.jsx("option",{value:"flexible",children:"Flessibile (rimborso fino a 2h prima)"}),r.jsx("option",{value:"strict",children:"Rigorosa (nessun rimborso)"})]}),c.refundPolicyId&&r.jsxs("div",{className:"form-error",children:[r.jsx("span",{children:"⚠️"}),c.refundPolicyId]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Stato della Location"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"8px"},children:[r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{id:"active",type:"checkbox",className:"checkbox-input",checked:s.active,onChange:y=>a({active:y.target.checked})}),r.jsx("label",{htmlFor:"active",className:"checkbox-label",children:"Location Attiva"})]}),r.jsxs("div",{className:"checkbox-group",children:[r.jsx("input",{id:"verified",type:"checkbox",className:"checkbox-input",checked:s.verified,onChange:y=>a({verified:y.target.checked})}),r.jsx("label",{htmlFor:"verified",className:"checkbox-label",children:"Location Verificata"})]})]}),r.jsx("div",{className:"form-help",children:"Le location attive sono visibili agli utenti. La verifica indica che sono state controllate dal team."})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"← Indietro"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 4 di 6 - Prezzi e Durata"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:p,disabled:!m,children:"Continua →"})]}),!m&&r.jsx("div",{style:{marginTop:"8px",color:"#ef4444",fontSize:"0.8rem",textAlign:"center"},children:"Completa tutti i campi obbligatori per continuare"})]})]})},xg=["Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],jg=({data:s,updateData:a,errors:c,onNext:u,onPrevious:f})=>{const p=j=>{const N=[...s.availability];N[j]=[...N[j],{start:"09:00",end:"18:00"}],a({availability:N})},m=(j,N)=>{const P=[...s.availability];P[j].splice(N,1),a({availability:P})},y=(j,N,P,C)=>{const k=[...s.availability];k[j][N][P]=C,a({availability:k})},v=j=>{const N=s.availability[j],P=s.availability.map((C,k)=>k===j?C:[...N]);a({availability:P})},h=s.availability.some(j=>j.length>0),T=()=>{Vd(s.availability).isValid&&u()};return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Disponibilità Settimanale"}),r.jsx("p",{className:"form-section-description",children:"Configura gli orari di disponibilità per ogni giorno della settimana. Puoi aggiungere più fasce orarie per giorno."}),c.availability&&r.jsxs("div",{className:"alert alert-error",children:[r.jsx("span",{children:"⚠️"}),c.availability]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:xg.map((j,N)=>r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsxs("div",{className:"capacity-pricing-header",children:[r.jsx("h4",{className:"capacity-pricing-title",children:j}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.availability[N].length>0&&r.jsx("button",{type:"button",className:"btn btn-outline",style:{padding:"6px 12px",fontSize:"0.8rem"},onClick:()=>v(N),title:"Copia orari a tutti i giorni",children:"Copia a tutti"}),r.jsx("button",{type:"button",className:"btn btn-primary",style:{padding:"6px 12px",fontSize:"0.8rem"},onClick:()=>p(N),children:"+ Orario"})]})]}),s.availability[N].length===0?r.jsxs("div",{style:{textAlign:"center",color:"#6b7280",fontStyle:"italic",padding:"16px"},children:["Nessun orario impostato per ",j.toLowerCase()]}):r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:s.availability[N].map((P,C)=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"white",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1},children:[r.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b"},children:"Da:"}),r.jsx("input",{type:"time",className:"form-input",style:{width:"120px"},value:P.start,onChange:k=>y(N,C,"start",k.target.value)}),r.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b"},children:"A:"}),r.jsx("input",{type:"time",className:"form-input",style:{width:"120px"},value:P.end,onChange:k=>y(N,C,"end",k.target.value)})]}),r.jsx("button",{type:"button",className:"capacity-pricing-remove",style:{width:"32px",height:"32px"},onClick:()=>m(N,C),title:"Rimuovi orario",children:"×"})]},C))})]},N))}),h&&r.jsxs("div",{className:"alert alert-success",children:[r.jsx("span",{children:"✓"}),"Disponibilità configurata per ",s.availability.filter(j=>j.length>0).length," giorni"]}),r.jsxs("div",{className:"form-help",children:[r.jsx("strong",{children:"Suggerimenti:"}),r.jsxs("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:[r.jsx("li",{children:"Aggiungi più fasce orarie se ci sono pause durante il giorno"}),r.jsx("li",{children:'Usa "Copia a tutti" per applicare gli stessi orari a tutti i giorni'}),r.jsx("li",{children:"Assicurati che l'orario di fine sia dopo quello di inizio"})]})]}),r.jsxs("div",{style:{marginTop:"32px"},children:[r.jsx("h3",{style:{marginBottom:"16px"},children:"Sale/Spazi della Location"}),r.jsx("p",{style:{marginBottom:"16px",color:"#64748b"},children:"Aggiungi le sale o spazi disponibili con prezzi e capacità specifici."}),s.capacityPricing.map((j,N)=>r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsxs("div",{className:"capacity-pricing-header",children:[r.jsxs("h4",{children:["Sala ",N+1]}),r.jsx("button",{type:"button",className:"capacity-pricing-remove",onClick:()=>{const P=s.capacityPricing.filter((C,k)=>k!==N);a({capacityPricing:P})},children:"×"})]}),r.jsxs("div",{className:"capacity-pricing-grid",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Nome Sala"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"es. Sala Conferenze A",value:j.name,onChange:P=>{const C=[...s.capacityPricing];C[N].name=P.target.value,a({capacityPricing:C})}})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Persone Max"}),r.jsx("input",{type:"number",className:"form-input",placeholder:"50",value:j.maxPeople,onChange:P=>{const C=[...s.capacityPricing];C[N].maxPeople=parseInt(P.target.value)||0,a({capacityPricing:C})}})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Prezzo/Ora (€)"}),r.jsx("input",{type:"number",className:"form-input",placeholder:"100",value:j.pricePerHour,onChange:P=>{const C=[...s.capacityPricing];C[N].pricePerHour=parseInt(P.target.value)||0,a({capacityPricing:C})}})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label required",children:"Metri Quadri"}),r.jsx("input",{type:"number",className:"form-input",placeholder:"80",value:j.squareMeters,onChange:P=>{const C=[...s.capacityPricing];C[N].squareMeters=parseInt(P.target.value)||0,a({capacityPricing:C})}})]})]})]},N)),r.jsx("button",{type:"button",className:"add-item-btn",onClick:()=>{const j={name:"",maxPeople:0,pricePerHour:0,squareMeters:0,images:[]};a({capacityPricing:[...s.capacityPricing,j]})},children:"+ Aggiungi Sala/Spazio"})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"← Indietro"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 5 di 6 - Disponibilità"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:T,disabled:!h||s.capacityPricing.length===0,children:"Continua →"})]}),(!h||s.capacityPricing.length===0)&&r.jsx("div",{style:{marginTop:"8px",color:"#ef4444",fontSize:"0.8rem",textAlign:"center"},children:"Configura disponibilità e aggiungi almeno una sala per continuare"})]})]})},Ng=[{id:1,name:"Feste Private"},{id:2,name:"Eventi Aziendali"},{id:3,name:"Matrimoni"},{id:4,name:"Formazione"},{id:5,name:"Fotografia"},{id:6,name:"Sport"},{id:7,name:"Arte e Cultura"},{id:8,name:"Gastronomia"}],wg=["Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],Sg=({data:s,onPrevious:a})=>{const c=Ng.filter(f=>{var p;return(p=s.type)==null?void 0:p.includes(f.id)}),u=s.availability.filter(f=>f.length>0).length;return r.jsxs("div",{className:"form-section",children:[r.jsx("h2",{className:"form-section-title",children:"Revisione Finale"}),r.jsx("p",{className:"form-section-description",children:"Controlla tutti i dati inseriti prima di creare la location. Puoi tornare indietro per modificare qualsiasi informazione."}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"📍 Informazioni di Base"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Nome:"})," ",s.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Città:"})," ",s.city]}),r.jsxs("div",{style:{gridColumn:"1 / -1"},children:[r.jsx("strong",{children:"Indirizzo:"})," ",s.address]}),s.cap&&r.jsxs("div",{children:[r.jsx("strong",{children:"CAP:"})," ",s.cap]}),s.description&&r.jsxs("div",{style:{gridColumn:"1 / -1"},children:[r.jsx("strong",{children:"Descrizione:"})," ",s.description]})]})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"👤 Proprietario"}),s.special?r.jsxs("div",{className:"alert alert-warning",children:[r.jsx("span",{children:"🏛️"}),"Location Speciale/Storica - Nessun proprietario specifico"]}):r.jsxs("div",{children:[r.jsx("strong",{children:"ID Proprietario:"})," ",s.ownerId||"Non selezionato"]})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"🎯 Tipologie di Attività"}),c.length>0?r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:c.map(f=>r.jsx("span",{style:{background:"#e0f2fe",color:"#0c4a6e",padding:"4px 12px",borderRadius:"16px",fontSize:"0.9rem",border:"1px solid #7dd3fc"},children:f.name},f.id))}):r.jsx("div",{style:{color:"#ef4444"},children:"Nessuna tipologia selezionata"})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"💰 Prezzi e Durata"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Tipo Durata:"})," ",s.durationType==="FIXED"?"Fissa":"Minima"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Durata:"})," ",s.duration," ore"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Commissione:"})," ",s.fee,"%"]}),!s.special&&r.jsxs("div",{children:[r.jsx("strong",{children:"Stripe ID:"})," ",s.stripeId||"Non impostato"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Politica Rimborso:"})," ",s.refundPolicyId||"Non selezionata"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Stato:"})," ",r.jsx("span",{style:{color:s.active?"#10b981":"#ef4444"},children:s.active?"Attiva":"Inattiva"}),s.verified&&r.jsx("span",{style:{color:"#10b981",marginLeft:"8px"},children:"• Verificata"})]})]})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"⏰ Disponibilità"}),u>0?r.jsxs("div",{children:[r.jsxs("p",{style:{margin:"0 0 12px 0"},children:["Configurata per ",r.jsx("strong",{children:u})," giorni della settimana"]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:s.availability.map((f,p)=>f.length>0&&r.jsxs("div",{style:{fontSize:"0.9rem"},children:[r.jsxs("strong",{children:[wg[p],":"]})," ",f.map(m=>`${m.start}-${m.end}`).join(", ")]},p))})]}):r.jsx("div",{style:{color:"#ef4444"},children:"Nessuna disponibilità configurata"})]}),r.jsxs("div",{className:"capacity-pricing-item",children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"🏢 Sale/Spazi"}),s.capacityPricing.length>0?r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:s.capacityPricing.map((f,p)=>r.jsxs("div",{style:{background:"#f8fafc",padding:"12px",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[r.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:f.name}),r.jsxs("div",{style:{fontSize:"0.9rem",color:"#64748b"},children:[f.maxPeople," persone • €",f.pricePerHour,"/ora • ",f.squareMeters," m²"]})]},p))}):r.jsx("div",{style:{color:"#ef4444"},children:"Nessuna sala configurata"})]}),r.jsxs("div",{className:"alert alert-info",children:[r.jsx("span",{children:"ℹ️"}),r.jsxs("div",{children:[r.jsx("strong",{children:"Prima di procedere, verifica che:"}),r.jsxs("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:[r.jsx("li",{children:"Tutte le informazioni siano corrette"}),r.jsx("li",{children:"I prezzi e gli orari siano accurati"}),r.jsx("li",{children:"Le sale/spazi siano configurati correttamente"}),!s.special&&r.jsx("li",{children:"Lo Stripe ID sia valido e attivo"})]})]})]}),r.jsx("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"← Modifica"}),r.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Passo 6 di 6 - Revisione Finale"}),r.jsx("div",{style:{color:"#10b981",fontWeight:"600"},children:"✓ Pronto per la creazione"})]})})]})},un=[{id:"basic",title:"Informazioni Base",component:mg},{id:"owner",title:"Proprietario",component:gg},{id:"activities",title:"Tipologie Attività",component:vg},{id:"pricing",title:"Prezzi e Durata",component:yg},{id:"availability",title:"Disponibilità",component:jg},{id:"review",title:"Revisione",component:Sg}],Cg=()=>{const s=gt(),[a,c]=g.useState(0),[u,f]=g.useState(!1),[p,m]=g.useState(0),[y,v]=g.useState({name:"",address:"",city:"",cap:"",description:"",rules:"",ownerId:"",special:!1,coordinates:[0,0],addressSelected:!1,durationType:"FIXED",duration:1,fee:20,stripeId:"",refundPolicyId:"",active:!0,verified:!1,type:[],services:[],images:[],capacityPricing:[],availability:[[],[],[],[],[],[],[]]}),[h,T]=g.useState({}),j=Q=>{v(H=>({...H,...Q}));const q={...h};Object.keys(Q).forEach(H=>{delete q[H]}),T(q)},N=()=>{a<un.length-1&&c(Q=>Q+1)},P=()=>{a>0&&c(Q=>Q-1)},C=Q=>{Q<=a&&c(Q)},k=async()=>{const Q=pg(y);if(!Q.isValid){T(Q.errors);for(let q=0;q<un.length;q++)if(Object.keys(Q.errors).filter(Y=>Y.includes(un[q].id)||q===0&&["name","address","city"].includes(Y)).length>0){c(q);break}return}f(!0),m(0);try{const q=new FormData,H={ownerId:y.special?void 0:y.ownerId,name:y.name,city:y.city,cap:y.cap,address:y.address,description:y.description,rules:y.rules,durationType:y.durationType,duration:y.duration,stripeId:y.special?void 0:y.stripeId,fee:y.fee,refundPolicyId:y.refundPolicyId,special:y.special,active:y.active,verified:y.verified,type:y.type,services:y.services,availability:y.availability,location:{type:"Point",coordinates:y.coordinates}};q.append("data",JSON.stringify(H)),y.images.forEach(S=>{q.append("images",S)});const Y=y.capacityPricing.map((S,A)=>({roomId:A,name:S.name,maxPeople:S.maxPeople,pricePerHour:S.pricePerHour,squareMeters:S.squareMeters}));q.append("capacityPricing",JSON.stringify(Y)),y.capacityPricing.forEach((S,A)=>{S.images.forEach(_=>{q.append(`capacityPricing[${A}].images`,_)})}),await lg(q,m),setTimeout(()=>{s("/locations",{state:{message:"Location creata con successo!",type:"success"}})},1e3)}catch(q){f(!1),m(0);const H=q instanceof Error?q.message:"Errore sconosciuto durante la creazione della location";T({submit:H})}},z=un[a].component,F=(a+1)/un.length*100;return r.jsxs("div",{className:"location-create-container",children:[r.jsxs("div",{className:"location-create-header",children:[r.jsx("h1",{className:"location-create-title",children:"Crea Nuova Location"}),r.jsx("p",{className:"location-create-subtitle",children:"Segui i passaggi per creare una nuova location sulla piattaforma"}),r.jsxs("nav",{className:"breadcrumb-nav",children:[r.jsx(qe,{to:"/",children:"Home"}),r.jsx("span",{children:"→"}),r.jsx(qe,{to:"/locations",children:"Location"}),r.jsx("span",{children:"→"}),r.jsx("span",{children:"Nuova Location"})]})]}),r.jsx("div",{className:"progress-bar",children:r.jsx("div",{className:"progress-fill",style:{width:`${F}%`}})}),r.jsxs("div",{className:"form-wizard",children:[r.jsx("div",{className:"wizard-steps",children:un.map((Q,q)=>r.jsxs("button",{type:"button",className:`wizard-step ${q===a?"active":q<a?"completed":"disabled"}`,onClick:()=>C(q),disabled:q>a,children:[r.jsx("div",{className:"wizard-step-number",children:q+1}),r.jsx("div",{className:"wizard-step-title",children:Q.title})]},Q.id))}),r.jsxs("div",{className:"form-content",children:[h.submit&&r.jsxs("div",{className:"alert alert-error",children:[r.jsx("span",{children:"⚠️"}),h.submit]}),r.jsx(z,{data:y,updateData:j,errors:h,onNext:N,onPrevious:P,isFirst:a===0,isLast:a===un.length-1})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("div",{className:"form-actions-left",children:a>0&&r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:P,disabled:u,children:"← Indietro"})}),r.jsx("div",{className:"form-actions-right",children:a<un.length-1?r.jsx("button",{type:"button",className:"btn btn-primary",onClick:N,disabled:u,children:"Avanti →"}):r.jsx("button",{type:"button",className:"btn btn-success",onClick:k,disabled:u,children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"loading-spinner"}),"Creazione... ",p,"%"]}):"✓ Crea Location"})})]})]})]})},kg=()=>r.jsx(Cg,{}),Eg=async s=>{const{page:a,limit:c}=Ba(s.page,s.limit),u={...s,page:a,limit:c};return Wa("/reservations/reservations",u)},Pg=async s=>{const a=vt(s,"Reservation ID");return rt(`/reservations/reservation?reservationId=${a}`)},Bd=async s=>(vt(s.reservationId,"Reservation ID"),console.log("In reservation update, reservation request received: ",{reservationId:s.reservationId}),tr("/reservations/update",s)),rd=({placeholder:s,value:a,onChange:c,onSearch:u,options:f,isLoading:p,onClear:m})=>{const[y,v]=g.useState(!1),[h,T]=g.useState(""),j=g.useRef(null),N=g.useRef(null);g.useEffect(()=>{const k=R=>{j.current&&!j.current.contains(R.target)&&v(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const P=k=>{const R=k.target.value;T(R),u(R)},C=f.find(k=>k.value===a);return r.jsxs("div",{className:"searchable-select",ref:j,children:[r.jsxs("div",{className:"select-header",onClick:()=>{v(!y),y||setTimeout(()=>{var k;return(k=N.current)==null?void 0:k.focus()},0)},children:[a&&C?r.jsxs("div",{className:"selected-value-container",children:[r.jsx("span",{className:"selected-value",children:C.label}),r.jsx("button",{className:"clear-button",onClick:k=>{k.stopPropagation(),m(),v(!1)},children:"×"})]}):r.jsx("span",{className:"placeholder",children:s}),r.jsx("span",{className:"arrow",children:"▼"})]}),y&&r.jsxs("div",{className:"select-dropdown",children:[r.jsx("input",{ref:N,type:"text",value:h,onChange:P,className:"search-input",placeholder:"Type to search...",onClick:k=>k.stopPropagation()}),r.jsx("div",{className:"options-list",children:p?r.jsx("div",{className:"loading",children:"Loading..."}):f.length>0?f.map(k=>r.jsx("div",{className:`option ${a===k.value?"selected":""}`,onClick:()=>{c(k.value),v(!1),T("")},children:k.label},k.value)):r.jsx("div",{className:"no-results",children:"No results found"})})]})]})};var ga,id;function Hd(){if(id)return ga;id=1;function s(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}return ga=s,ga}var va,sd;function Tg(){if(sd)return va;sd=1;var s=typeof ns=="object"&&ns&&ns.Object===Object&&ns;return va=s,va}var ya,ld;function Wd(){if(ld)return ya;ld=1;var s=Tg(),a=typeof self=="object"&&self&&self.Object===Object&&self,c=s||a||Function("return this")();return ya=c,ya}var xa,ad;function bg(){if(ad)return xa;ad=1;var s=Wd(),a=function(){return s.Date.now()};return xa=a,xa}var ja,od;function Rg(){if(od)return ja;od=1;var s=/\s/;function a(c){for(var u=c.length;u--&&s.test(c.charAt(u)););return u}return ja=a,ja}var Na,cd;function zg(){if(cd)return Na;cd=1;var s=Rg(),a=/^\s+/;function c(u){return u&&u.slice(0,s(u)+1).replace(a,"")}return Na=c,Na}var wa,ud;function qd(){if(ud)return wa;ud=1;var s=Wd(),a=s.Symbol;return wa=a,wa}var Sa,dd;function Lg(){if(dd)return Sa;dd=1;var s=qd(),a=Object.prototype,c=a.hasOwnProperty,u=a.toString,f=s?s.toStringTag:void 0;function p(m){var y=c.call(m,f),v=m[f];try{m[f]=void 0;var h=!0}catch{}var T=u.call(m);return h&&(y?m[f]=v:delete m[f]),T}return Sa=p,Sa}var Ca,fd;function Ig(){if(fd)return Ca;fd=1;var s=Object.prototype,a=s.toString;function c(u){return a.call(u)}return Ca=c,Ca}var ka,pd;function _g(){if(pd)return ka;pd=1;var s=qd(),a=Lg(),c=Ig(),u="[object Null]",f="[object Undefined]",p=s?s.toStringTag:void 0;function m(y){return y==null?y===void 0?f:u:p&&p in Object(y)?a(y):c(y)}return ka=m,ka}var Ea,hd;function Dg(){if(hd)return Ea;hd=1;function s(a){return a!=null&&typeof a=="object"}return Ea=s,Ea}var Pa,md;function Fg(){if(md)return Pa;md=1;var s=_g(),a=Dg(),c="[object Symbol]";function u(f){return typeof f=="symbol"||a(f)&&s(f)==c}return Pa=u,Pa}var Ta,gd;function Ag(){if(gd)return Ta;gd=1;var s=zg(),a=Hd(),c=Fg(),u=NaN,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,y=parseInt;function v(h){if(typeof h=="number")return h;if(c(h))return u;if(a(h)){var T=typeof h.valueOf=="function"?h.valueOf():h;h=a(T)?T+"":T}if(typeof h!="string")return h===0?h:+h;h=s(h);var j=p.test(h);return j||m.test(h)?y(h.slice(2),j?2:8):f.test(h)?u:+h}return Ta=v,Ta}var ba,vd;function Mg(){if(vd)return ba;vd=1;var s=Hd(),a=bg(),c=Ag(),u="Expected a function",f=Math.max,p=Math.min;function m(y,v,h){var T,j,N,P,C,k,R=0,z=!1,F=!1,Q=!0;if(typeof y!="function")throw new TypeError(u);v=c(v)||0,s(h)&&(z=!!h.leading,F="maxWait"in h,N=F?f(c(h.maxWait)||0,v):N,Q="trailing"in h?!!h.trailing:Q);function q(ce){var me=T,ye=j;return T=j=void 0,R=ce,P=y.apply(ye,me),P}function H(ce){return R=ce,C=setTimeout(A,v),z?q(ce):P}function Y(ce){var me=ce-k,ye=ce-R,we=v-me;return F?p(we,N-ye):we}function S(ce){var me=ce-k,ye=ce-R;return k===void 0||me>=v||me<0||F&&ye>=N}function A(){var ce=a();if(S(ce))return _(ce);C=setTimeout(A,Y(ce))}function _(ce){return C=void 0,Q&&T?q(ce):(T=j=void 0,P)}function W(){C!==void 0&&clearTimeout(C),R=0,T=k=j=C=void 0}function J(){return C===void 0?P:_(a())}function ge(){var ce=a(),me=S(ce);if(T=arguments,j=this,k=ce,me){if(C===void 0)return H(k);if(F)return clearTimeout(C),C=setTimeout(A,v),q(k)}return C===void 0&&(C=setTimeout(A,v)),P}return ge.cancel=W,ge.flush=J,ge}return ba=m,ba}var Og=Mg();const ss=Ia(Og),$g=()=>{const[s,a]=g.useState([]),[c,u]=g.useState(0),[f,p]=g.useState(!1),[m,y]=g.useState(new Set),[v,h]=g.useState([]),[T,j]=g.useState([]),[N,P]=g.useState([]),[C,k]=g.useState(!1),[R,z]=g.useState(!1),[,F]=g.useState(""),[,Q]=g.useState(""),[q,H]=g.useState(!1),Y=gt(),[S,A]=g.useState({locationId:"",userId:"",startDate:"",endDate:"",payment:"",capacity:"",amount:"",page:1,limit:10}),_=g.useMemo(()=>({locationId:S.locationId,userId:S.userId,startDate:S.startDate,endDate:S.endDate,payment:S.payment,capacity:S.capacity,amount:S.amount,page:S.page,limit:S.limit}),[S.locationId,S.userId,S.startDate,S.endDate,S.payment,S.capacity,S.amount,S.page,S.limit]),W=g.useCallback(async()=>{p(!0);try{const M=await Eg(_);a(M.reservations||[]),u(M.total||0)}catch(M){console.error("Error fetching reservations:",M),a([]),u(0)}finally{p(!1)}},[_]);g.useEffect(()=>{W()},[W]),g.useEffect(()=>{h([...s])},[s]);const J=async()=>{H(!0);try{for(const te of m){const oe=v.find(re=>re._id===te);oe&&await Bd({reservationId:te,...oe})}y(new Set),W();const M=document.createElement("div");M.className="toast success",M.textContent="Modifiche salvate con successo!",document.body.appendChild(M),setTimeout(()=>M.remove(),3e3)}catch(M){console.error("Error saving changes:",M),alert("Errore nel salvare le modifiche. Riprova.")}finally{H(!1)}},ge=M=>{A(te=>({...te,page:M}))},ce=(M,te,oe)=>{h(re=>re.map(de=>de._id===M?{...de,[te]:oe}:de)),y(re=>new Set(re).add(M))},me=g.useCallback(async M=>{k(!0);try{const te=await Jm(M);j(te.users)}catch(te){console.error("Error fetching users:",te)}finally{k(!1)}},[]),ye=g.useCallback(async M=>{z(!0);try{const te=await ag(M);P(te.locations)}catch(te){console.error("Error fetching locations:",te)}finally{z(!1)}},[]),we=g.useRef(ss(M=>{me(M)},300)),je=g.useRef(ss(M=>{ye(M)},300));g.useEffect(()=>{we.current=ss(M=>{me(M)},300)},[me]),g.useEffect(()=>{je.current=ss(M=>{ye(M)},300)},[ye]);const K=g.useCallback(M=>{we.current(M)},[]),se=g.useCallback(M=>{je.current(M)},[]),X=()=>{A({locationId:"",userId:"",startDate:"",endDate:"",payment:"",capacity:"",amount:"",page:1,limit:10})},b=M=>new Date(M).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric"}),O=M=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(M),ue=Math.ceil(c/(S.limit||10));return r.jsxs("div",{className:"reservations-container",children:[r.jsx("div",{className:"page-header",children:r.jsxs("div",{children:[r.jsx("h1",{className:"page-title",children:"Gestione Prenotazioni"}),r.jsx("p",{className:"page-subtitle",children:"Visualizza e gestisci le prenotazioni della piattaforma"})]})}),r.jsxs("div",{className:"filters-card",children:[r.jsxs("div",{className:"filters-header",children:[r.jsx("h2",{className:"filters-title",children:"Filtri di ricerca"}),r.jsx("button",{className:"clear-filters-btn",onClick:X,"aria-label":"Pulisci filtri",children:"Pulisci filtri"})]}),r.jsxs("div",{className:"search-filters",children:[r.jsxs("div",{className:"filter-group filter-group-wide",children:[r.jsx("label",{className:"filter-label",children:"Utente"}),r.jsx(rd,{placeholder:"Cerca utente...",value:S.userId||"",onChange:M=>A({...S,userId:M,page:1}),onSearch:M=>{F(M),K(M)},onClear:()=>A({...S,userId:"",page:1}),isLoading:C,options:T.map(M=>({value:M._id,label:`${M.name} ${M.surname}`}))})]}),r.jsxs("div",{className:"filter-group filter-group-wide",children:[r.jsx("label",{className:"filter-label",children:"Location"}),r.jsx(rd,{placeholder:"Cerca location...",value:S.locationId||"",onChange:M=>A({...S,locationId:M,page:1}),onSearch:M=>{Q(M),se(M)},onClear:()=>A({...S,locationId:"",page:1}),isLoading:R,options:N.map(M=>({value:M._id,label:M.name}))})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"start-date",className:"filter-label",children:"Data inizio"}),r.jsx("input",{id:"start-date",type:"date",value:S.startDate,onChange:M=>A({...S,startDate:M.target.value,page:1}),className:"filter-input"})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"end-date",className:"filter-label",children:"Data fine"}),r.jsx("input",{id:"end-date",type:"date",value:S.endDate,onChange:M=>A({...S,endDate:M.target.value,page:1}),className:"filter-input"})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"payment-filter",className:"filter-label",children:"Stato pagamento"}),r.jsxs("select",{id:"payment-filter",value:S.payment,onChange:M=>A({...S,payment:M.target.value,page:1}),className:"filter-select",children:[r.jsx("option",{value:"",children:"Tutti"}),r.jsx("option",{value:"SUCCESS",children:"Completato"}),r.jsx("option",{value:"REFUNDED",children:"Rimborsato"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"capacity-filter",className:"filter-label",children:"Capacità"}),r.jsx("input",{id:"capacity-filter",type:"number",placeholder:"Capacità...",value:S.capacity,onChange:M=>A({...S,capacity:M.target.value,page:1}),className:"filter-input",min:"1"})]})]})]}),f?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento prenotazioni..."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"table-card",children:[r.jsxs("div",{className:"table-header",children:[r.jsxs("p",{className:"results-count",children:[c," prenotazioni trovate",m.size>0&&r.jsxs("span",{className:"changes-count",children:[" • ",m.size," modifiche non salvate"]})]}),r.jsx("div",{className:"table-actions",children:r.jsxs("select",{className:"limit-select",value:S.limit,onChange:M=>A({...S,limit:Number(M.target.value),page:1}),"aria-label":"Risultati per pagina",children:[r.jsx("option",{value:"10",children:"10 per pagina"}),r.jsx("option",{value:"25",children:"25 per pagina"}),r.jsx("option",{value:"50",children:"50 per pagina"})]})})]}),v.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsxs("svg",{className:"empty-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M8 2v4M16 2v4M3 10h18M5 4h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2z"}),r.jsx("path",{d:"M10 16l2 2 4-4"})]}),r.jsx("h3",{className:"empty-title",children:"Nessuna prenotazione trovata"}),r.jsx("p",{className:"empty-text",children:"Prova a modificare i filtri di ricerca"})]}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"reservations-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"ID Prenotazione"}),r.jsx("th",{children:"Location"}),r.jsx("th",{children:"Utente"}),r.jsx("th",{children:"Data"}),r.jsx("th",{children:"Orario"}),r.jsx("th",{children:"Capacità"}),r.jsx("th",{children:"Importo"}),r.jsx("th",{children:"Pagamento"}),r.jsx("th",{children:"Stripe ID"})]})}),r.jsx("tbody",{children:v.map(M=>r.jsxs("tr",{className:m.has(M._id)?"row-modified":"",children:[r.jsx("td",{children:r.jsxs(qe,{to:`/reservations/${M._id}`,className:"reservation-link",children:[r.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",children:r.jsx("path",{d:"M1.146 1.146a.5.5 0 01.708 0L7 6.293l5.146-5.147a.5.5 0 01.708.708L7.707 7l5.147 5.146a.5.5 0 01-.708.708L7 7.707l-5.146 5.147a.5.5 0 01-.708-.708L6.293 7 1.146 1.854a.5.5 0 010-.708z"})}),M._id.slice(-8)]})}),r.jsx("td",{className:"clickable-cell location-name",onClick:()=>Y(`/locations/${M.locationId}`),children:r.jsxs("div",{className:"location-info",children:[r.jsx("svg",{className:"location-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})}),M.locationName||M.locationId]})}),r.jsx("td",{className:"clickable-cell user-name",onClick:()=>Y(`/users/${M.userId}`),children:r.jsxs("div",{className:"user-info",children:[r.jsx("span",{className:"user-avatar",children:M.userName?M.userName.charAt(0).toUpperCase():"U"}),M.userName||M.userId]})}),r.jsxs("td",{className:"date-cell",children:[r.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",className:"date-icon",children:r.jsx("path",{d:"M3.5 0a.5.5 0 01.5.5V1h6V.5a.5.5 0 011 0V1h1a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V3a2 2 0 012-2h1V.5a.5.5 0 01.5-.5zM1 4v9a1 1 0 001 1h10a1 1 0 001-1V4H1z"})}),b(M.startDate)]}),r.jsxs("td",{className:"time-cell",children:[r.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",className:"time-icon",children:r.jsx("path",{d:"M7 0a7 7 0 110 14A7 7 0 017 0zM7 1a6 6 0 100 12A6 6 0 007 1zm.5 2.5v4.293l2.646 2.647a.5.5 0 01-.707.707l-3-3A.5.5 0 016.5 8V3.5a.5.5 0 011 0z"})}),M.timeSlot.start," - ",M.timeSlot.end]}),r.jsx("td",{className:"capacity-cell",children:r.jsxs("span",{className:"capacity-badge",children:[M.capacity," persone"]})}),r.jsx("td",{className:"amount-cell",children:O(M.amount)}),r.jsx("td",{children:r.jsxs("select",{value:M.payment,onChange:te=>ce(M._id,"payment",te.target.value),className:`payment-select ${M.payment==="SUCCESS"?"success":"refunded"}`,children:[r.jsx("option",{value:"SUCCESS",children:"Completato"}),r.jsx("option",{value:"REFUNDED",children:"Rimborsato"})]})}),r.jsx("td",{className:"stripe-id",children:M.stripeId||"-"})]},M._id))})]})})]}),m.size>0&&r.jsxs("div",{className:"changes-panel",children:[r.jsxs("div",{className:"changes-header",children:[r.jsx("h3",{className:"changes-title",children:"Modifiche non salvate"}),r.jsx("button",{className:"close-button",onClick:()=>{y(new Set),h([...s])},"aria-label":"Annulla modifiche",children:"×"})]}),r.jsx("div",{className:"changed-reservations",children:Array.from(m).map(M=>{const te=v.find(re=>re._id===M),oe=s.find(re=>re._id===M);return r.jsxs("div",{className:"changed-reservation-item",children:[r.jsxs("span",{className:"changed-reservation-id",children:["Prenotazione #",M.slice(-8)]}),oe&&te&&oe.payment!==te.payment&&r.jsxs("span",{className:"change-badge",children:["Pagamento: ",te.payment==="SUCCESS"?"Completato":"Rimborsato"]})]},M)})}),r.jsxs("div",{className:"changes-actions",children:[r.jsx("button",{className:"button button-secondary",onClick:()=>{y(new Set),h([...s])},children:"Annulla"}),r.jsx("button",{className:"button button-primary",onClick:J,disabled:q,children:q?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]}),ue>1&&r.jsxs("div",{className:"pagination",children:[r.jsxs("button",{className:"pagination-button",disabled:S.page===1,onClick:()=>ge((S.page||1)-1),"aria-label":"Pagina precedente",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Precedente"]}),r.jsxs("div",{className:"pagination-info",children:[r.jsxs("span",{className:"page-numbers",children:["Pagina ",S.page," di ",ue]}),r.jsx("div",{className:"page-dots",children:[...Array(Math.min(ue,5))].map((M,te)=>{let oe;return ue<=5||S.page<=3?oe=te+1:S.page>=ue-2?oe=ue-4+te:oe=S.page-2+te,r.jsx("button",{className:`page-dot ${oe===S.page?"active":""}`,onClick:()=>ge(oe),"aria-label":`Vai a pagina ${oe}`,children:oe},te)})})]}),r.jsxs("button",{className:"pagination-button",disabled:(S.page||1)>=ue,onClick:()=>ge((S.page||1)+1),"aria-label":"Pagina successiva",children:["Successiva",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})})]})]})]})]})},Ug=()=>{const{reservationId:s}=Ma(),[a,c]=g.useState(null),[u,f]=g.useState(null),[p,m]=g.useState(!0),[y,v]=g.useState(!1),h=gt();g.useEffect(()=>{(async()=>{if(!s){h("/reservations");return}try{const F=await Pg(s);if(!F){h("/reservations");return}c(F),f(F)}catch(F){console.error("Error fetching reservation details:",F),h("/reservations")}finally{m(!1)}})()},[s,h]);const T=g.useMemo(()=>!a||!u?!1:["payment","capacity","amount"].some(F=>a[F]!==u[F]),[a,u]),j=(z,F)=>{u&&f({...u,[z]:F})},N=(z,F)=>{u&&f({...u,timeSlot:{...u.timeSlot,[z]:F}})},P=async z=>{if(z.preventDefault(),!(!u||!T)){v(!0);try{await Bd({reservationId:s,...u}),c(u);const F=document.createElement("div");F.className="toast success",F.textContent="Prenotazione aggiornata con successo!",document.body.appendChild(F),setTimeout(()=>F.remove(),3e3)}catch(F){console.error("Error updating reservation:",F);const Q=document.createElement("div");Q.className="toast error",Q.textContent="Errore durante l'aggiornamento",document.body.appendChild(Q),setTimeout(()=>Q.remove(),3e3)}finally{v(!1)}}},C=()=>{a&&f(a)},k=z=>new Date(z).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),R=z=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(z);return p?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{className:"loading-text",children:"Caricamento dettagli prenotazione..."})]}):u?r.jsxs("div",{className:"reservation-detail-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsxs("nav",{className:"breadcrumb",children:[r.jsx(qe,{to:"/",children:"Home"}),r.jsx("span",{className:"breadcrumb-separator",children:"/"}),r.jsx(qe,{to:"/reservations",children:"Prenotazioni"}),r.jsx("span",{className:"breadcrumb-separator",children:"/"}),r.jsx("span",{children:s})]}),r.jsx("h1",{className:"page-title",children:"Dettagli Prenotazione"}),r.jsxs("p",{className:"page-subtitle",children:["ID: ",s]})]}),r.jsx("div",{className:"header-actions",children:r.jsxs("button",{className:"button button-secondary",onClick:()=>h("/reservations"),children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})}),"Indietro"]})})]}),r.jsxs("form",{onSubmit:P,className:"reservation-form",children:[r.jsxs("div",{className:"form-grid",children:[r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:[r.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),r.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 1 1 0 000 2H4v10h12V5h-2a1 1 0 100-2 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5z"})]}),"Informazioni Base"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"ID Prenotazione"}),r.jsx("input",{type:"text",value:u._id,disabled:!0,className:"input-disabled"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Data Creazione"}),r.jsx("input",{type:"text",value:k(u.createdAt||""),disabled:!0,className:"input-disabled"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stripe-id",children:"Stripe ID"}),r.jsx("input",{id:"stripe-id",type:"text",value:u.stripeId||"",onChange:z=>j("stripeId",z.target.value),placeholder:"ID transazione Stripe"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"payment-status",children:"Stato Pagamento"}),r.jsxs("select",{id:"payment-status",value:u.payment,onChange:z=>j("payment",z.target.value),className:`payment-select ${u.payment==="SUCCESS"?"success":"refunded"}`,children:[r.jsx("option",{value:"SUCCESS",children:"Completato"}),r.jsx("option",{value:"REFUNDED",children:"Rimborsato"})]})]})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"})}),"Location e Utente"]}),r.jsxs("div",{className:"info-section",children:[r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Location"}),r.jsxs(qe,{to:`/locations/${u.locationId}`,className:"info-link",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})}),u.locationName||u.locationId]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"Utente"}),r.jsxs(qe,{to:`/users/${u.userId}`,className:"info-link",children:[r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4z"})}),u.userName||u.userId]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx("span",{className:"info-label",children:"ID Stanza"}),r.jsx("span",{className:"info-value",children:u.roomId})]})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zM4 8h12v8H4V8z"})}),"Date e Orari"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"start-date",children:"Data Inizio"}),r.jsx("input",{id:"start-date",type:"date",value:u.startDate,onChange:z=>j("startDate",z.target.value)})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"end-date",children:"Data Fine"}),r.jsx("input",{id:"end-date",type:"date",value:u.endDate,onChange:z=>j("endDate",z.target.value)})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"time-start",children:"Orario Inizio"}),r.jsx("input",{id:"time-start",type:"time",value:u.timeSlot.start,onChange:z=>N("start",z.target.value)})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"time-end",children:"Orario Fine"}),r.jsx("input",{id:"time-end",type:"time",value:u.timeSlot.end,onChange:z=>N("end",z.target.value)})]})]})]}),r.jsxs("div",{className:"form-card",children:[r.jsxs("h2",{className:"card-title",children:[r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:[r.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.003 8 7.71c0-.293.07-.543.433-.632zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.57.433.632 0 .293-.07.632-.433.842a2.305 2.305 0 01-.567.267z"}),r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.766 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.766-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z"})]}),"Capacità e Importo"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"capacity",children:"Capacità (persone)"}),r.jsx("input",{id:"capacity",type:"number",value:u.capacity,onChange:z=>j("capacity",parseInt(z.target.value)||0),min:"1"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"amount",children:"Importo"}),r.jsxs("div",{className:"input-with-prefix",children:[r.jsx("span",{className:"input-prefix",children:"€"}),r.jsx("input",{id:"amount",type:"number",value:u.amount,onChange:z=>j("amount",parseFloat(z.target.value)||0),min:"0",step:"0.01"})]})]})]}),r.jsx("div",{className:"summary-box",children:r.jsxs("div",{className:"summary-item",children:[r.jsx("span",{className:"summary-label",children:"Totale prenotazione"}),r.jsx("span",{className:"summary-value",children:R(u.amount)})]})})]})]}),T&&r.jsxs("div",{className:"form-actions-sticky",children:[r.jsxs("div",{className:"changes-indicator",children:[r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]}),"Hai modifiche non salvate"]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"button button-secondary",onClick:C,children:"Annulla modifiche"}),r.jsx("button",{type:"submit",className:"button button-primary",disabled:y,children:y?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"button-spinner"}),"Salvataggio..."]}):"Salva modifiche"})]})]})]})]}):r.jsxs("div",{className:"error-container",children:[r.jsxs("svg",{className:"error-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),r.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),r.jsx("h2",{className:"error-title",children:"Prenotazione non trovata"}),r.jsx(qe,{to:"/reservations",className:"button button-primary",children:"Torna alle prenotazioni"})]})},Vg=async s=>{if(!s||s.trim().length===0)throw new Error("Search text is required");const a=encodeURIComponent(s.trim()),c=await rt(`/scraping/services?text=${a}`);return Array.isArray(c)?c:[]},Bg=async()=>rt("/scraping/cities"),Qd=async()=>rt("/scraping/event-types"),Kd=async()=>rt("/scraping/venue-types"),Hg=async s=>(vt(s,"Room ID"),rt(`/scraping/location?roomId=${s}`)),Wg=async(s,a=1)=>{var f,p;const c={city:s.city||"",capacity:((f=s.capacity)==null?void 0:f.toString())||"0",requiresParking:((p=s.requiresParking)==null?void 0:p.toString())||"false",serviceIds:Array.isArray(s.serviceIds)?s.serviceIds.join(","):"",eventType:s.eventType||"",venueType:s.venueType||"",page:Math.max(1,a).toString()},u=new URLSearchParams(c).toString();return rt(`/scraping/search-rooms?${u}`)},qg=async s=>{vt(s,"Room ID");try{const a=await rt(`/scraping/contacts?roomId=${s}`);return Array.isArray(a)?a:[a]}catch(a){return console.error("Error fetching contacts:",a),[]}},Qg=({selectedCity:s,onChange:a})=>{const[c,u]=g.useState([]),[f,p]=g.useState(!0),[m,y]=g.useState(null);return g.useEffect(()=>{(async()=>{try{const h=await Bg();u(h)}catch(h){console.error("Failed to fetch cities:",h),y("Failed to load cities")}finally{p(!1)}})()},[]),f?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"City"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Loading..."})})]}):m?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"City"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Error loading cities"})})]}):r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"City"}),r.jsxs("select",{className:"filter-select",value:s,onChange:v=>a(v.target.value),children:[r.jsx("option",{value:"",children:"All Cities"}),c.map((v,h)=>r.jsx("option",{value:v,children:v.charAt(0).toUpperCase()+v.slice(1)},h))]})]})},Kg=({capacity:s,onChange:a})=>r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Minimum Capacity"}),r.jsx("input",{type:"number",className:"filter-input",value:s,onChange:c=>a(c.target.value?parseInt(c.target.value):""),min:"0"})]}),Yg=({requiresParking:s,onChange:a})=>r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Parking Required"}),r.jsxs("div",{className:"filter-checkbox-container",children:[r.jsx("input",{type:"checkbox",className:"filter-checkbox",checked:s,onChange:c=>a(c.target.checked)}),r.jsx("span",{children:"Yes"})]})]}),Gg=({selectedEventType:s,onChange:a})=>{const[c,u]=g.useState([]),[f,p]=g.useState(!0),[m,y]=g.useState(null);return g.useEffect(()=>{(async()=>{try{const h=await Qd();if(Array.isArray(h)){const T=h.map((j,N)=>({_id:`event-type-${N}`,name:j}));u(T)}}catch(h){console.error("Failed to fetch event types:",h),y("Failed to load event types")}finally{p(!1)}})()},[]),f?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Event Type"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Loading..."})})]}):m?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Event Type"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Error loading event types"})})]}):r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Event Type"}),r.jsxs("select",{className:"filter-select",value:s,onChange:v=>{const h=v.target.value;a(h)},children:[r.jsx("option",{value:"",children:"All Event Types"}),c.map(v=>r.jsx("option",{value:v._id,children:v.name},v._id))]})]})},Xg=({selectedVenueType:s,onChange:a})=>{const[c,u]=g.useState([]),[f,p]=g.useState(!0),[m,y]=g.useState(null);return g.useEffect(()=>{(async()=>{try{const h=await Kd();if(Array.isArray(h)){const T=h.map((j,N)=>({_id:`venue-type-${N}`,name:j}));u(T)}}catch(h){console.error("Failed to fetch venue types:",h),y("Failed to load venue types")}finally{p(!1)}})()},[]),f?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Venue Type"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Loading..."})})]}):m?r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Venue Type"}),r.jsx("select",{className:"filter-select",disabled:!0,children:r.jsx("option",{children:"Error loading venue types"})})]}):r.jsxs("div",{className:"filter-item",children:[r.jsx("label",{className:"filter-label",children:"Venue Type"}),r.jsxs("select",{className:"filter-select",value:s,onChange:v=>a(v.target.value),children:[r.jsx("option",{value:"",children:"All Venue Types"}),c.map(v=>r.jsx("option",{value:v._id,children:v.name},v._id))]})]})},Jg=({serviceSearch:s,selectedServices:a,onSearchChange:c,onAddService:u,onRemoveService:f})=>{const[p,m]=g.useState([]),[y,v]=g.useState(!1),[h,T]=g.useState(null);return g.useEffect(()=>{(async()=>{if(!s.trim()){m([]);return}v(!0),T(null);try{const N=await Vg(s);console.log("services: ",N),m(N)}catch(N){T("Failed to fetch services"),console.error(N)}finally{v(!1)}})()},[s]),r.jsxs("div",{className:"services-section",children:[r.jsx("label",{className:"filter-label",children:"Services"}),r.jsx("div",{className:"services-tags",children:a.map(j=>r.jsxs("div",{className:"service-tag",children:[j.name,r.jsx("button",{className:"tag-remove-btn",onClick:()=>f(j._id),children:"×"})]},j._id))}),r.jsxs("div",{className:"services-input-container",children:[r.jsx("input",{type:"text",className:"services-input",value:s,onChange:j=>c(j.target.value),placeholder:"Search for services..."}),y&&r.jsx("div",{className:"services-loading",children:"Loading..."}),h&&r.jsx("div",{className:"services-error",children:h}),!y&&p.length>0&&r.jsx("div",{className:"services-dropdown",children:p.map(j=>r.jsx("div",{className:"service-option",onClick:()=>{u(j)},children:j.name},j._id))})]})]})},Zg=({selectedCity:s,capacity:a,requiresParking:c,serviceSearch:u,selectedServices:f,selectedEventType:p,selectedVenueType:m,onCityChange:y,onCapacityChange:v,onParkingChange:h,onServiceSearchChange:T,onAddService:j,onRemoveService:N,onEventTypeChange:P,onVenueTypeChange:C,onSearch:k})=>{const[R,z]=g.useState([]),[F,Q]=g.useState([]);g.useEffect(()=>{const Y=async()=>{try{const A=await Qd();if(Array.isArray(A)){const _=A.map((W,J)=>({_id:`event-type-${J}`,name:W}));z(_)}}catch(A){console.error("Failed to fetch event types:",A)}},S=async()=>{try{const A=await Kd();if(Array.isArray(A)){const _=A.map((W,J)=>({_id:`venue-type-${J}`,name:W}));Q(_)}}catch(A){console.error("Failed to fetch venue types:",A)}};Y(),S()},[]);const q=Y=>Y&&R.find(S=>S._id===Y)||null,H=Y=>Y&&F.find(S=>S._id===Y)||null;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"filters-grid",children:[r.jsx(Qg,{selectedCity:s,onChange:y}),r.jsx(Kg,{capacity:a,onChange:v}),r.jsx(Yg,{requiresParking:c,onChange:h}),r.jsx(Gg,{selectedEventType:p,onChange:Y=>{const S=q(Y);P(S)}}),r.jsx(Xg,{selectedVenueType:m,onChange:Y=>{const S=H(Y);C(S)}})]}),r.jsx(Jg,{serviceSearch:u,selectedServices:f,onSearchChange:T,onAddService:j,onRemoveService:N}),r.jsx("div",{className:"search-button-container",children:r.jsx("button",{className:"search-button",onClick:k,children:"Search Rooms"})})]})},ev=({room:s,onShowLocation:a,onShowContacts:c})=>{var h,T,j,N;const[u,f]=g.useState(!1),[p,m]=g.useState(!1),[y,v]=g.useState(!1);return r.jsx("div",{className:"room-card",children:r.jsxs("div",{className:"room-card-body",children:[r.jsx("h3",{className:"room-title",children:s.name}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Location:"})," ",((h=s.location)==null?void 0:h.name)||"Unknown"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"City:"})," ",(T=s.location)!=null&&T.city?s.location.city.charAt(0).toUpperCase()+s.location.city.slice(1):"Unknown"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Capacity:"})," ",s.maxCapacity," people"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Area:"})," ",s.mt2," m²"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Venue Type:"})," ",((j=s.venueType)==null?void 0:j.name)||"Unknown"]}),r.jsxs("p",{className:"room-info",children:[r.jsx("strong",{children:"Parking:"})," ",(N=s.location)!=null&&N.parkingInfo?"Yes":"No"]}),s.services&&s.services.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"room-services-title",children:"Room Services:"}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`room-services-list ${u?"expanded":"collapsed"}`,children:s.services.map(P=>r.jsx("span",{className:"room-service-tag",children:P.name},P._id))}),!u&&s.services.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.services.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>f(!u),children:u?"Show less":"Show more"})]})]}),s.locationServices&&s.locationServices.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"room-services-title",children:"Location Services:"}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`room-services-list ${p?"expanded":"collapsed"}`,children:s.locationServices.map(P=>r.jsx("span",{className:"room-service-tag",children:P.name},P._id))}),!p&&s.locationServices.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.locationServices.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>m(!p),children:p?"Show less":"Show more"})]})]}),s.eventTypes&&s.eventTypes.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"room-services-title",children:"Event Types:"}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`room-services-list ${y?"expanded":"collapsed"}`,children:s.eventTypes.map((P,C)=>r.jsx("span",{className:"room-service-tag",children:P.name},C))}),!y&&s.eventTypes.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.eventTypes.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>v(!y),children:y?"Show less":"Show more"})]})]}),r.jsxs("div",{className:"room-action-buttons",children:[r.jsx("button",{className:"action-button location-button",onClick:()=>a(s._id),children:"Show Location"}),r.jsx("button",{className:"action-button contacts-button",onClick:()=>c(s._id),children:"Show Contacts"})]})]})})},tv=({rooms:s,onShowLocation:a,onShowContacts:c})=>r.jsxs("div",{children:[r.jsxs("h2",{className:"results-title",children:["Results ",r.jsx("span",{className:"results-count",children:s.length})]}),r.jsxs("div",{className:"rooms-grid",children:[s.map(u=>r.jsx(ev,{room:u,onShowLocation:a,onShowContacts:c},u._id)),s.length===0&&r.jsx("p",{className:"no-results",children:"No rooms found matching your criteria."})]})]}),nv=({location:s})=>{const[a,c]=g.useState(!1),[u,f]=g.useState(!1),[p,m]=g.useState(!1),[y,v]=g.useState(!1);return r.jsxs("div",{className:"modal-location",children:[r.jsx("h2",{children:s.name}),r.jsxs("div",{className:"modal-info-grid",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"ID:"})," ",s._id]}),r.jsxs("p",{children:[r.jsx("strong",{children:"City:"})," ",s.city.charAt(0).toUpperCase()+s.city.slice(1)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Address:"})," ",s.address||"No address provided"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Parking Info:"})," ",s.parkingInfo||"No parking available"]}),s.venueType&&r.jsxs("p",{children:[r.jsx("strong",{children:"Venue Type:"})," ",s.venueType.name]}),s.eventTypes&&s.eventTypes.length>0&&r.jsxs("div",{className:"modal-event-types",children:[r.jsx("p",{children:r.jsx("strong",{children:"Event Types:"})}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`modal-services-list ${a?"expanded":"collapsed"}`,children:s.eventTypes.map((h,T)=>r.jsx("span",{className:"modal-service-tag",children:h.name},T))}),!a&&s.eventTypes.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.eventTypes.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>c(!a),children:a?"Show less":"Show more"})]})]}),s.rooms&&s.rooms.length>0&&r.jsxs("div",{className:"modal-rooms",children:[r.jsx("p",{children:r.jsx("strong",{children:"Rooms:"})}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`modal-services-list ${u?"expanded":"collapsed"}`,children:s.rooms.map((h,T)=>r.jsxs("div",{className:"modal-room-item",children:[r.jsxs("p",{children:[r.jsx("strong",{children:h.name})," - ",h.maxCapacity," capacity, ",h.mt2," m²"]}),h.serviceDetails&&h.serviceDetails.length>0&&r.jsx("div",{className:"room-service-details",children:r.jsxs("small",{children:["Services: ",h.serviceDetails.map(j=>j.name).join(", ")]})})]},T))}),!u&&s.rooms.length>2&&r.jsx("div",{className:"list-fade-gradient"}),s.rooms.length>2&&r.jsx("button",{className:"toggle-list-button",onClick:()=>f(!u),children:u?"Show less":"Show more"})]})]}),s.services&&s.services.length>0&&r.jsxs("div",{className:"modal-services",children:[r.jsx("p",{children:r.jsx("strong",{children:"Services:"})}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`modal-services-list ${p?"expanded":"collapsed"}`,children:s.services.map((h,T)=>r.jsx("span",{className:"modal-service-tag",children:h.name},T))}),!p&&s.services.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.services.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>m(!p),children:p?"Show less":"Show more"})]})]}),s.contacts&&s.contacts.length>0&&r.jsxs("div",{className:"modal-contacts",children:[r.jsx("p",{children:r.jsx("strong",{children:"Contacts:"})}),r.jsxs("div",{className:"expandable-list-container",children:[r.jsx("div",{className:`modal-services-list ${y?"expanded":"collapsed"}`,children:s.contacts.map((h,T)=>r.jsx("span",{className:"modal-service-tag",children:h.name||`Contact ${T+1}`},T))}),!y&&s.contacts.length>3&&r.jsx("div",{className:"list-fade-gradient"}),s.contacts.length>3&&r.jsx("button",{className:"toggle-list-button",onClick:()=>v(!y),children:y?"Show less":"Show more"})]})]})]})]})},rv=({location:s,contacts:a})=>{const c=typeof s=="object"&&s!==null?s.name||"Unknown Location":s||"Unknown Location";console.log("Contacts in modal:",a),console.log("Location in modal:",s);const u=Array.isArray(a)&&a.length>0;return r.jsxs("div",{className:"modal-contacts",children:[r.jsxs("h2",{children:["Contacts for ",c]}),u?r.jsx("div",{className:"contacts-list",children:a.map((f,p)=>r.jsxs("div",{className:"contact-card",children:[r.jsx("h3",{children:f.name||"Unnamed Contact"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Role:"})," ",f.role||"N/A"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," ",f.tel||"N/A"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",f.email||"N/A"]})]},f._id||`contact-${p}`))}):r.jsx("p",{className:"no-contacts",children:"No contacts available for this location."})]})},iv=({isOpen:s,modalType:a,roomId:c,onClose:u})=>{const[f,p]=g.useState([]),[m,y]=g.useState(null),[v,h]=g.useState(!1),[T,j]=g.useState(null);if(g.useEffect(()=>{(async()=>{if(!(!s||!c)){h(!0),j(null);try{if(a==="location"){const C=await Hg(c);console.log("Location data:",C),y(C)}if(a==="contacts"){const C=await qg(c);if(console.log("Contacts data:",C),Array.isArray(C)&&C.length>0){const k=C.map(R=>({_id:R._id||`contact-${Math.random()}`,name:R.name||"Unknown",role:R.role||"Unknown",tel:R.tel||R.phone||"",email:R.email||""}));p(k)}else console.warn("No contacts data found or invalid format:",C),p([])}}catch(C){console.error("Error fetching modal data:",C),j("Failed to load data")}finally{h(!1)}}})()},[s,a,c]),!s||!c)return null;if(v)return r.jsx("div",{className:"modal-overlay",onClick:u,children:r.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[r.jsx("button",{className:"modal-close-button",onClick:u,children:"×"}),r.jsx("div",{className:"loading-container",children:"Loading..."})]})});if(T)return r.jsx("div",{className:"modal-overlay",onClick:u,children:r.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[r.jsx("button",{className:"modal-close-button",onClick:u,children:"×"}),r.jsx("div",{className:"error-container",children:T})]})});const N=()=>{switch(a){case"location":return m?r.jsx(nv,{location:m}):r.jsx("div",{className:"error-container",children:"Location data not available"});case"contacts":return r.jsx(rv,{location:m||{name:"Unknown Location"},contacts:f});default:return r.jsx("div",{className:"error-container",children:"Unknown modal type"})}};return r.jsx("div",{className:"modal-overlay",onClick:u,children:r.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[r.jsx("button",{className:"modal-close-button",onClick:u,children:"×"}),N()]})})},sv=()=>{const[s,a]=g.useState(""),[c,u]=g.useState(""),[f,p]=g.useState(!1),[m,y]=g.useState(""),[v,h]=g.useState([]),[T,j]=g.useState(null),[N,P]=g.useState(null),[C,k]=g.useState([]),[R,z]=g.useState(!1),[F,Q]=g.useState(null),[q,H]=g.useState(1),[Y,S]=g.useState(1),[A,_]=g.useState(0),[W,J]=g.useState(!1),[ge,ce]=g.useState(null),[me,ye]=g.useState(null),[we,je]=g.useState({city:"",capacity:"",requiresParking:!1,serviceIds:[],eventType:"",venueType:""}),K=re=>{const de={_id:re._id,name:re.name};v.some(pe=>pe._id===de._id)||h([...v,de]),y("")},se=re=>{h(v.filter(de=>de._id!==re))},X=()=>{const re=v.map(pe=>pe._id).filter(pe=>pe),de={city:s,capacity:c===""?"":c.toString(),requiresParking:f,serviceIds:re,eventType:T?T._id:"",venueType:N?N._id:""};je(de),H(1),te(de,1)},b=re=>{H(re),te(we,re)},O=re=>{ce("location"),ye(re),J(!0)},ue=re=>{ce("contacts"),ye(re),J(!0)},M=()=>{J(!1),ye(null)},te=async(re,de)=>{z(!0),Q(null);try{const pe=await Wg(re,de);k(pe.rooms),H(pe.pagination.currentPage),S(pe.pagination.totalPages),_(pe.pagination.totalCount)}catch(pe){console.error("Failed to fetch rooms:",pe),Q("Failed to fetch rooms"),k([])}finally{z(!1)}},oe=()=>{if(Y<=1)return null;const re=[],de=5;let pe=Math.max(1,q-Math.floor(de/2));const _e=Math.min(Y,pe+de-1);_e-pe+1<de&&(pe=Math.max(1,_e-de+1)),re.push(r.jsx("button",{onClick:()=>b(Math.max(1,q-1)),disabled:q===1,className:"pagination-button",children:"«"},"prev")),pe>1&&(re.push(r.jsx("button",{onClick:()=>b(1),className:"pagination-button",children:"1"},1)),pe>2&&re.push(r.jsx("span",{className:"pagination-ellipsis",children:"..."},"ellipsis1")));for(let yt=pe;yt<=_e;yt++)re.push(r.jsx("button",{onClick:()=>b(yt),className:`pagination-button ${q===yt?"active":""}`,children:yt},yt));return _e<Y&&(_e<Y-1&&re.push(r.jsx("span",{className:"pagination-ellipsis",children:"..."},"ellipsis2")),re.push(r.jsx("button",{onClick:()=>b(Y),className:"pagination-button",children:Y},Y))),re.push(r.jsx("button",{onClick:()=>b(Math.min(Y,q+1)),disabled:q===Y,className:"pagination-button",children:"»"},"next")),r.jsxs("div",{className:"pagination-container",children:[re,r.jsxs("div",{className:"pagination-info",children:["Showing ",C.length," of ",A," results"]})]})};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"room-search-container fade-in",children:[r.jsx("h1",{className:"page-title",children:"Room Search"}),r.jsx(Zg,{selectedCity:s,capacity:c,requiresParking:f,serviceSearch:m,selectedServices:v,selectedEventType:T?T._id:"",selectedVenueType:N?N._id:"",onCityChange:a,onCapacityChange:u,onParkingChange:p,onServiceSearchChange:y,onAddService:K,onRemoveService:se,onEventTypeChange:j,onVenueTypeChange:P,onSearch:X}),R?r.jsx("div",{className:"loading-container",children:"Loading rooms..."}):F?r.jsx("div",{className:"error-container",children:F}):r.jsxs(r.Fragment,{children:[r.jsx(tv,{rooms:C,onShowLocation:O,onShowContacts:ue}),oe()]})]}),r.jsx("div",{children:r.jsx(iv,{isOpen:W,modalType:ge,roomId:me,onClose:M})})]})},lv=()=>r.jsx(sv,{}),av=()=>{const[s,a]=g.useState(null),[c,u]=g.useState(!1),[f,p]=g.useState(!1),m=gt(),y=Bt();g.useEffect(()=>{(async()=>{try{const j=await Vm();j&&a(j)}catch(j){console.error("Failed to fetch user:",j)}})()},[]),g.useEffect(()=>{u(!1),p(!1)},[y]);const v=async()=>{try{await Um(),a(null),m("/login")}catch(T){console.error("Failed to log out:",T),alert("Errore durante il logout. Riprova.")}},h=[{path:"/",label:"Dashboard",icon:"🏠"},{path:"/users",label:"Utenti",icon:"👥"},{path:"/locations",label:"Location",icon:"📍"},{path:"/reservations",label:"Prenotazioni",icon:"📅"},{path:"/refund-policies",label:"Politiche Rimborso",icon:"💰"},{path:"/scraping",label:"Importazione",icon:"🔄"}];return r.jsxs("div",{className:"app-layout",children:[r.jsx("header",{className:"app-header",children:r.jsxs("div",{className:"header-container",children:[r.jsxs("div",{className:"header-left",children:[r.jsxs("button",{className:"mobile-menu-toggle",onClick:()=>u(!c),"aria-label":"Toggle menu","aria-expanded":c,children:[r.jsx("span",{className:"hamburger-line"}),r.jsx("span",{className:"hamburger-line"}),r.jsx("span",{className:"hamburger-line"})]}),r.jsx("h1",{className:"app-title",children:"LocaTrova Admin"})]}),r.jsx("nav",{className:`main-nav ${c?"mobile-open":""}`,children:r.jsx("ul",{className:"nav-list",children:h.map(T=>r.jsx("li",{className:"nav-item",children:r.jsxs(zd,{to:T.path,className:({isActive:j})=>`nav-link ${j?"active":""}`,children:[r.jsx("span",{className:"nav-icon","aria-hidden":"true",children:T.icon}),r.jsx("span",{className:"nav-label",children:T.label})]})},T.path))})}),r.jsx("div",{className:"header-right",children:s&&r.jsxs("div",{className:"user-menu-container",children:[r.jsxs("button",{className:"user-menu-toggle",onClick:()=>p(!f),"aria-label":"User menu","aria-expanded":f,children:[r.jsx("div",{className:"user-avatar",children:(s.username||s.email||"U").charAt(0).toUpperCase()}),r.jsx("span",{className:"user-name",children:s.username||s.email}),r.jsx("svg",{className:`dropdown-arrow ${f?"open":""}`,width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:r.jsx("path",{d:"M2.5 4.5L6 8L9.5 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),f&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"dropdown-overlay",onClick:()=>p(!1),"aria-hidden":"true"}),r.jsxs("div",{className:"user-dropdown",children:[r.jsx("div",{className:"dropdown-header",children:r.jsxs("div",{className:"dropdown-user-info",children:[r.jsx("p",{className:"dropdown-username",children:s.username}),s.email&&r.jsx("p",{className:"dropdown-email",children:s.email})]})}),r.jsx("div",{className:"dropdown-divider"}),r.jsxs("button",{className:"dropdown-item logout-item",onClick:v,children:[r.jsxs("svg",{className:"dropdown-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[r.jsx("path",{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"}),r.jsx("path",{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),"Logout"]})]})]})]})})]})}),r.jsx("main",{className:"app-main",children:r.jsx("div",{className:"main-container",children:r.jsx(Kh,{})})})]})};function ov(){const[s,a]=g.useState(null);return g.useEffect(()=>{(async()=>{try{const c=await Ha();a(c.isAuthenticated)}catch{a(!1)}})()},[]),s===null?r.jsx("div",{className:"auth-loading",children:r.jsx("div",{className:"spinner",role:"status","aria-label":"Verifica autenticazione",children:r.jsx("span",{className:"sr-only",children:"Caricamento..."})})}):s?r.jsx(av,{}):r.jsx(Pd,{to:"/login",replace:!0})}function cv(){return r.jsxs(Gh,{children:[r.jsx(nt,{path:"/login",element:r.jsx(Bm,{})}),r.jsxs(nt,{element:r.jsx(ov,{}),children:[r.jsx(nt,{path:"/",element:r.jsx(bm,{})}),r.jsx(nt,{path:"/users",element:r.jsx(Zm,{})}),r.jsx(nt,{path:"/users/:userId",element:r.jsx(eg,{})}),r.jsx(nt,{path:"/locations",element:r.jsx(cg,{})}),r.jsx(nt,{path:"/locations/:locationId",element:r.jsx(ug,{})}),r.jsx(nt,{path:"/location/create",element:r.jsx(kg,{})}),r.jsx(nt,{path:"/reservations",element:r.jsx($g,{})}),r.jsx(nt,{path:"/reservation/:reservationId",element:r.jsx(Ug,{})}),r.jsx(nt,{path:"/refund-policies",element:r.jsx("div",{children:"Refund Policies Page - Coming Soon"})}),r.jsx(nt,{path:"/scraping",element:r.jsx(lv,{})})]}),r.jsx(nt,{path:"*",element:r.jsx(Pd,{to:"/",replace:!0})})]})}rh.createRoot(document.getElementById("root")).render(r.jsx(Gp.StrictMode,{children:r.jsx(jm,{basename:"/locatrova-admin-fe",children:r.jsx(cv,{})})}));
//# sourceMappingURL=index-DsSMA7nW.js.map
